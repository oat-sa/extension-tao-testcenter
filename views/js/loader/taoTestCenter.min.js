!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("lodash")):"function"==typeof define&&define.amd?define("core/format",["lodash"],factory):(global=global||self)["core/format"]=factory(global._)}(this,function(_){"use strict";_=_&&_.hasOwnProperty("default")?_.default:_;var pattern=/(%[sdj])/g;return function(message){var replacements=Array.prototype.slice.call(arguments,1);return _.reduce(message.match(pattern),function(acc,match,index){var replacement="";if(void 0!==replacements[index]){switch(match){case"%d":replacement=Number(replacements[index]);break;case"%j":try{replacement=JSON.stringify(
replacements[index]).replace(/"/g,"")}catch(e){}break;default:replacement=replacements[index]}message=message.replace(match,replacement)}return message},message)}}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("lodash"),require("context")):"function"==typeof define&&define.amd?define("util/url",["lodash","context"],factory):(global=global||self)["util/url"]=factory(global._,global.context)}(this,function(_,context){"use strict";_=_&&_.hasOwnProperty("default")?_.default:_,context=context&&context.hasOwnProperty("default")?context.default:context;var parsers={absolute:/^(?:[a-z]+:)?\/\//i,
base64:/^data:[^\/]+\/[^;]+(;charset=[\w]+)?;base64,/,query:/(?:^|&)([^&=]*)=?([^&]*)/g,url:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/};return{parse:function(url){var matches,keys=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","queryString","hash"],i=keys.length,parsed=Object.create({toString:function(){return this.source}});if(parsed.base64=parsers.base64.test(url),parsed.base64)parsed.source=url;else{for(matches=parsers.url.exec(url);i--;)parsed[keys[i]]=matches[i]||"";parsed.query={},
parsed.queryString.replace(parsers.query,function($0,$1,$2){$1&&(parsed.query[$1]=$2)})}return parsed},isAbsolute:function(url){return"object"==typeof url&&url.hasOwnProperty("source")?url.source!==url.relative:"string"==typeof url?parsers.absolute.test(url):void 0},isRelative:function(url){var absolute=this.isAbsolute(url);if("boolean"==typeof absolute)return!absolute},isBase64:function(url){return"object"==typeof url&&url.hasOwnProperty("source")?url.base64:"string"==typeof url?parsers.base64.test(url):void 0},encodeAsXmlAttr:function(uri){return/[<>&']+/.test(uri)?encodeURIComponent(uri):uri},build:function(path,params){var url,hasQueryString,
queryString="";return path&&(_.isString(path)&&(url=path),_.isArray(path)&&(url="",_.forEach(path,function(chunk){/\/$/.test(url)&&/^\//.test(chunk)?url+=chunk.substr(1):""===url||/\/$/.test(url)||/^\//.test(chunk)?url+=chunk:url+="/"+chunk})),_.isPlainObject(params)&&(hasQueryString=-1<url.indexOf("?"),queryString=_.reduce(params,function(acc,value,key){return _.isEmpty(acc)&&!hasQueryString||(acc+="&"),"object"!=typeof value||_.isArray(value)?acc+=encodeURIComponent(key)+"="+encodeURIComponent(value):_.forOwn(value,function(parameterValue,parameterName){acc+=encodeURIComponent(key)+"["+encodeURIComponent(parameterName)+"]="+encodeURIComponent(
parameterValue)+"&"}),acc},queryString),_.isEmpty(queryString)||(hasQueryString||(url+="?"),url+=queryString))),url},route:function(action,controller,extension,params,rootUrl){var routeParts=[extension,controller,action];if(_.some(routeParts,function(value){return _.isEmpty(value)||!_.isString(value)}))throw new TypeError("All parts are required to build an URL");return rootUrl=rootUrl||context&&context.root_url,this.build([rootUrl].concat(routeParts),params)}}}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("util/encode",factory):(global=global||self
)["util/encode"]=factory()}(this,function(){"use strict";var _reQuot=/"/g,_reApos=/'/g,encodeHTML=function(html){return document.createElement("a").appendChild(document.createTextNode(html)).parentNode.innerHTML};return{html:encodeHTML,attribute:function(html){return encodeHTML(html).replace(_reQuot,"&quot;").replace(_reApos,"&apos;")},encodeBase64:function(str){return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,function(match,p1){return String.fromCharCode("0x"+p1)}))},decodeBase64:function(str){return decodeURIComponent(Array.prototype.map.call(atob(str),function(c){return"%"+("00"+c.charCodeAt(0).toString(16)).slice(-2)}).join(""))}}}),
function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("core/promise",factory):(global=global||self)["core/promise"]=factory()}(this,function(){"use strict";return Promise}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("lib/uuid",factory):(global=global||self).uuid=factory()}(this,function(){"use strict";var CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return function(len,radix){var i,r,chars=CHARS,uuid=[];if(
radix=radix||chars.length,len)for(i=0;i<len;i++)uuid[i]=chars[0|Math.random()*radix];else for(uuid[8]=uuid[13]=uuid[18]=uuid[23]="-",uuid[14]="4",i=0;i<36;i++)uuid[i]||(r=0|16*Math.random(),uuid[i]=chars[19===i?3&r|8:r]);return uuid.join("")}}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("lodash"),require("core/format"),require("core/promise")):"function"==typeof define&&define.amd?define("core/logger/api",["lodash","core/format","core/promise"],factory):(global=global||self)["core/logger/api"]=factory(global._,global["core/format"],global["core/promise"])}(this,function(_,format,Promise){
"use strict";_=_&&_.hasOwnProperty("default")?_.default:_,format=format&&format.hasOwnProperty("default")?format.default:format,Promise=Promise&&Promise.hasOwnProperty("default")?Promise.default:Promise;function loggerFactory(name,minLevel,fields){var baseRecord,logger;if(!_.isString(name)||_.isEmpty(name))throw new TypeError("A logger needs a name");return _.isPlainObject(minLevel)&&"undefined"==typeof field&&(fields=minLevel,minLevel=defaultLevel),baseRecord=_.defaults(fields||{},{name:name,pid:1,hostname:navigator.userAgent}),logger={log:function(level,recordFields,message){var record,err,rest=[],time=(new Date).toISOString();if(
!1!==loggerFactory.providers&&checkMinLevel(minLevel||defaultLevel,level))return rest=_.isString(recordFields)||recordFields instanceof Error?(message=recordFields,recordFields={},[].slice.call(arguments,2)):[].slice.call(arguments,3),record={level:getLevel(level),v:0,time:time},checkMinLevel(levels.error,level)||message instanceof Error?(err=message instanceof Error?message:(message=_.isObject(message)?JSON.stringify(message):message,new Error(message)),record.msg=err.message,record.err=err):record.msg=format.apply(null,[message].concat(rest)),_.merge(record,baseRecord,recordFields),logQueue.push(record),loggerFactory.flush(),this},level:function(value){
return void 0!==value?(minLevel=getLevelNum(value),this):getLevel(minLevel)},child:function(childFields){return loggerFactory(name,minLevel,_.defaults(childFields,baseRecord))}},_.reduce(levels,function(target,level,levelName){return target[levelName]=_.partial(logger.log,level),target},logger)}var defaultLevel="info",levels={fatal:60,error:50,warn:40,info:30,debug:20,trace:10},logQueue=[],getLevel=function(level){return void 0===level||_.isString(level)&&!_.has(levels,level)?defaultLevel:_.isNumber(level)?_.findKey(levels,function(l){return l===level})||defaultLevel:level},getLevelNum=function(level){return _.isString(level)&&_.has(levels,level
)?levels[level]:_.isNumber(level)&&_.contains(levels,level)?level:levels[defaultLevel]},checkMinLevel=function(minLevel,level){return getLevelNum(level)>=getLevelNum(minLevel)};return loggerFactory.levels=levels,loggerFactory.providers=!1,loggerFactory.load=function(providerConfigs){var self=this,modules=[];return this.providers=[],new Promise(function(resolve,reject){_.forEach(providerConfigs,function(providerConfig,providerName){modules.push(providerName)}),require(modules,function(){var loadedProviders=[].slice.call(arguments);_.forEach(loadedProviders,function(provider,moduleKey){try{self.register(provider,providerConfigs[modules[moduleKey]])}catch(err){
reject(err)}}),self.flush(),resolve()},reject)})},loggerFactory.register=function(provider,providerConfig){if(!_.isPlainObject(provider)||!_.isFunction(provider.log))throw new TypeError("A log provider is an object with a log method");provider.checkMinLevel=checkMinLevel,_.isFunction(provider.setConfig)&&provider.setConfig(providerConfig),this.providers=this.providers||[],this.providers.push(provider)},loggerFactory.flush=function(){_.isArray(this.providers)&&0<this.providers.length&&(_.forEach(logQueue,function(message){_.forEach(loggerFactory.providers,function(provider){provider.log.call(provider,message)})}),logQueue=[])},
loggerFactory.setDefaultLevel=function(level){return defaultLevel=getLevel(level)},loggerFactory}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("lodash"),require("module"),require("core/logger/api")):"function"==typeof define&&define.amd?define("core/logger",["lodash","module","core/logger/api"],factory):(global=global||self)["core/logger"]=factory(global._,global.module,global["core/logger/api"])}(this,function(_,module,loggerFactory){"use strict";_=_&&_.hasOwnProperty("default")?_.default:_,module=module&&module.hasOwnProperty("default")?module.default:module;var defaultConfig={level:(
loggerFactory=loggerFactory&&loggerFactory.hasOwnProperty("default")?loggerFactory.default:loggerFactory).levels.warn,loggers:{"core/logger/console":{level:"warn"}}},config=_.defaults(module.config()||{},defaultConfig),logger=loggerFactory("core/logger");return loggerFactory.setDefaultLevel(config.level),loggerFactory.load(config.loggers),window.onerror=function(msg,url,line,col,error){logger.error("Caught[via window.onerror]: '"+msg+"' from "+url+":"+line+":"+col)},window.setTaoLogLevel=function(level){return loggerFactory.setDefaultLevel(level)},loggerFactory}),function(global,factory){
"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("lodash"),require("core/promise"),require("lib/uuid"),require("core/logger")):"function"==typeof define&&define.amd?define("core/eventifier",["lodash","core/promise","lib/uuid","core/logger"],factory):(global=global||self)["core/eventifier"]=factory(global._,global["core/promise"],global["lib/uuid"],global["core/logger"])}(this,function(_,Promise,uuid,loggerFactory){"use strict";_=_&&_.hasOwnProperty("default")?_.default:_,Promise=Promise&&Promise.hasOwnProperty("default")?Promise.default:Promise,uuid=uuid&&uuid.hasOwnProperty("default")?uuid.default:uuid,
loggerFactory=loggerFactory&&loggerFactory.hasOwnProperty("default")?loggerFactory.default:loggerFactory;var defaultNs="@",eventifierLogger=loggerFactory("core/eventifier");function getEventNames(eventNames){return!_.isString(eventNames)||_.isEmpty(eventNames)?[]:_(eventNames.split(/\s/g)).compact().uniq().value()}function getName(eventName){return-1<eventName.indexOf(".")?eventName.substr(0,eventName.indexOf(".")):eventName}function getNamespace(eventName){return-1<eventName.indexOf(".")?eventName.substr(eventName.indexOf(".")+1):defaultNs}return function(target){var targetName,logger,stoppedEvents,eventHandlers={},getHandlers=function(eventName,type){
var name=getName(eventName),ns=getNamespace(eventName);return type=type||"between",eventHandlers[ns]=eventHandlers[ns]||{},eventHandlers[ns][name]=eventHandlers[ns][name]||{before:[],between:[],after:[]},eventHandlers[ns][name][type]},eventApi={on:function(eventNames,handler){return _.isFunction(handler)&&_.forEach(getEventNames(eventNames),function(eventName){getHandlers(eventName).push(handler)}),this},off:function(eventNames){return _.forEach(getEventNames(eventNames),function(eventName){var offNamespaces,name=getName(eventName),ns=getNamespace(eventName);ns&&!name?"*"===ns?((offNamespaces={})[defaultNs]=eventHandlers[defaultNs],
eventHandlers=offNamespaces):eventHandlers[ns]={}:_.forEach(eventHandlers,function(nsHandlers,namespace){!nsHandlers[name]||ns!==defaultNs&&ns!==namespace||(nsHandlers[name]={before:[],between:[],after:[]})})}),this},removeAllListeners:function(){return eventHandlers={},this},trigger:function(eventNames){var self=this,args=[].slice.call(arguments,1);function triggerBetween(allHandlers,event){shouldStop(event.name)?logHandlerStop("before",event):triggerHandlers(allHandlers.between,event).then(function(){!function(handlers,event){shouldStop(event.name)?logHandlerStop("on",event):triggerHandlers(handlers,event).then(function(){shouldStop(event.name
)&&logHandlerStop("after",event)}).catch(function(err){logHandlerStop("after",event,err)})}(allHandlers.after,event)}).catch(function(err){logHandlerStop("on",event,err)})}function triggerHandlers(handlers,event){var pHandlers;return pHandlers=handlers.map(function(handler){return shouldStop(event.name)?Promise.reject():handler.apply(self,args)}),Promise.all(pHandlers)}function logHandlerStop(stoppedIn,event,err){err instanceof Error&&logger.error(err),logger.trace({err:err,event:event.name,stoppedIn:stoppedIn},event.name+" handlers stopped")}function shouldStop(name){return stoppedEvents[name]}return stoppedEvents={},_.forEach(getEventNames(eventNames),
function(eventName){var ns=getNamespace(eventName),name=getName(eventName),mergedHandlers=_(eventHandlers).filter(function(nsHandlers,namespace){return nsHandlers[name]&&(ns===defaultNs||ns===namespace||"*"===namespace)}).reduce(function(acc,nsHandlers){return acc.before=acc.before.concat(nsHandlers[name].before),acc.between=acc.between.concat(nsHandlers[name].between),acc.after=acc.after.concat(nsHandlers[name].after),acc},{before:[],between:[],after:[]});logger.trace({event:eventName,args:args},"trigger %s",eventName),mergedHandlers&&function(allHandlers,name,ns){var event={name:name,namespace:ns};allHandlers.before.length?function(handlers,event){
var pHandlers,beforeArgs=args.slice();return beforeArgs.unshift(event),pHandlers=handlers.map(function(handler){var value=!shouldStop(event.name)&&handler.apply(self,beforeArgs);return!1===value?Promise.reject():value}),Promise.all(pHandlers)}(allHandlers.before,event).then(function(){triggerBetween(allHandlers,event)}).catch(function(err){logHandlerStop("before",event,err)}):triggerBetween(allHandlers,event)}(mergedHandlers,name,ns)}),this},before:function(eventNames,handler){return _.isFunction(handler)&&_.forEach(getEventNames(eventNames),function(eventName){getHandlers(eventName,"before").push(handler)}),this},after:function(eventNames,handler){
return _.isFunction(handler)&&_.forEach(getEventNames(eventNames),function(eventName){getHandlers(eventName,"after").push(handler)}),this},stopEvent:function(name){_.isString(name)&&!_.isEmpty(name.trim())&&(stoppedEvents[name.trim()]=!0)},spread:function(destination,eventNames){var self=this;return destination&&_.isFunction(destination.trigger)&&(_.isString(eventNames)&&(eventNames=getEventNames(eventNames)),_.forEach(eventNames,function(eventName){self.on(eventName,function(){var args=[eventName].concat([].slice.call(arguments));destination.trigger.apply(destination,args)})})),this}};return targetName=(target=target||{}
).name||target.id||target.serial||uuid(6),logger=eventifierLogger.child({target:targetName}),_(eventApi).functions().forEach(function(method){_.isFunction(target[method])&&eventifierLogger.warn("The target object has already a method named "+method,target),target[method]=function(){var args=[].slice.call(arguments);return eventApi[method].apply(target,args)}}),target}}),define("css!ui/component/css/components",[],function(){}),define("ui/component",["jquery","lodash","core/eventifier","handlebars","i18n","lib/dompurify/purify","css!ui/component/css/components.css"],function($$1,_,eventifier,Handlebars,__,DOMPurify,components_css){"use strict"
;function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment="";null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"==typeof value&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(
fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(
haystack,needle))return options.fn(this)})}$$1=$$1&&$$1.hasOwnProperty("default")?$$1.default:$$1,_=_&&_.hasOwnProperty("default")?_.default:_,eventifier=eventifier&&eventifier.hasOwnProperty("default")?eventifier.default:eventifier,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,__=__&&__.hasOwnProperty("default")?__.default:__,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],
helpers=this.merge(helpers,Handlebars.helpers),'<div class="component"></div>'});function defaultTpl(data,options,asString){var html=Template(data,options);return html}var _slice=[].slice;function delegatedResize(){var width=this.config.width,height=this.config.height,$container=this.getContainer(),$element=this.getElement();$container&&("auto"===width&&(width=$container.width()),"auto"===height&&(height=$container.height())),$element&&(_.isNumber(width)&&$element.css({width:width+"px"}),_.isNumber(height)&&$element.css({height:height+"px"})),this._width=width,this._height=height}return function(specs,defaults){var $container,componentTpl=defaultTpl,
componentState={},componentApi={init:function(config){return this.config=_(config||{}).omit(function(value){return null==value}).defaults(defaults||{}).value(),componentState={},this.trigger("init"),this.config.renderTo&&($container=$$1(this.config.renderTo),this.render()),this},destroy:function(){return this.trigger("destroy"),this.$component&&this.$component.remove(),this.$component=null,componentState={},this},render:function(container){return container&&($container=$$1(container)),this.$component=$$1(componentTpl(this.config)),$container&&(this.config.replace&&$container.empty(),$container.append(this.$component)),this.setState("rendered",!0),
delegatedResize.call(this),this.trigger("render",this.$component),this},setSize:function(width,height){return this.config.width=width,this.config.height=height,this.is("rendered")&&delegatedResize.call(this),this.trigger("setsize",width,height),this},getSize:function(){if(this.is("rendered"))return{width:this._width||0,height:this._height||0}},getOuterSize:function(includeMargin){var $component;if(this.is("rendered"))return $component=this.getElement(),includeMargin=includeMargin||!1,{width:Math.round($component.outerWidth(includeMargin)),height:Math.round($component.outerHeight(includeMargin))}},show:function(){return this.trigger("show",this),
this.setState("hidden",!1)},hide:function(){return this.trigger("hide",this),this.setState("hidden",!0)},enable:function(){return this.trigger("enable",this),this.setState("disabled",!1)},disable:function(){return this.trigger("disable",this),this.setState("disabled",!0)},is:function(state){return!!componentState[state]},setState:function(state,flag){return flag=!!flag,componentState[state]=flag,this.$component&&this.$component.toggleClass(state,flag),this.trigger("state",state,flag,this),this},getContainer:function(){return $container},getElement:function(){return this.$component},getTemplate:function(){return componentTpl},setTemplate:function(template){
var tpl=template||defaultTpl;return componentTpl=tpl,_.isFunction(componentTpl)||(componentTpl=function(){return tpl}),this.trigger("template",componentTpl),this},getConfig:function(){return this.config||defaults||{}}};return specs&&_(specs).functions().forEach(function(method){componentApi[method]=function(){return specs[method].apply(componentApi,_slice.call(arguments))}}),eventifier(componentApi)}}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("util/regexEscape",factory):(global=global||self)["util/regexEscape"]=factory()}(this,function(){"use strict"
;return function(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("util/regexEscape")):"function"==typeof define&&define.amd?define("util/wrapLongWords",["util/regexEscape"],factory):(global=global||self)["util/wrapLongWords"]=factory(global["util/regexEscape"])}(this,function(regexEscape){"use strict";regexEscape=regexEscape&&regexEscape.hasOwnProperty("default")?regexEscape.default:regexEscape;var getCutTerm=function(longWord,chunkExp){for(var cutTerms=longWord.match(chunkExp),i=cutTerms.length,oldFirst="",newFirst="",offenders=[".",":",";"
];i--;)newFirst=cutTerms[i].charAt(0),-1<offenders.indexOf(newFirst)&&(cutTerms[i]=cutTerms[i].substr(1)),-1<offenders.indexOf(oldFirst)&&(cutTerms[i]=cutTerms[i]+oldFirst),oldFirst=newFirst;return cutTerms.join(" ")};return function(str,threshold){str=str.toString().replace(/([\w])</g,"$1 <");for(var cut,chunkExp=new RegExp(".{1,"+threshold+"}","g"),longWords=str.match(new RegExp("[\\S]{"+threshold+",}","g"))||[],i=longWords.length;i--;)cut=getCutTerm(longWords[i],chunkExp),str=str.replace(new RegExp(regexEscape(longWords[i]),"g"),cut);return str}}),define("ui/feedback",["jquery","lodash","core/format","ui/component","util/wrapLongWords","util/encode",
"handlebars","i18n","lib/dompurify/purify"],function($$1,_,format,component,wrapLongWords,encode,Handlebars,__,DOMPurify){"use strict";function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment=""
;null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"==typeof value&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this
):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}$$1=$$1&&$$1.hasOwnProperty("default")?$$1.default:$$1,_=_&&_.hasOwnProperty("default")?_.default:_,format=format&&format.hasOwnProperty("default")?format.default:format,component=component&&component.hasOwnProperty("default")?component.default:component,wrapLongWords=wrapLongWords&&wrapLongWords.hasOwnProperty("default")?wrapLongWords.default:wrapLongWords,encode=encode&&encode.hasOwnProperty("default")?encode.default:encode,
Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,__=__&&__.hasOwnProperty("default")?__.default:__,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing;return buffer+='<div id="',buffer+=escapeExpression(stack1=(helper=helpers.id
)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.id)?helper.call(depth0,{hash:{},data:data}):helper)+'" class="feedback feedback-',buffer+=escapeExpression(stack1=(helper=helpers.level)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.level)?helper.call(depth0,{hash:{},data:data}):helper)+" ",!(stack1=helpers.if.call(depth0,depth0&&depth0.popup,{hash:{},inverse:this.noop,fn:this.program(1,function(depth0,data){return"popup"},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='">\n    <span class="icon-',buffer+=escapeExpression(stack1=(helper=helpers.level)?helper.call(depth0,{hash:{},
data:data}):"function"==typeof(helper=depth0&&depth0.level)?helper.call(depth0,{hash:{},data:data}):helper)+'"></span>\n    <div>\n        ',options={hash:{},data:data},!(stack1=(helper=helpers.dompurify||depth0&&depth0.dompurify)?helper.call(depth0,depth0&&depth0.msg,options):helperMissing.call(depth0,"dompurify",depth0&&depth0.msg,options))&&0!==stack1||(buffer+=stack1),buffer+='\n    </div>\n    <span title="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Close message",options):helperMissing.call(depth0,"__","Close message",options))
)+'" class="icon-close" data-close=":parent .feedback"></span>\n</div>\n'});function tpl(data,options,asString){var html=Template(data,options);return html}var currents=[],levels=["info","success","warning","danger","error"],defaultOptions={timeout:{info:2e3,success:2e3,warning:4e3,danger:4e3,error:8e3},wrapLongWordsAfter:40,encodeHtml:!0,popup:!0};return function($container,config){if($container&&$container.length||($container=$$1("#feedback-box")),!$container.length)throw new TypeError("The feedback needs to belong to an existing container");return component({message:function(level,msg,params,options){var displayedMessage=msg;return level&&_.contains(
levels,level)||(level="info"),_.isPlainObject(params)&&(options=params,params=[]),this.config=_.defaults(options||{},this.config),this.config.level=level,this.config.encodeHtml&&(displayedMessage=encode.html(displayedMessage)),this.config.wrapLongWordsAfter&&(displayedMessage=wrapLongWords(displayedMessage,this.config.wrapLongWordsAfter)),_.isArray(params)&&params.length&&(displayedMessage=format.apply(format,[displayedMessage].concat(params))),this.config.msg=displayedMessage,this},info:function(msg,params,options){return this.message("info",msg,params,options).open()},success:function(msg,params,options){return this.message("success",msg,params,options
).open()},warning:function(msg,params,options){return this.message("warning",msg,params,options).open()},danger:function(msg,params,options){return this.message("danger",msg,params,options).open()},error:function(msg,params,options){return this.message("error",msg,params,options).open()},open:function(){return _(currents).reject(this).invoke("close"),this.display()},close:function(){this.is("rendered")&&this.destroy()},display:function(){return this.is("rendered")?this.show():this.render($container),this}},defaultOptions).setTemplate(tpl).on("init",function(){this.config.id="feedback-"+(currents.length+1),currents.push(this),$container.trigger(
"create.feedback")}).on("render",function(){var self=this,$component=this.getElement(),$closer=$$1(".icon-close",$component),timeout=_.isPlainObject(this.config.timeout)?this.config.timeout[this.config.level]:this.config.timeout;$closer.off("click").on("click",function(e){e.preventDefault(),self.destroy()}),_.isNumber(timeout)&&0<timeout&&_.delay(function(){self.close()},timeout),$container.trigger("display.feedback")}).on("destroy",function(){$container.trigger("close.feedback"),_.remove(currents,this)}).init(config)}}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("lodash")
):"function"==typeof define&&define.amd?define("util/namespace",["lodash"],factory):(global=global||self)["util/namespace"]=factory(global._)}(this,function(_){"use strict";_=_&&_.hasOwnProperty("default")?_.default:_;var reSplit=/\s/g,namespaceHelper={split:function(names,normalize){return!_.isString(names)||_.isEmpty(names)?[]:(normalize&&(names=names.toLowerCase()),_(names.trim().split(reSplit)).compact().uniq().value())},getName:function(namespaced){return!_.isString(namespaced)||_.isEmpty(namespaced)?"":-1<namespaced.indexOf(".")?namespaced.substr(0,namespaced.indexOf(".")):namespaced},getNamespace:function(namespaced,defaultNs){return!_.isString(
namespaced)||_.isEmpty(namespaced)?"":-1<namespaced.indexOf(".")?namespaced.substr(namespaced.indexOf(".")+1):defaultNs||"@"},namespaceAll:function(names,namespace,normalize){var suffix;return _.isArray(names)||(names=namespaceHelper.split(names,normalize)),normalize&&(namespace=namespace.toLowerCase()),suffix=namespace?"."+namespace:"",_(names).map(function(sh){return sh.indexOf(".")<0?sh+suffix:sh}).compact().uniq().value().join(" ")}};return namespaceHelper}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("jquery"),require("lodash"),require("util/namespace")
):"function"==typeof define&&define.amd?define("util/shortcut/registry",["jquery","lodash","util/namespace"],factory):(global=global||self)["util/shortcut/registry"]=factory(global.$,global._,global["util/namespace"])}(this,function($,_,namespaceHelper){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_,namespaceHelper=namespaceHelper&&namespaceHelper.hasOwnProperty("default")?namespaceHelper.default:namespaceHelper;var modifiers={ctrl:"ctrlKey",alt:"altKey",option:"altKey",shift:"shiftKey",meta:"metaKey",cmd:"metaKey",win:"metaKey"},translateKeys={escape:"esc",arrowdown:"down",arrowleft:"left",
arrowright:"right",arrowup:"up"},specialKeys={8:"backspace",9:"tab",13:"enter",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",91:"meta",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",145:"scrolllock",144:"numlock"};function registerEvent(target,eventName,listener){target.addEventListener?target.addEventListener(eventName,listener,!1):target.attachEvent?target.attachEvent("on"+eventName,listener):target["on"+eventName]=listener}function unregisterEvent(target,eventName,listener){
target.removeEventListener?target.removeEventListener(eventName,listener,!1):target.detachEvent?target.detachEvent("on"+eventName,listener):target["on"+eventName]=null}function normalizeCommand(descriptor){var key=translateKeys[descriptor.key]||descriptor.key,parts=[];return descriptor.ctrlKey&&parts.push("control"),descriptor.altKey&&parts.push("alt"),descriptor.shiftKey&&parts.push("shift"),descriptor.metaKey&&parts.push("meta"),descriptor.scrollDown&&parts.push("scrollDown"),descriptor.scrollUp&&parts.push("scrollUp"),descriptor.clickLeft&&parts.push("clickLeft"),descriptor.clickRight&&parts.push("clickRight"),descriptor.clickMiddle&&parts.push(
"clickMiddle"),descriptor.clickBack&&parts.push("clickBack"),descriptor.clickForward&&parts.push("clickForward"),key&&parts.indexOf(key)<0&&parts.push(key),parts.join("+")}function parseCommand(shortcut){var parts=namespaceHelper.getName(shortcut).split("+"),descriptor={keyboardInvolved:!1,mouseClickInvolved:!1,mouseWheelInvolved:!1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,key:null,scrollUp:null,scrollDown:null,clickLeft:null,clickRight:null,clickMiddle:null,clickBack:null,clickForward:null};return _.forEach(parts,function(part){if(modifiers[part])descriptor[modifiers[part]]=!0;else if(0<=part.indexOf("mouse")){if(descriptor.keyboardInvolved
)throw new Error("A shortcut cannot involve both mouse and regular keys!");0<=part.indexOf("scroll")&&(descriptor.mouseWheelInvolved=!0,descriptor.scrollUp=0<=part.indexOf("up"),descriptor.scrollDown=0<=part.indexOf("down")),0<=part.indexOf("click")&&(descriptor.mouseClickInvolved=!0,descriptor.clickLeft=0<=part.indexOf("left"),descriptor.clickRight=0<=part.indexOf("right"),descriptor.clickMiddle=0<=part.indexOf("middle"),descriptor.clickBack=0<=part.indexOf("back"),descriptor.clickForward=0<=part.indexOf("forward"))}else{if(descriptor.mouseClickInvolved||descriptor.mouseWheelInvolved)throw new Error("A shortcut cannot involve both mouse and regular keys!")
;descriptor.keyboardInvolved=!0,descriptor.key=part}}),descriptor}return function(root,defaultOptions){var keyboardIsRegistered=!1,mouseClickIsRegistered=!1,mouseWheelIsRegistered=!1,keyboardCount=0,mouseClickCount=0,mouseWheelCount=0,shortcuts={},handlers={},states={};function getHandlers(command,namespace){return handlers[namespace]=handlers[namespace]||{},handlers[namespace][command]=handlers[namespace][command]||[],handlers[namespace][command]}function getCommandHandlers(command){return _.reduce(handlers,function(acc,nsHandlers){return nsHandlers[command]&&(acc=acc.concat(nsHandlers[command])),acc},[])}function setOptions(descriptor,options){
descriptor.options=_.defaults(_.merge(descriptor.options||{},options),defaultOptions)}function unregisterKeyboard(){--keyboardCount<=0&&(keyboardCount=0,keyboardIsRegistered&&(unregisterEvent(root,"keydown",onKeyboard),keyboardIsRegistered=!1))}function unregisterMouseClick(){--mouseClickCount<=0&&(mouseClickCount=0,mouseClickIsRegistered&&(unregisterEvent(root,"click",onMouseClick),mouseClickIsRegistered=!1))}function unregisterMouseWheel(){--mouseWheelCount<=0&&(mouseWheelCount=0,mouseWheelIsRegistered&&(unregisterEvent(root,"wheel",onMouseWheel),mouseWheelIsRegistered=!1))}function registerCommand(command,descriptor){(shortcuts[command]=descriptor
).keyboardInvolved&&(keyboardIsRegistered||(registerEvent(root,"keydown",onKeyboard),keyboardIsRegistered=!0),keyboardCount++),descriptor.mouseClickInvolved&&(mouseClickIsRegistered||(registerEvent(root,"click",onMouseClick),mouseClickIsRegistered=!0),mouseClickCount++),descriptor.mouseWheelInvolved&&(mouseWheelIsRegistered||(registerEvent(root,"wheel",onMouseWheel),mouseWheelIsRegistered=!0),mouseWheelCount++)}function onKeyboard(event){processShortcut(event,{keyboardInvolved:!0,ctrlKey:event.ctrlKey,altKey:event.altKey,shiftKey:event.shiftKey,metaKey:event.metaKey,key:function(event){var code=event.which||event.keyCode,
character=32<=code?String.fromCharCode(code).toLowerCase():"",key=event.key&&event.key.toLowerCase(),keyName=event.code&&event.code.toLowerCase();return keyName&&(0===keyName.indexOf("key")?(key<"a"||"z"<key)&&"a"<=character&&character<="z"&&(key=character):0===keyName.indexOf("digit")&&(key=keyName.substr(5))),specialKeys[code]||key||character}(event)})}function onMouseClick(event){processShortcut(event,_.merge({mouseClickInvolved:!0,ctrlKey:event.ctrlKey,altKey:event.altKey,shiftKey:event.shiftKey,metaKey:event.metaKey},function(event){var buttons={clickLeft:!1,clickRight:!1,clickMiddle:!1,clickBack:!1,clickForward:!1};if(event.buttons
)buttons.clickLeft=!!(1&event.buttons),buttons.clickRight=!!(2&event.buttons),buttons.clickMiddle=!!(4&event.buttons),buttons.clickBack=!!(8&event.buttons),buttons.clickForward=!!(16&event.buttons);else switch(event.button){case 0:buttons.clickLeft=!0;break;case 1:buttons.clickMiddle=!0;break;case 2:buttons.clickRight=!0;break;case 3:buttons.clickBack=!0;break;case 4:buttons.clickForward=!0}return buttons}(event)))}function onMouseWheel(event){processShortcut(event,_.merge({mouseClickInvolved:!0,ctrlKey:event.ctrlKey,altKey:event.altKey,shiftKey:event.shiftKey,metaKey:event.metaKey},function(event){return{scrollUp:event.deltaY<0,scrollDown:0<event.deltaY}}(
event)))}function processShortcut(event,descriptor){var shortcutHandlers,$target,command=normalizeCommand(descriptor),shortcut=shortcuts[command];if(shortcut&&!states.disabled){if(!0===shortcut.options.avoidInput&&($target=$(event.target)).closest('[type="text"],textarea').length&&(!shortcut.options.allowIn||!$target.closest(shortcut.options.allowIn).length))return;!1===shortcut.options.propagate&&event.stopPropagation(),!0===shortcut.options.prevent&&event.preventDefault(),(shortcutHandlers=getCommandHandlers(command))&&_.forEach(shortcutHandlers,function(handler){handler(event,command)})}}return root.jquery&&(root=root.get(0)),{set:function(shortcut,
options){return _.forEach(namespaceHelper.split(shortcut,!0),function(normalized){var descriptor=parseCommand(normalized),command=normalizeCommand(descriptor);setOptions(descriptor,options),registerCommand(command,descriptor)}),this},add:function(shortcut,handler,options){return _.isFunction(handler)&&_.forEach(namespaceHelper.split(shortcut,!0),function(normalized){var namespace=namespaceHelper.getNamespace(normalized,"*"),descriptor=parseCommand(normalized),command=normalizeCommand(descriptor);setOptions(descriptor,options),registerCommand(command,descriptor),getHandlers(command,namespace).push(handler)}),this},remove:function(shortcut){return _.forEach(
namespaceHelper.split(shortcut,!0),function(normalized){var namespace=namespaceHelper.getNamespace(normalized,"*"),command=normalizeCommand(parseCommand(normalized));!function(command,namespace){namespace&&!command?handlers[namespace]={}:_.forEach(handlers,function(nsHandlers,ns){!nsHandlers[command]||"*"!==namespace&&namespace!==ns||(nsHandlers[command]=[])})}(command,namespace),getCommandHandlers(command).length||function(command){var descriptor=shortcuts[command];shortcuts[command]=null,descriptor&&(descriptor.keyboardInvolved&&unregisterKeyboard(),descriptor.mouseClickInvolved&&unregisterMouseClick(),descriptor.mouseWheelInvolved&&unregisterMouseWheel())
}(command)}),this},exists:function(shortcut){var normalized=String(shortcut).trim().toLowerCase(),namespace=namespaceHelper.getNamespace(normalized,"*"),command=normalizeCommand(parseCommand(normalized)),shortcutExists=!1;return shortcuts[command]?shortcutExists="*"===namespace||!!getHandlers(command,namespace).length:command||(shortcutExists=!_.isEmpty(handlers[namespace])),shortcutExists},clear:function(){return shortcuts={},handlers={},mouseWheelCount=mouseClickCount=keyboardCount=0,unregisterKeyboard(),unregisterMouseClick(),unregisterMouseWheel(),this},getState:function(name){return!!states[name]},setState:function(name,state){
return states[name]=!!state,this},enable:function(){return this.setState("disabled",!1),this},disable:function(){return this.setState("disabled",!0),this}}}}),define("ui/keyNavigation/navigator",["jquery","lodash","core/eventifier","util/shortcut/registry"],function($,_,eventifier,shortcutRegistry){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_,eventifier=eventifier&&eventifier.hasOwnProperty("default")?eventifier.default:eventifier,shortcutRegistry=shortcutRegistry&&shortcutRegistry.hasOwnProperty("default")?shortcutRegistry.default:shortcutRegistry;var _navigationGroups={},_ns=".ui-key-navigator",
_defaults={defaultPosition:0,keepState:!1,replace:!1,loop:!1,propagateTab:!0},keyNavigatorFactory=function(config){var id,navigables,keyNavigator,$group,_cursor={position:-1,navigable:null},getCurrentCursor=function(){var isFocused=!1;return document.activeElement&&_.forEach(navigables,function(navigable,index){if(navigable.isVisible()&&navigable.isEnabled()&&(document.activeElement===navigable.getElement().get(0)||(!$(document.activeElement).hasClass("key-navigation-highlight")||$(document.activeElement).data("key-navigatior-id")!==id)&&$.contains(navigable.getElement().get(0),document.activeElement)))return _cursor.position=index,
_cursor.navigable=navigable,!(isFocused=!0)}),isFocused?_cursor:null},getClosestPositionRight=function(fromPosition){var pos;for(pos=fromPosition;pos<navigables.length;pos++)if(navigables[pos]&&navigables[pos].isVisible()&&navigables[pos].isEnabled())return pos;return-1},getClosestPositionLeft=function(fromPosition){var pos;for(pos=fromPosition;0<=pos;pos--)if(navigables[pos]&&navigables[pos].isVisible()&&navigables[pos].isEnabled())return pos;return-1};if(config=_.defaults(config||{},_defaults),id=config.id||_.uniqueId("navigator_"),navigables=config.elements||[],_navigationGroups[id]){if(!config.replace)throw new TypeError(
"the navigation group id is already in use : "+id);_navigationGroups[id].destroy()}if(_.each(navigables,function(navigable){navigable.init(),navigable.getElement().data("key-navigatior-id",id)}),config.group){if(!($group=$(config.group)).length)throw new TypeError("group element does not exist");$group.addClass("key-navigation-group").attr("data-navigation-id",id)}return keyNavigator=eventifier({getId:function(){return id},getGroup:function(){return $group},isFocused:function(){return!!getCurrentCursor()},next:function(){var pos,cursor=getCurrentCursor();return cursor?(0<=(pos=getClosestPositionRight(cursor.position+1))?this.focusPosition(pos
):config.loop?this.focusPosition(getClosestPositionRight(0)):this.trigger("upperbound"),this.trigger("next",getCurrentCursor())):this.focusPosition(getClosestPositionRight(0)),this},previous:function(){var pos,cursor=getCurrentCursor();return cursor?(0<=(pos=getClosestPositionLeft(cursor.position-1))?this.focusPosition(pos):config.loop?this.focusPosition(getClosestPositionLeft(navigables.length-1)):this.trigger("lowerbound"),this.trigger("previous",getCurrentCursor())):this.focusPosition(getClosestPositionRight(0)),this},activate:function(target){var cursor=getCurrentCursor();return cursor&&this.trigger("activate",cursor,target),this},goto:function(groupId){
return _navigationGroups[groupId]?_navigationGroups[groupId].focus():this.trigger("error",new Error("goto an unknown navigation group")),this},focus:function(originNavigator){var pos;return config.keepState&&_cursor&&0<=_cursor.position?pos=_cursor.position:_.isFunction(config.defaultPosition)?(pos=config.defaultPosition(navigables))<0&&(pos=0):pos=config.defaultPosition,this.focusPosition(getClosestPositionRight(pos),originNavigator),this},focusPosition:function(position,originNavigator){return navigables[position]&&(_cursor.navigable&&this.trigger("blur",this.getCursor(),originNavigator),_cursor.position=position,navigables[_cursor.position].focus(),
_cursor.navigable=navigables[_cursor.position],this.trigger("focus",this.getCursor(),originNavigator)),this},first:function(){return this.focusPosition(getClosestPositionRight(0)),this},last:function(){return this.focusPosition(getClosestPositionLeft(navigables.length-1)),this},destroy:function(){return _.each(navigables,function(navigable){navigable.getElement().off(_ns),navigable.destroy(),navigable.shortcuts&&navigable.shortcuts.clear()}),delete _navigationGroups[id],this},blur:function(){var cursor=this.getCursor();return cursor&&cursor.navigable&&cursor.navigable.getElement().blur(),this},getCursor:function(){return _.clone(_cursor)},
getNavigables:function(){return _.clone(navigables)}}),_.each(navigables,function(navigable){if(!function(navElement){return navElement&&_.isFunction(navElement.init)&&_.isFunction(navElement.destroy)&&_.isFunction(navElement.getElement)&&_.isFunction(navElement.isVisible)&&_.isFunction(navElement.isEnabled)&&_.isFunction(navElement.focus)}(navigable))throw new TypeError("not a valid navigable element");navigable.shortcuts=shortcutRegistry(navigable.getElement()).add("tab shift+tab",function(e,key){keyNavigator.trigger(key,e.target)},{propagate:!!config.propagateTab,prevent:!0}).add("enter",function(e){$(e.target).is(":text,textarea")||(e.preventDefault(),
keyNavigator.activate(e.target))},{propagate:!1}).add("up down left right",function(e,key){var $target=$(e.target);$target.is(":text,textarea")||($target.is("img")||$target.hasClass("key-navigation-scrollable")||e.preventDefault(),keyNavigator.trigger(key,e.target))},{propagate:!1}),navigable.getElement().on("keyup"+_ns,function(e){32===(e.keyCode?e.keyCode:e.charCode)&&(e.target!==this&&$(e.target).is(":input")?e.stopPropagation():(e.preventDefault(),keyNavigator.activate(e.target)))}).on("blur"+_ns,function(){var cursor=keyNavigator.getCursor();cursor&&cursor.navigable&&keyNavigator.trigger("blur",cursor)})}),_navigationGroups[id]=keyNavigator}
;return keyNavigatorFactory.get=function(id){if(_navigationGroups[id])return _navigationGroups[id]},keyNavigatorFactory}),define("ui/keyNavigation/navigableDomElement",["jquery","core/eventifier"],function($,eventifier){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$,eventifier=eventifier&&eventifier.hasOwnProperty("default")?eventifier.default:eventifier;var navigableDomElement=function($element){return $element=$($element),eventifier({init:function(){if(!$element.length)throw new TypeError("dom element does not exist");return $element.attr("tabindex",-1),$element.addClass("key-navigation-highlight"),this},destroy:function(){
return $element.removeClass("key-navigation-highlight"),this},getElement:function(){return $element},isVisible:function(){return $element.is(":visible")},isEnabled:function(){return!$element.is(":disabled")},focus:function(){return $element.focus(),this}})};return navigableDomElement.createFromDoms=function($elements){var list=[];return $elements.each(function(){list.push(navigableDomElement($(this)))}),list},navigableDomElement}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("jquery"),require("lodash")):"function"==typeof define&&define.amd?define("core/pluginifier",["jquery","lodash"],factory
):(global=global||self)["core/pluginifier"]=factory(global.$,global._)}(this,function($,_){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_;var basePlugin={options:function(dataNs,ns,options){return this.each(function(){var $elt=$(this),currentOptions=$elt.data(dataNs);currentOptions&&$elt.data(dataNs,_.merge(currentOptions,options))})},disable:function(dataNs,ns){return this.each(function(){var $elt=$(this),options=$elt.data(dataNs);options&&$elt.addClass(options.disableClass||"disabled").trigger("disable."+ns)})},enable:function(dataNs,ns){return this.each(function(){var $elt=$(this),options=$elt.data(
dataNs);options&&$elt.removeClass(options.disableClass||"disabled").trigger("enable."+ns)})}};return{register:function(pluginName,plugin,config){var ns=(config=config||{}).ns||pluginName.toLowerCase(),dataNs=config.dataNs||"ui."+ns,expose=config.expose||[];return _.isFunction($.fn[pluginName])?$.error("A plugin named "+pluginName+" is already registered"):_.isPlainObject(plugin)&&_.isFunction(plugin.init)?(_.assign(plugin,_.transform(basePlugin,function(result,prop,key){_.isFunction(prop)&&(result[key]=_.partial(basePlugin[key],dataNs,ns))})),_.forEach(expose,function(toExposeName){var privateMethod=toExposeName,publicMethod=toExposeName;/^_/.test(expose
)?publicMethod=publicMethod.replace(/^_/,""):privateMethod="_"+privateMethod,_.isFunction(plugin[privateMethod])&&!_.isFunction(plugin[publicMethod])&&(plugin[publicMethod]=function(){var returnValue,args=Array.prototype.slice.call(arguments,0);return this.each(function(){returnValue=plugin[privateMethod].apply(plugin,[$(this)].concat(args))}),returnValue||this})}),void($.fn[pluginName]=function(method){if(plugin[method]){if(!/^_/.test(method))return plugin[method].apply(this,Array.prototype.slice.call(arguments,1));$.error("Trying to call a private method `"+method+"`")}else if("object"==typeof method||!method)return plugin.init.apply(this,arguments)
;$.error("Method "+method+" does not exist on plugin")})):$.error("The object to register as a jQuery plugin must be a plain object with an `init` method.")}}}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("jquery"),require("lodash")):"function"==typeof define&&define.amd?define("core/dataattrhandler",["jquery","lodash"],factory):(global=global||self)["core/dataattrhandler"]=factory(global.$,global._)}(this,function($,_){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_;var defaults={container:!1,listenerEvent:"click",useTarget:!0,bubbled:!1},
letDefaultOn=[":radio",":checkbox"],shouldPreventDefault=function($elt){return!$elt.is(letDefaultOn.join(","))},DataAttrHandler=function(attrName,options){var self=this;this.options=_.defaults(options,defaults);var selector="[data-"+attrName+"]";if(!_.has(this.options,"namespace")||!_.isString(this.options.namespace))return $.error("The plugin data namespace option is required");this.options.container&&this.options.container.selector&&(selector=this.options.container.selector+" "+selector),this.options.inner&&(selector+=" "+this.options.inner),$(document).off(this.options.listenerEvent,selector).on(this.options.listenerEvent,selector,function(e){var $target,
$outer,$elt=$(e.target);!0!==self.options.bubbled&&!$elt.is(selector)||(void 0===$elt.data(attrName)&&(self.options.inner||self.options.bubbled)&&($elt=($outer=$elt).parents("[data-"+attrName+"]")),$target=!0===self.options.useTarget?DataAttrHandler.getTarget(attrName,$elt):self.options.inner?$outer:void 0,$elt.data(self.options.namespace)||("function"==typeof self.createPlugin&&self.createPlugin($elt,$target),$elt.is(":radio")&&$elt.attr("name")&&$(':radio[name="'+$elt.attr("name")+'"]').not($elt).on(self.options.listenerEvent,function(e){"function"==typeof self.callPluginMethod&&self.callPluginMethod($elt,$target),shouldPreventDefault($elt
)&&e.preventDefault()})),"function"==typeof self.callPluginMethod&&self.callPluginMethod($elt,$target),shouldPreventDefault($elt)&&e.preventDefault())})};return DataAttrHandler.prototype.init=function(cb){return this.createPlugin=cb,this},DataAttrHandler.prototype.trigger=function(cb){return this.callPluginMethod=cb,this},DataAttrHandler.getTarget=function(attrName,$elt){var relativeRegex=/^(\+|>|~|:parent|<)/,$target=[],targetSelector=$elt.attr("data-"+attrName)||$elt.attr("href")||$elt.attr("attrName");if(!_.isEmpty(targetSelector)){var matches=relativeRegex.exec(targetSelector);if(null!==matches){var selector=targetSelector.replace(relativeRegex,"")
;$target=":parent"===matches[0]||"<"===matches[0]?$elt.parents(selector):"~"===matches[0]?$elt.siblings(selector):"+"===matches[0]?$elt.next(selector):$(selector,$elt)}else $target=$(targetSelector)}return $target},DataAttrHandler}),define("ui/modal",["jquery","core/pluginifier","core/dataattrhandler"],function($,Pluginifier,DataAttrHandler){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$,Pluginifier=Pluginifier&&Pluginifier.hasOwnProperty("default")?Pluginifier.default:Pluginifier,DataAttrHandler=DataAttrHandler&&DataAttrHandler.hasOwnProperty("default")?DataAttrHandler.default:DataAttrHandler;var dataNs="ui.modal",defaults={
modalCloseClass:"modal-close",modalOverlayClass:"modal-bg",startClosed:!1,disableClosing:!1,width:"responsive",minWidth:0,minHeight:0,vCenter:!0,$context:null,animate:400},modal={init:function(options){return(options=$.extend(!0,{},defaults,options)).animate&&("number"!=typeof options.animate?options.animate=defaults.animate:options.animate=Math.max(100,options.animate)),$(this).each(function(){var $modal=$(this);if(options.modalOverlay="__modal-bg-"+($modal.attr("id")||(new Date).getTime()),$modal.data(dataNs,options),0===$("#"+options.modalOverlay).length){var $overlay=$("<div/>").attr({id:options.modalOverlay,class:options.modalOverlayClass})
;options.$context instanceof $&&options.$context.length?($overlay.css("position","absolute"),options.$context.append($overlay)):$modal.after($overlay)}0!==$("."+options.modalCloseClass,$modal).length||options.disableClosing||$('<button id="modal-close-btn" class="'+options.modalCloseClass+'"><span class="icon-close"></span></button>').appendTo($modal),options.startClosed||modal._open($modal),$modal.trigger("create.modal")})},_destroy:function($element){return $element.each(function(){var $modal=$(this),options=$modal.data(dataNs);$modal.removeData(dataNs),$("#"+options.modalOverlay).remove(),$modal.hide(),$element.trigger("destroyed.modal")})},
_bindEvents:function($element){var options=$element.data(dataNs);options&&("responsive"===options.width&&$(window).on("resize.modal",function(e){e.preventDefault(),modal._resize($element)}),options.disableClosing||($("."+options.modalCloseClass,$element).on("click.modal",function(e){e.preventDefault(),closeModal($element,"close")}),$("#"+options.modalOverlay).on("click.modal",function(e){e.preventDefault(),closeModal($element,"overlay")}),options.disableEscape||$(document).on("keydown.modal",function(e){27===e.keyCode&&(e.preventDefault(),closeModal($element,"escape"))})))},_unBindEvents:function($element){var options=$element.data(dataNs)
;options&&"responsive"===options.width&&$(window).off("resize.modal"),$element.off("click.modal"),options&&!options.disableClosing&&($("."+options.modalCloseClass,$element).off("click.modal"),$("#"+options.modalOverlay).off("click.modal"),$(document).off("keydown.modal"))},_open:function($element){var topOffset,onOpen,$overlay,to,modalHeight=$element.outerHeight(),windowHeight=$(window).height(),options=$element.data(dataNs);void 0!==options&&(onOpen=function(){$element.addClass("opened"),modal._bindEvents($element),$element.trigger("opened.modal")},topOffset=options.top?options.top:options.vCenter||windowHeight<modalHeight?40:(windowHeight-modalHeight)/2,
options.top||$element.parent().hasClass("no-scroll-offset")||$element.parents().map(function(){"BODY"!==this.tagName&&"HTML"!==this.tagName&&(topOffset+=parseInt($(this).scrollTop(),10))}),to={opacity:"1",top:topOffset+"px"},modal._resize($element),$overlay=$("#"+options.modalOverlay),$element.show(),options.animate&&$element.is(":visible")?($element.css({top:"-"+modalHeight+"px",display:"block"}),$overlay.fadeIn(options.animate-100),$element.animate(to,options.animate,onOpen)):($overlay.show(),$element.css(to),onOpen()))},_close:function($element){closeModal($element,"api")},_resize:function($element){var options=$element.data(dataNs),windowWidth=parseInt(
$(window).width(),10),css={},modalWidth="responsive"===options.width?.7*windowWidth:parseInt(options.width,10);css.width=Math.max(modalWidth,options.minWidth),options.minHeight&&(css.minHeight=parseInt(options.minHeight)+"px"),$element.css(css)}};function closeModal($element,reason){function onClose(){$element.removeClass("opened"),$element.css("display","none"),$element.trigger("closed.modal",reason)}var options=$element.data(dataNs),$overlay=$("#"+options.modalOverlay);modal._unBindEvents($element),options.animate&&$element.is(":visible")?($overlay.fadeOut(options.animate-100),$element.animate({opacity:"0",top:"-1000px"},options.animate,onClose)):(
$overlay.hide(),$element.hide(),onClose())}return Pluginifier.register("modal",modal,{expose:["open","close","destroy"]}),function($container){new DataAttrHandler("modal",{container:$container,listenerEvent:"click",namespace:dataNs}).init(function($elt,$target){$target.modal()})}}),define("ui/dialog",["jquery","lodash","i18n","handlebars","lib/dompurify/purify","ui/keyNavigation/navigator","ui/keyNavigation/navigableDomElement","util/shortcut/registry","ui/modal"],function($$1,_,__,Handlebars,DOMPurify,keyNavigator,navigableDomElement,shortcutRegistry,modal){"use strict";function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),
hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment="";null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"==typeof value&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),
fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}$$1=$$1&&$$1.hasOwnProperty("default"
)?$$1.default:$$1,_=_&&_.hasOwnProperty("default")?_.default:_,__=__&&__.hasOwnProperty("default")?__.default:__,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,keyNavigator=keyNavigator&&keyNavigator.hasOwnProperty("default")?keyNavigator.default:keyNavigator,navigableDomElement=navigableDomElement&&navigableDomElement.hasOwnProperty("default")?navigableDomElement.default:navigableDomElement,shortcutRegistry=shortcutRegistry&&shortcutRegistry.hasOwnProperty("default")?shortcutRegistry.default:shortcutRegistry,
Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression;return buffer+='<div class="preview-modal-feedback modal ',stack1=(helper=helpers.class)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.class)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'">\n    <div class="modal-body clearfix">\n        ',!(
stack1=helpers.if.call(depth0,depth0&&depth0.heading,{hash:{},inverse:this.noop,fn:this.program(1,function(depth0,data){var stack1,helper,buffer="";return buffer+='\n        <h4 class="strong">',stack1=(helper=helpers.heading)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.heading)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"</h4>\n        "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n\n        <p class="message">',!(stack1=(helper=helpers.message)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.message)===functionType?helper.call(depth0,{hash:{},
data:data}):helper)&&0!==stack1||(buffer+=stack1),buffer+="</p>\n\n        ",!(stack1=helpers.if.call(depth0,depth0&&depth0.content,{hash:{},inverse:this.noop,fn:this.program(3,function(depth0,data){var stack1,helper,buffer="";return buffer+='\n        <div class="content">',!(stack1=(helper=helpers.content)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.content)===functionType?helper.call(depth0,{hash:{},data:data}):helper)&&0!==stack1||(buffer+=stack1),buffer+="</div>\n        "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n\n        <div class="buttons rgt"></div>\n    </div>\n</div>\n'});Helpers0.__initialized||(
Helpers0(Handlebars),Helpers0.__initialized=!0);var Template$1=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;function program2(depth0,data){var stack1,helper,buffer="";return buffer+='<span class="icon-',stack1=(helper=helpers.icon)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.icon)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"></span> '}return!(stack1=helpers.each.call(
depth0,depth0&&depth0.buttons,{hash:{},inverse:self.noop,fn:self.program(1,function(depth0,data){var stack1,helper,buffer="";return buffer+='\n    <button class="btn-',stack1=(helper=helpers.type)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.type)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+" small ",stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'" data-control="',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(
helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'" type="button">\n        ',!(stack1=helpers.if.call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n        <span class="label">',stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"</span>\n    </button>\n"},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n"});var _definedButtons={ok:{
id:"ok",type:"info",label:__("Ok"),close:!0},cancel:{id:"cancel",type:"regular",label:__("Cancel"),close:!0},yes:{id:"yes",type:"info",label:__("Yes"),close:!0},no:{id:"no",type:"regular",label:__("No"),close:!0}},_defaults={message:"",content:"",width:500,animate:!1,autoRender:!1,autoDestroy:!1,renderTo:"body",buttons:"cancel,ok"},dialog={init:function(options){var self=this,events={},initOptions=_.omit(options||{},function(value,key){var omit=!1;return 2<key.length&&"on"===key.substr(0,2)&&(events[key.substr(2)]=value,omit=!0),omit});return _.defaults(this,initOptions,_defaults),this.$html=$$1(function(data,options){var html=Template(data,options)
;return html}(this)),this.$buttons=this.$html.find(".buttons"),this.rendered=!1,this.destroyed=!1,this.$buttons.on("click.modal","button",this._onButtonClick.bind(this)),this.setButtons(this.buttons),_.forEach(events,function(callback,eventName){eventName.indexOf(".")<0&&(eventName+=".modal"),self.on(eventName.toLowerCase(),callback)}),this.autoRender&&this.render(),this},destroy:function(){return this.destroyed||(this._destroy(),this.rendered=!1,this.destroyed=!0,this.trigger("destroy.modal"),this.$buttons.off(".modal"),this.$html.off(".modal").remove(),this.$html=null,this.$buttons=null),this},setButtons:function(buttons){var self=this
;return this.destroyed||(buttons=buttons||_defaults.buttons,_.isArray(buttons)||_.isString(buttons)&&(buttons=buttons.split(",")),this.buttons={},_.forEach(buttons,function(btn){_.isString(btn)&&(btn=btn.trim(),btn=_definedButtons[btn]||{id:btn,type:"info",label:btn}),btn.type||(btn.type="regular"),self.buttons[btn.id]=btn}),this.$buttons.html(function(data,options){var html=Template$1(data,options);return html}(this))),this},render:function(to){return this.destroyed||($$1(to||this.renderTo).append(this.$html),this._install(),this.rendered=!0),this},show:function(){return this.destroyed||(this.rendered?this._open():this.render()),this},hide:function(){
return!this.destroyed&&this.rendered&&(this._close(),this.autoDestroy&&this.destroy()),this},on:function(eventName){var dom=this.$html;return dom&&dom.on.apply(dom,arguments),this},off:function(eventName){var dom=this.$html;return dom&&dom.off.apply(dom,arguments),this},trigger:function(eventName,extraParameters){var dom=this.$html;return dom&&(void 0===extraParameters&&(extraParameters=[]),_.isArray(extraParameters)||(extraParameters=[extraParameters]),(extraParameters=Array.prototype.slice.call(extraParameters)).push(this),dom.trigger(eventName,extraParameters)),this},getDom:function(){return this.$html},_onButtonClick:function(event){var id=$$1(
event.target).closest("button").data("control"),btn=this.buttons[id];btn&&this._execute(btn)},_execute:function(btn){btn.action&&btn.action.apply(this,[btn,this]),this.trigger(btn.id+"btn.modal",[btn]),btn.close&&this.hide()},focus:function(button){var focusPosition=-1;button&&(focusPosition=_.findIndex(this.navigator.getNavigables(),function(navigable){return navigable.getElement().is('[data-control="'+button+'"]')})),0<=focusPosition?this.navigator.focusPosition(focusPosition):this.navigator.focus()},_install:function(){var $buttons,closeButton,self=this;this.destroyed||(this.$html.modal({width:this.width,animate:this.animate,
disableClosing:this.disableClosing,disableEscape:this.disableEscape}).on("closed.modal",function(){self.autoDestroy&&self.destroy()}),$buttons=this.$buttons.find("button"),(closeButton=$$1(".modal").find("#modal-close-btn")[0])&&$buttons.push(closeButton),this.navigator=keyNavigator({elements:navigableDomElement.createFromDoms($buttons)}).on("right down",function(){this.next()}).on("left up",function(){this.previous()}).on("tab",function(){this.getCursor().position===$buttons.length-1?this.first():this.next()}).on("shift+tab",function(){0===this.getCursor().position?this.last():this.previous()}).on("activate",function(cursor){cursor.navigable.getElement(
).click()}),self.navigator.last(),this.globalShortcut=shortcutRegistry($$1("body")).add("tab shift+tab",function(){self.navigator.isFocused()||self.navigator.focus()}),self.trigger("create.dialog"))},_open:function(){this.$html.modal("open")},_close:function(){this.$html.modal("close")},_destroy:function(){this.$html.modal("destroy"),this.navigator&&this.navigator.destroy(),this.globalShortcut&&this.globalShortcut.clear()}};return function(options){var instance=_.clone(dialog,!0);return instance.init(options),instance}}),define("ui/dialog/confirm",["lodash","i18n","ui/dialog"],function(_,__,dialog){"use strict";return _=_&&_.hasOwnProperty("default"
)?_.default:_,__=__&&__.hasOwnProperty("default")?__.default:__,dialog=dialog&&dialog.hasOwnProperty("default")?dialog.default:dialog,function(message,accept,refuse,options){var dialogOptions,dlg,accepted=!1,_options={buttons:{labels:{ok:__("Ok"),cancel:__("Cancel")}}};return dialogOptions={message:message,autoRender:!0,autoDestroy:!0,onOkBtn:function(){accepted=!0,_.isFunction(accept)&&accept.call(this)},buttons:{ok:{id:"ok",type:"info",label:(options=_.defaults(options||{},_options)).buttons.labels.ok||__("Ok"),close:!0},cancel:{id:"cancel",type:"regular",label:options.buttons.labels.cancel||__("Cancel"),close:!0}}},dlg=dialog(dialogOptions),_.isFunction(
refuse)&&dlg.on("closed.modal",function(){accepted||refuse.call(this)}),dlg}}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("util/shortcut/registry")):"function"==typeof define&&define.amd?define("util/shortcut",["util/shortcut/registry"],factory):(global=global||self)["util/shortcut"]=factory(global["util/shortcut/registry"])}(this,function(shortcutRegistry){"use strict";return(shortcutRegistry=shortcutRegistry&&shortcutRegistry.hasOwnProperty("default")?shortcutRegistry.default:shortcutRegistry)(window,{propagate:!1,prevent:!0})}),define("css!ui/bulkActionPopup/css/bulkActionPopup",[],
function(){}),define("ui/bulkActionPopup",["jquery","lodash","i18n","handlebars","lib/dompurify/purify","ui/component","ui/keyNavigation/navigator","ui/keyNavigation/navigableDomElement","util/shortcut/registry","util/shortcut","util/namespace","ui/modal","select2","css!ui/bulkActionPopup/css/bulkActionPopup.css"],function($$1,_,__,Handlebars,DOMPurify,component,keyNavigator,navigableDomElement,shortcutRegistry,globalShortcut,namespaceHelper,modal,select2,bulkActionPopup_css){"use strict";function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),
hb.registerHelper("join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment="";null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"==typeof value&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,
options){var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}$$1=$$1&&$$1.hasOwnProperty("default")?$$1.default:$$1,_=_&&_.hasOwnProperty("default")?_.default:_,__=__&&__.hasOwnProperty("default"
)?__.default:__,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,component=component&&component.hasOwnProperty("default")?component.default:component,keyNavigator=keyNavigator&&keyNavigator.hasOwnProperty("default")?keyNavigator.default:keyNavigator,navigableDomElement=navigableDomElement&&navigableDomElement.hasOwnProperty("default")?navigableDomElement.default:navigableDomElement,shortcutRegistry=shortcutRegistry&&shortcutRegistry.hasOwnProperty("default")?shortcutRegistry.default:shortcutRegistry,
globalShortcut=globalShortcut&&globalShortcut.hasOwnProperty("default")?globalShortcut.default:globalShortcut,namespaceHelper=namespaceHelper&&namespaceHelper.hasOwnProperty("default")?namespaceHelper.default:namespaceHelper,Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing,self=this;function program2(depth0,data){var stack1,
helper,options,buffer="";return buffer+='\n    <div class="single" data-resource="'+escapeExpression(typeof(stack1=null==(stack1=null==(stack1=depth0&&depth0.allowedResources)||!1===stack1?stack1:stack1[0])||!1===stack1?stack1:stack1.id)===functionType?stack1.apply(depth0):stack1)+'">\n        <p>\n            '+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"The action will be applied to",options):helperMissing.call(depth0,"__","The action will be applied to",options)))+" ",stack1=(helper=helpers.resourceType)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.resourceType
)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+' <span class="resource-label">'+escapeExpression(typeof(stack1=null==(stack1=null==(stack1=depth0&&depth0.allowedResources)||!1===stack1?stack1:stack1[0])||!1===stack1?stack1:stack1.label)===functionType?stack1.apply(depth0):stack1)+"</span>\n        </p>\n    </div>\n        "}function program4(depth0,data){var stack1,helper,options,buffer="";return buffer+='\n    <div class="multiple">\n        <p>\n            '+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"The action will be applied to the following"
,options):helperMissing.call(depth0,"__","The action will be applied to the following",options)))+' <span class="resource-count">',stack1=(helper=helpers.resourceCount)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.resourceCount)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"</span> ",stack1=(helper=helpers.resourceTypes)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.resourceTypes)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+':\n        </p>\n        <ul class="plain applicables">\n            ',!(
stack1=helpers.each.call(depth0,depth0&&depth0.allowedResources,{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n        </ul>\n    </div>\n        "}function program5(depth0,data){var stack1,helper,buffer="";return buffer+='\n            <li data-resource="',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'">\n                <span class="resource-label">',stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(
helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"</span>\n            </li>\n            "}function program8(depth0,data){var stack1,helper,options,buffer="";return buffer+='\n    <div class="single" data-resource="'+escapeExpression(typeof(stack1=null==(stack1=null==(stack1=depth0&&depth0.deniedResources)||!1===stack1?stack1:stack1[0])||!1===stack1?stack1:stack1.id)===functionType?stack1.apply(depth0):stack1)+'">\n        <p>\n            '+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"The action will not be applied to ",
options):helperMissing.call(depth0,"__","The action will not be applied to ",options)))+" ",stack1=(helper=helpers.resourceType)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.resourceType)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+' <span class="resource-label">'+escapeExpression(typeof(stack1=null==(stack1=null==(stack1=depth0&&depth0.deniedResources)||!1===stack1?stack1:stack1[0])||!1===stack1?stack1:stack1.label)===functionType?stack1.apply(depth0):stack1)+"</span>\n        </p>\n    </div>\n        "}function program10(depth0,data){var stack1,helper,options,buffer=""
;return buffer+="\n    <p>\n        "+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"The action will not be applied to the following",options):helperMissing.call(depth0,"__","The action will not be applied to the following",options)))+" ",stack1=(helper=helpers.resourceTypes)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.resourceTypes)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+':\n    </p>\n    <ul class="plain no-applicables">\n            ',!(stack1=helpers.each.call(depth0,depth0&&depth0.deniedResources,{hash:{},
inverse:self.noop,fn:self.program(11,program11,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n    </ul>\n        "}function program11(depth0,data){var stack1,helper,buffer="";return buffer+='\n        <li data-resource="',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'">\n            <span class="resource-label">',stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}):helper,
buffer+=escapeExpression(stack1)+'</span>\n            <span class="reason">(',stack1=(helper=helpers.reason)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.reason)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+")</span>\n        </li>\n            "}return buffer+='<div class="bulk-action-popup">\n    <h2 class="title">'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Action",options):helperMissing.call(depth0,"__","Action",options)))+": ",stack1=(helper=helpers.actionName)?helper.call(depth0,{hash:{},data:data}):typeof(
helper=depth0&&depth0.actionName)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"</h2>\n\n    ",!(stack1=helpers.if.call(depth0,depth0&&depth0.resourceCount,{hash:{},inverse:self.noop,fn:self.program(1,function(depth0,data){var stack1,buffer="";return buffer+="\n        ",!(stack1=helpers.if.call(depth0,depth0&&depth0.single,{hash:{},inverse:self.program(4,program4,data),fn:self.program(2,program2,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n    "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n    \n    ",!(stack1=helpers.if.call(depth0,null==(stack1=depth0&&depth0.deniedResources
)||!1===stack1?stack1:stack1.length,{hash:{},inverse:self.noop,fn:self.program(7,function(depth0,data){var stack1,buffer="";return buffer+="\n        ",!(stack1=helpers.if.call(depth0,depth0&&depth0.singleDenied,{hash:{},inverse:self.program(10,program10,data),fn:self.program(8,program8,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n    "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n    \n    ",!(stack1=helpers.if.call(depth0,depth0&&depth0.reason,{hash:{},inverse:self.noop,fn:self.program(13,function(depth0,data){var helper,options,buffer="";return buffer+='\n    <div class="reason">\n        <p>\n            '+escapeExpression(
(options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Please provide a reason",options):helperMissing.call(depth0,"__","Please provide a reason",options)))+':\n        </p>\n        <div class="categories"></div>\n        <div class="comment">\n            <textarea placeholder="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"comment...",options):helperMissing.call(depth0,"__","comment...",options)))+'"></textarea>\n        </div>\n    </div>\n    '},data),data:data}))&&0!==stack1||(buffer+=stack1),
buffer+='\n    \n    <div class="actions">\n        <button class="btn btn-info small done">'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"OK",options):helperMissing.call(depth0,"__","OK",options)))+'</button>\n        <a href="#" class="btn cancel" title="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"cancel the action",options):helperMissing.call(depth0,"__","cancel the action",options)))+'">'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"cancel",options):helperMissing.call(depth0
,"__","cancel",options)))+"</a>\n    </div>\n    \n</div>"});function layoutTpl(data,options,asString){var html=Template(data,options);return html}var _ns="bulk-action-popup";return function(config){var state={reasons:null,comment:""},instance=component({validate:function(){var $error,$element=this.getElement();return $element&&($$1(".feedback-error",$element).remove(),!function($container){return 0===$$1("select, textarea",$container).filter(function(){return 0===$$1.trim($$1(this).val()).length}).length}($element))?($error=$$1('<div class="feedback-error small"></div>').text(__("All fields are required")),$element.find(".actions").prepend($error),!1):(
this.trigger("ok",state),this.destroy(),!0)},cancel:function(){this.trigger("cancel"),this.destroy()}}).setTemplate(layoutTpl).on("destroy",function(){globalShortcut.enable(),this.dialogShortcut&&(this.dialogShortcut.disable(),this.dialogShortcut.clear(),this.dialogShortcut=null),this.navigator&&(this.navigator.destroy(),this.navigator=null),this.getElement().removeClass("modal").modal("destroy")}).on("action-ok",function(){this.validate()}).on("action-cancel",function(){this.cancel()}).on("render",function(){var $reason,self=this,$element=this.getElement();!function(modalConfig){instance.getElement().addClass("modal").on("closed.modal",function(){
instance.destroy()}).modal(modalConfig).focus()}({disableEscape:!0,width:!this.config.single||this.config.deniedResources.length||this.config.reason?800:600}),_.isObject(this.config.categoriesSelector)&&($reason=$element.find(".reason").children(".categories"),this.config.categoriesSelector.render($reason)),$element.on(namespaceHelper.namespaceAll("selected.cascading-combobox",_ns),function(e,reasons){state.reasons=reasons,self.config.allowShortcuts&&initNavigator(),self.trigger("change",state)}).on(namespaceHelper.namespaceAll("change",_ns),"textarea",function(){state.comment=$$1(this).val(),self.trigger("change",state)}).on(namespaceHelper.namespaceAll(
"click",_ns),".actions .done",function(e){e.preventDefault(),self.trigger("action-ok")}).on(namespaceHelper.namespaceAll("click",_ns),".actions .cancel",function(e){e.preventDefault(),self.trigger("action-cancel")}),this.config.allowShortcuts&&(initNavigator(),globalShortcut.disable(),this.dialogShortcut=shortcutRegistry($$1("body"),{avoidInput:!0,propagate:!1,prevent:!0}).add(namespaceHelper.namespaceAll("Tab",_ns,!0),function(){self.navigator.next()},{avoidInput:!1}).add(namespaceHelper.namespaceAll("Shift+Tab",_ns,!0),function(){self.navigator.previous()},{avoidInput:!1}).add(namespaceHelper.namespaceAll("esc",_ns,!0),function(e,shortcut){
instance.trigger("action-cancel",shortcut)}).add(namespaceHelper.namespaceAll("enter",_ns,!0),function(e,shortcut){instance.trigger("action-ok",shortcut)}))});function initNavigator(){var $element=instance.getElement();instance.navigator=keyNavigator({id:_ns,replace:!0,loop:!0,group:$element,defaultPosition:1,elements:navigableDomElement.createFromDoms($element.find(":input:not(button,select.select2-offscreen)").add($element))}).on("activate",function(cursor,target){$$1(target).is($element)&&instance.validate()}).focus()}return instance.init(_.defaults(config,{deniedResources:[],reason:!1,allowShortcuts:!0,reasonRequired:!1,
resourceCount:config.allowedResources.length,single:1===config.allowedResources.length,singleDenied:config.deniedResources&&1===config.deniedResources.length,resourceTypes:config.resourceType+"s"}))}}),define("css!ui/datalist/css/datalist",[],function(){}),define("ui/datalist",["jquery","lodash","i18n","ui/component","handlebars","lib/dompurify/purify","css!ui/datalist/css/datalist.css"],function($$1,_,__,component,Handlebars,DOMPurify,datalist_css){"use strict";function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,
keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment="";null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"==typeof value&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret=""
;startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}$$1=$$1&&$$1.hasOwnProperty("default")?$$1.default:$$1,_=_&&_.hasOwnProperty("default")?_.default:_,__=__&&__.hasOwnProperty("default")?__.default:__,
component=component&&component.hasOwnProperty("default")?component.default:component,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;function program3(
depth0,data){return" hidden"}function program6(depth0,data){var stack1,helper,buffer="";return buffer+='\n            <button class="btn-info small ',!(stack1=helpers.if.call(depth0,depth0&&depth0.massAction,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='" data-control="',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'" ',!(stack1=helpers.if.call(depth0,depth0&&depth0.title,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data})
)&&0!==stack1||(buffer+=stack1),buffer+=">\n                ",!(stack1=helpers.if.call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.noop,fn:self.program(11,program11,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                ",stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"\n            </button>\n            "}function program7(depth0,data){return" mass-action hidden"}function program9(depth0,data){var stack1,helper,buffer="";return buffer+=' title="',stack1=(helper=helpers.title
)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.title)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"'}function program11(depth0,data){var stack1,helper,buffer="";return buffer+='<span class="icon icon-',stack1=(helper=helpers.icon)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.icon)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"></span>'}function program13(depth0,data){return"\n                <col/>\n                "}return buffer+='<div class="datalist">\n    <h1 ',!(stack1=helpers.unless.call(depth0,
depth0&&depth0.title,{hash:{},inverse:self.noop,fn:self.program(1,function(depth0,data){return'class="hidden"'},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+=">",stack1=(helper=helpers.title)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.title)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'</h1>\n    <h2>\n        <span class="empty-list',!(stack1=helpers.unless.call(depth0,depth0&&depth0.textEmpty,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='">',stack1=(helper=helpers.textEmpty)?helper.call(depth0,{hash:{},
data:data}):typeof(helper=depth0&&depth0.textEmpty)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'</span>\n        <span class="available-list',!(stack1=helpers.unless.call(depth0,depth0&&depth0.textNumber,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='"><span class="label">',stack1=(helper=helpers.textNumber)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.textNumber)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1
)+'</span>: <span class="count"></span></span>\n        <span class="loading',!(stack1=helpers.unless.call(depth0,depth0&&depth0.textLoading,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='"><span>',stack1=(helper=helpers.textLoading)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.textLoading)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'</span>...</span>\n    </h2>\n    <div class="list">\n        ',!(stack1=helpers.if.call(depth0,depth0&&depth0.tools,{hash:{},inverse:self.noop,fn:self.program(5,function(depth0,data){
var stack1,buffer="";return buffer+='\n        <aside class="action-bar clearfix">\n            ',!(stack1=helpers.each.call(depth0,depth0&&depth0.tools,{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n        </aside>\n        "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n\n        <table class="matrix">\n            <colgroup>\n                ',!(stack1=helpers.if.call(depth0,depth0&&depth0.selectable,{hash:{},inverse:self.noop,fn:self.program(13,program13,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                <col/>\n                ",!(
stack1=helpers.if.call(depth0,depth0&&depth0.actions,{hash:{},inverse:self.noop,fn:self.program(13,program13,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n            </colgroup>\n            <thead>\n                <tr>\n                    ",!(stack1=helpers.if.call(depth0,depth0&&depth0.selectable,{hash:{},inverse:self.noop,fn:self.program(15,function(depth0,data){return'\n                    <th class="checkboxes"><input type="checkbox" name="checkall" value="1" /></th>\n                    '},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n                    <th class="label">',stack1=(helper=helpers.labelText)?helper.call(
depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.labelText)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"</th>\n                    ",!(stack1=helpers.if.call(depth0,depth0&&depth0.actions,{hash:{},inverse:self.noop,fn:self.program(17,function(depth0,data){var helper,options,buffer="";return buffer+='\n                    <th class="actions">'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Actions",options):helperMissing.call(depth0,"__","Actions",options)))+"</th>\n                    "},data),data:data}))&&0!==stack1||(buffer+=stack1),
buffer+="\n                </tr>\n            </thead>\n            <tbody></tbody>\n        </table>\n    </div>\n</div>\n"});function mainTpl(data,options,asString){var html=Template(data,options);return html}Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template$1=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;function program2(depth0,data){var stack1,helper,buffer=""
;return buffer+='\n    <td class="checkboxes"><input type="checkbox" name="cb[',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+']" value="1" /></td>\n    '}function program4(depth0,data,depth1,depth2){var stack1,buffer="";return buffer+='\n    <td class="actions">\n        ',!(stack1=helpers.each.call(depth0,depth2&&depth2.actions,{hash:{},inverse:self.noop,fn:self.programWithDepth(5,program5,data,depth1),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n    </td>\n    "}function program5(depth0,data,depth2){
var stack1,buffer="";return buffer+="\n            ",!(stack1=helpers.with.call(depth0,depth2&&depth2.line,{hash:{},inverse:self.noop,fn:self.programWithDepth(6,program6,data,depth0),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n        "}function program6(depth0,data,depth1){var stack1,buffer="";return buffer+="\n                ",!(stack1=helpers.unless.call(depth0,depth1&&depth1.hidden,{hash:{},inverse:self.noop,fn:self.programWithDepth(7,program7,data,depth1),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n            "}function program7(depth0,data,depth2){var stack1,buffer="";return buffer+="\n                    ",!(
stack1=helpers.with.call(depth0,depth2,{hash:{},inverse:self.noop,fn:self.program(8,program8,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                "}function program8(depth0,data){var stack1,helper,buffer="";return buffer+='\n        <button class="btn-info small" data-control="',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"',!(stack1=helpers.if.call(depth0,depth0&&depth0.title,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data}))&&0!==stack1||(buffer+=stack1),
buffer+=">\n            ",!(stack1=helpers.if.call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.noop,fn:self.program(11,program11,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n            ",stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"\n        </button>\n                    "}function program9(depth0,data){var stack1,helper,buffer="";return buffer+=' title="',stack1=(helper=helpers.title)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.title
)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"'}function program11(depth0,data){var stack1,helper,buffer="";return buffer+='<span class="icon icon-',stack1=(helper=helpers.icon)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.icon)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"></span>'}return!(stack1=helpers.each.call(depth0,depth0&&depth0.list,{hash:{},inverse:self.noop,fn:self.programWithDepth(1,function(depth0,data,depth1){var stack1,helper,buffer="";return buffer+='\n<tr data-id="',stack1=(helper=helpers.id)?helper.call(depth0,{
hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'">\n    ',!(stack1=helpers.if.call(depth0,depth1&&depth1.selectable,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n    <td class="label">',stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"</td>\n    ",!(stack1=helpers.if.call(depth0,depth1&&depth1.actions,{hash:{},inverse:self.noop,
fn:self.programWithDepth(4,program4,data,depth0,depth1),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n</tr>\n"},data,depth0),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n"});var _defaults={keyName:"id",labelName:"label",labelText:__("Label"),title:!1,textNumber:__("Available"),textEmpty:__("There is nothing to list!"),textLoading:__("Loading"),selectable:!1},datalist={update:function(data){var count,self=this,controls=this.controls||{},config=this.config||{},$list=controls.$list,$numberValue=controls.$numberValue,renderData={selectable:config.selectable,actions:config.actions,list:[]},list=renderData.list;return this.setLoading(!0),$list&&(
$list.empty(),data&&data.length?(_.forEach(data,function(line){var id=line[config.keyName],label=line[config.labelName];_.isFunction(config.labelTransform)&&(label=config.labelTransform.call(self,label,line)),list.push({id:id,label:label,line:line})}),$list.append(function(data,options){var html=Template$1(data,options);return html}(renderData)),$numberValue&&(count=data.length,_.isFunction(config.countRenderer)&&(count=config.countRenderer.call(self,count)),$numberValue.text(count)),this.setState("empty",!1),this.setState("loaded",!0)):(this.setState("empty",!0),this.setState("loaded",!1)),controls.$checkboxes=this.controls.$list.find("td.checkboxes input")
,controls.$massAction.toggleClass("hidden",!0),this.pendingSelection&&this.setSelection(this.pendingSelection)),self.trigger("update",data),this.setLoading(!1),this},getSelection:function(){var $checkboxes=this.controls&&this.controls.$checkboxes,selection=[];return $checkboxes?$checkboxes.filter(":checked").each(function(){var id=$$1(this).closest("tr").data("id");id&&selection.push(id)}):this.pendingSelection&&(selection=this.pendingSelection),selection},setSelection:function(selection){var controls=this.controls||{},$list=controls.$list;return $list?(controls.$checkboxes.prop("checked",!1),selection&&_.forEach(selection,function(id){$list.find(
'[data-id="'+id+'"] input[type="checkbox"]').prop("checked",!0)}),this._onSelection(),this.pendingSelection=null):this.pendingSelection=selection,this},_onSelection:function(){var controls=this.controls||{},$checkboxes=controls.$checkboxes,$checkAll=controls.$checkAll,$checked=$checkboxes.filter(":checked");$checked.length===$checkboxes.length?$checkAll.prop("checked",!0):$checkAll.prop("checked",!1),controls.$massAction.toggleClass("hidden",!$checked.length),this.trigger("select",this.getSelection())},setLoading:function(flag){return flag&&this.setState("loaded",!1),this.setState("loading",flag)},setTitle:function(title){
var $title=this.controls&&this.controls.$title;return this.config.title=title,$title&&(!1===title?$title.addClass("hidden"):$title.html(title).removeClass("hidden")),this},setTextNumber:function(text){var $numberLabel=this.controls&&this.controls.$numberLabel,$textAvailable=this.controls&&this.controls.$textAvailable;return this.config.textNumber=text,$numberLabel&&(!1!==text?$numberLabel.html(text).removeClass("hidden"):$textAvailable&&$textAvailable.addClass("hidden")),this},setTextEmpty:function(text){var $textEmpty=this.controls&&this.controls.$textEmpty;return this.config.textEmpty=text,$textEmpty&&(!1===text?$textEmpty.addClass("hidden"
):$textEmpty.html(text).removeClass("hidden")),this},setTextLoading:function(text){var $textLoading=this.controls&&this.controls.$textLoading;return this.config.textLoading=text,$textLoading&&(!1===text?$textLoading.addClass("hidden"):$textLoading.html(text).removeClass("hidden")),this}};return function(config,data){var initConfig=config||{},actions={},tools={};return initConfig.tools&&_.forEach(initConfig.tools,function(tool){tools[tool.id]=tool}),initConfig.actions&&_.forEach(initConfig.actions,function(action){actions[action.id]=action}),component(datalist,_defaults).setTemplate(mainTpl).on("destroy",function(){this.controls=null,
this.pendingSelection=null}).on("render",function(){var self=this;this.controls={$title:this.$component.find("h1"),$textEmpty:this.$component.find(".empty-list"),$textAvailable:this.$component.find(".available-list"),$textLoading:this.$component.find(".loading span"),$numberLabel:this.$component.find(".available-list .label"),$numberValue:this.$component.find(".available-list .count"),$actionBar:this.$component.find(".list .action-bar"),$massAction:this.$component.find(".list .mass-action"),$checkAll:this.$component.find(".list th.checkboxes input"),$checkboxes:this.$component.find(".list td.checkboxes input"),$list:this.$component.find(".list tbody")},
this.controls.$actionBar.on("click","button",function(e){var buttonId=$$1(this).closest("button").data("control"),button=tools[buttonId],selection=self.getSelection();e.preventDefault(),button&&button.action&&button.action.call(self,selection,buttonId),self.trigger("tool",selection,buttonId)}),this.controls.$list.on("click","button",function(e){var $this=$$1(this),lineId=$this.closest("tr").data("id"),buttonId=$this.closest("button").data("control"),button=actions[buttonId];e.preventDefault(),button&&button.action&&button.action.call(self,lineId,buttonId),self.trigger("action",lineId,buttonId)}),this.setState("selectable",this.config.selectable),
this.controls.$list.on("click","td.label",function(){var $checkbox;self.config.selectable&&(($checkbox=$$1(this).closest("tr").find('input[type="checkbox"]')).prop("checked")?$checkbox.prop("checked",!1):$checkbox.prop("checked",!0),self._onSelection())}),this.controls.$list.on("click",'input[type="checkbox"]',function(){self._onSelection()}),this.controls.$checkAll.on("click",function(){var $checkboxes=self.controls.$checkboxes;this.checked?$checkboxes.prop("checked",!0):$checkboxes.prop("checked",!1),self._onSelection()}),data?this.update(data):(this.setState("empty",!0),this.setState("loaded",!1))}).init(initConfig)}}),define("ui/button",["lodash",
"ui/component","handlebars","i18n","lib/dompurify/purify"],function(_,component,Handlebars,__,DOMPurify){"use strict";function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment=""
;null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"==typeof value&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this
):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}_=_&&_.hasOwnProperty("default")?_.default:_,component=component&&component.hasOwnProperty("default")?component.default:component,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,__=__&&__.hasOwnProperty("default")?__.default:__,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0)
;var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression;return buffer+='<button class="',!(stack1=helpers.if.call(depth0,depth0&&depth0.type,{hash:{},inverse:this.noop,fn:this.program(1,function(depth0,data){var stack1,helper,buffer="";return buffer+="btn-",stack1=(helper=helpers.type)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.type)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(
stack1)},data),data:data}))&&0!==stack1||(buffer+=stack1),!(stack1=helpers.if.call(depth0,depth0&&depth0.small,{hash:{},inverse:this.noop,fn:this.program(3,function(depth0,data){return" small"},data),data:data}))&&0!==stack1||(buffer+=stack1),!(stack1=helpers.if.call(depth0,depth0&&depth0.cls,{hash:{},inverse:this.noop,fn:this.program(5,function(depth0,data){var stack1,helper,buffer="";return buffer+=" ",stack1=(helper=helpers.cls)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.cls)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)},data),data:data}))&&0!==stack1||(buffer+=stack1),
buffer+='" data-control="',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"',!(stack1=helpers.if.call(depth0,depth0&&depth0.title,{hash:{},inverse:this.noop,fn:this.program(7,function(depth0,data){var stack1,helper,buffer="";return buffer+=' title="',stack1=(helper=helpers.title)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.title)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"'},data),data:data}))&&0!==stack1||(buffer+=stack1),
buffer+=">\n    ",!(stack1=helpers.if.call(depth0,depth0&&depth0.icon,{hash:{},inverse:this.noop,fn:this.program(9,function(depth0,data){var stack1,helper,buffer="";return buffer+='<span class="icon icon-',stack1=(helper=helpers.icon)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.icon)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"></span>'},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n    <span class="label">',stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}
):helper,buffer+=escapeExpression(stack1)+"</span>\n</button>\n"});function buttonTpl(data,options,asString){var html=Template(data,options);return html}var defaults={small:!0};return function(config){return component({getId:function(){return this.config.id}},defaults).setTemplate(buttonTpl).on("render",function(){var self=this;this.getElement().on("click",function(e){e.preventDefault(),self.trigger("click",self.config.id)})}).init(config)}}),define("tpl!taoTestCenter/component/proctorForm/form",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],data=data||{};var stack1,helper,
buffer="";return buffer+='<div class="proctor-form section-container">\n    <div class="content-block">\n        ',!(stack1=(helper=(helpers=this.merge(helpers,Handlebars.helpers)).form)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.form)?helper.call(depth0,{hash:{},data:data}):helper)&&0!==stack1||(buffer+=stack1),buffer+="\n    </div>\n</div>"})}),define("taoTestCenter/component/proctorForm",["lodash","jquery","i18n","helpers","users","ui/feedback","ui/component","taoProctoring/helper/textConverter","tpl!taoTestCenter/component/proctorForm/form"],function(_,$,__,helpers,users,feedback,component,textConverter,formTpl){
"use strict";var _ns=".proctor-form",proctorFormUrl=helpers._url("createProctorForm","ProctorManager","taoTestCenter"),proctorLoginCheckUrl=helpers._url("checkLogin","ProctorManager","taoTestCenter");function renderFormFromData($container,formData){$container.html(formTpl({form:formData.form})),users.checkLogin(formData.loginId,proctorLoginCheckUrl)}return helpers.init(),function(config){return component().on("destroy",function(){this.getElement().off(_ns).empty()}).on("render",function(){var self=this,$element=this.getElement();textConverter().then(function(labels){$.get(proctorFormUrl,function(formData){renderFormFromData($element,formData),$element.on(
"submit"+_ns,"form",function(e){var fields=$(this).serializeArray(),list=self.config.testCenterList,data={testCenters:list&&list.getSelection()};_.each(fields,function(field){data[field.name]=field.value}),$.post(proctorFormUrl,data,function(res){res.created?(feedback().success(labels.get("Proctor created")),self.destroy()):renderFormFromData($element,res)}),e.preventDefault()}).on("click","button.btn-diasble",function(){self.destroy()})})}).catch(function(err){console.log(err)})}).init(config)}}),define("tpl!taoTestCenter/templates/proctorManager/counters",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){
this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,functionType="function",escapeExpression=this.escapeExpression,self=this;function program2(depth0,data){var stack1,helper,buffer="";return buffer+='<div class="',stack1=(helper=helpers.cls)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.cls)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"><span class="text">',stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}):helper,
buffer+=escapeExpression(stack1)+'</span>: <span class="count">',stack1=(helper=helpers.count)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.count)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"</span></div>"}return(stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.program(1,function(depth0,data){var stack1,buffer="";return buffer+="\n    ",!(stack1=helpers.if.call(depth0,depth0&&depth0.count,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n"},data),data:data}))||0===stack1?stack1:""})}),define(
"tpl!taoTestCenter/templates/proctorManager/status",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],data=data||{};var stack1,buffer="",helperMissing=(helpers=this.merge(helpers,Handlebars.helpers)).helperMissing,escapeExpression=this.escapeExpression,functionType="function";return!(stack1=helpers.if.call(depth0,depth0&&depth0.authorized,{hash:{},inverse:this.noop,fn:this.program(1,function(depth0,data){var helper,options,buffer="";return buffer+=escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Authorized",options
):helperMissing.call(depth0,"__","Authorized",options)))+' <span class="icon icon-authorize"></span>'},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n",!(stack1=helpers.if.call(depth0,depth0&&depth0.partially,{hash:{},inverse:this.noop,fn:this.program(3,function(depth0,data){var stack1,helper,options,buffer="";return buffer+='<span title="',stack1=(helper=helpers.testCenters)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.testCenters)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'">'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__
)?helper.call(depth0,"Partially authorized",options):helperMissing.call(depth0,"__","Partially authorized",options)))+"</span>"},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer})}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("lodash")):"function"==typeof define&&define.amd?define("core/providerRegistry",["lodash"],factory):(global=global||self)["core/providerRegistry"]=factory(global._)}(this,function(_){"use strict";return _=_&&_.hasOwnProperty("default")?_.default:_,function(target,validator){var _providers={};return(target=target||{}).registerProvider=function(name,provider){
var valid=!0;if(!_.isString(name)||name.length<=0)throw new TypeError("It is required to give a name to your provider.");if(!_.isPlainObject(provider)||!_.isFunction(provider.init))throw new TypeError("A provider is an object that contains at least an init function.");return(valid=validator&&_.isFunction(validator)?validator(provider):valid)&&(_providers[name]=provider),this},target.getProvider=function(providerName){var provider;if(!_providers||0===_.size(_providers))throw new Error("No provider registered");if(_.isString(providerName)&&0<providerName.length?provider=_providers[providerName]:1===_.size(_providers)&&(providerName=_.keys(_providers)[0],
provider=_providers[providerName]),!provider)throw new Error("No candidate found for the provider");return provider},target.getAvailableProviders=function(){return _.keys(_providers)},target.clearProviders=function(){return _providers={},this},target}}),define("ui/datatable/filterStrategy/multiple",["jquery","lodash"],function($,_){"use strict";return $=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_,{init:function(){},getQueryData:function($table,$filterElement,options){var data={filtercolumns:{}};if(0!==$(".filter",$table).length)return _.forEach($(".filter",$table),function(filter){var name,model,filterValue,
$filter=$(filter),column=$filter.data("column"),filterSelector=options.filterSelector||"select, input",$filterInput=$(filterSelector,$filter);0!==$filterInput.length&&(model=_.find(options.model,function(o){return o.id===column}),name=$filterInput.attr("name").replace(/^filter\[(.+)\]$/,"$1"),$filterInput.val()&&(filterValue=$filterInput.val(),model&&"function"==typeof model.filterTransform&&(filterValue=model.filterTransform(filterValue)),data.filtercolumns[name]=filterValue))}),data},getFiltersData:function($table,$filterElement,options){var data={filtercolumns:{}};return _.forEach($(".filter",$table),function(filter){var name,filterValue,$filter=$(filter)
,filterSelector=options.filterSelector||"select, input",$filterInput=$(filterSelector,$filter);0!==$filterInput.length&&(name=$filterInput.attr("name").replace(/^filter\[(.+)\]$/,"$1"),$filterInput.val()&&(filterValue=$filterInput.val(),data.filtercolumns[name]=filterValue))}),data},render:function($table,options){_.forEach($(".filter",$table),function(filter){var model,name,$filter=$(filter),column=$filter.data("column"),filterSelector=options.filterSelector||"select, input",$filterInput=$(filterSelector,$filter);0!==$filterInput.length&&(model=_.find(options.model,function(o){return o.id===column}),name=$filterInput.attr("name").replace(/^filter\[(.+)\]$/,
"$1"),options.filtercolumns&&options.filtercolumns[name]&&$filterInput.val(options.filtercolumns[name]),model&&model.customFilter&&"function"==typeof model.customFilter.callback&&model.customFilter.callback($filterInput))})}}}),define("ui/datatable/filterStrategy/single",["jquery","lodash"],function($,_){"use strict";return $=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_,{init:function(){},getQueryData:function($table,$filter,options){var data={},column=$filter.data("column"),model=_.find(options.model,function(o){return o.id===column});if(0!==$filter.length)return data.filterquery=$filter.find(":input").filter(
function(){return $(this).val()}).val(),model&&"function"==typeof model.filterTransform&&(data.filterquery=model.filterTransform(data.filterquery)),data.filtercolumns=column?column.split(","):options.filtercolumns,data},getFiltersData:function($table,$filter,options){var data={},column=$filter.data("column");if(0!==$filter.length)return data.filterquery=$filter.find(":input").filter(function(){return $(this).val()}).val(),data.filtercolumns=column?column.split(","):options.filter.columns,data},render:function($table,options){var filterColumns=options.filtercolumns?options.filtercolumns:[];_.forEach($(".filter",$table),function(filter){var $filter=$(filter),
column=$filter.data("column"),filterSelector=options.filterSelector||"select, input",$filterInput=$(filterSelector,$filter),model=_.find(options.model,function(o){return o.id===column});options.filterquery&&column===filterColumns.join()&&$filterInput.val(options.filterquery).addClass("focused"),model&&model.customFilter&&"function"==typeof model.customFilter.callback&&model.customFilter.callback($filterInput)})}}}),define("ui/datatable/filterStrategy/filterStrategy",["core/providerRegistry","ui/datatable/filterStrategy/multiple","ui/datatable/filterStrategy/single"],function(providerRegistry,multipleStrategy,singleStrategy){"use strict";var filter
;return providerRegistry=providerRegistry&&providerRegistry.hasOwnProperty("default")?providerRegistry.default:providerRegistry,multipleStrategy=multipleStrategy&&multipleStrategy.hasOwnProperty("default")?multipleStrategy.default:multipleStrategy,singleStrategy=singleStrategy&&singleStrategy.hasOwnProperty("default")?singleStrategy.default:singleStrategy,(filter=providerRegistry(function filterStrategy(datatableOptions){var strategy;return{init:function(){var strategyId=datatableOptions.filterStrategy||"single";return strategy=filterStrategy.getProvider(strategyId),this},getQueryData:function($table,$filter,options){return strategy.getQueryData($table,
$filter,options)},getFiltersData:function($table,$filter,options){return strategy.getFiltersData($table,$filter,options)},render:function($table,options){return strategy.render($table,options)}}.init()})).registerProvider("single",singleStrategy),filter.registerProvider("multiple",multipleStrategy),filter}),define("ui/pagination/providers/pages",["jquery","lodash","handlebars","i18n","lib/dompurify/purify"],function($$1,_,Handlebars,__,DOMPurify){"use strict";function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,
keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment="";null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"==typeof value&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret=""
;startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}$$1=$$1&&$$1.hasOwnProperty("default")?$$1.default:$$1,_=_&&_.hasOwnProperty("default")?_.default:_,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default"
)?Handlebars.default:Handlebars,__=__&&__.hasOwnProperty("default")?__.default:__,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],data=data||{};var helper,options,buffer="",helperMissing=(helpers=this.merge(helpers,Handlebars.helpers)).helperMissing,escapeExpression=this.escapeExpression
;return buffer+='<div class="grid-row clearfix pagination">\n    <ul class="pages">\n        <li class="first-page"><span class="icon-fast-backward" title="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"First page",options):helperMissing.call(depth0,"__","First page",options)))+'"></span></li>\n        <li class="previous"><span class="icon-backward" title="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Previous",options):helperMissing.call(depth0,"__","Previous",options))
)+'"></span></li>\n        <li class="next"><span class="icon-forward" title="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Next",options):helperMissing.call(depth0,"__","Next",options)))+'"></span></li>\n        <li class="last-page"><span class="icon-fast-forward" title="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Last page",options):helperMissing.call(depth0,"__","Last page",options)))+'"></span></li>\n    </ul>\n</div>\n'});Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template$1=Handlebars.template(
function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var helper,buffer="";return buffer+='<li class="page"><span>',buffer+=(0,this.escapeExpression)((helper=helpers.page)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.page)?helper.call(depth0,{hash:{},data:data}):helper)+"</span></li>\n"});return{init:function(){function getForwardBtn(){return $$1(".next",$paginationTpl)}var $paginationTpl,generatePage=function(page){return $$1(function(data,options){var html=Template$1(data,options);return html}({page:page}))},separator=function(){
var $page=generatePage("...");return $page.addClass("separator"),$page},generatePart=function(from,to,activePage){var i,$page,pages=[];for(i=from;i<=to;i++)$page=generatePage(i),i===activePage&&$page.addClass("active"),pages.push($page);return pages};return{render:function($container){$paginationTpl=$$1(function(data,options){var html=Template(data,options);return html}()),$container.append($paginationTpl)},forwardButton:function(){return getForwardBtn()},backwardButton:function(){return $$1(".previous",$paginationTpl)},pageButtons:function(){return $$1(".page",$paginationTpl)},firstPageButton:function(){return $$1(".first-page",$paginationTpl)},
lastPageButton:function(){return $$1(".last-page",$paginationTpl)},setPages:function(page,total){var pages=function(page,total){var pages=[];return pages=total<=7?pages.concat(generatePart(1,total,page)):page<5?(pages=(pages=pages.concat(generatePart(1,5,page))).concat(separator())).concat(generatePart(total,total,page)):total-3<=page?(pages=(pages=pages.concat(generatePart(1,1,page))).concat(separator())).concat(generatePart(total-3,total,page)):(pages=(pages=(pages=(pages=pages.concat(generatePart(1,1,page))).concat(separator())).concat(generatePart(page-1,page+1,page))).concat(separator())).concat(generatePart(total,total,page))}(page,total);$$1(".page",
$paginationTpl).remove(),function(list){var $point=getForwardBtn();_.each(list,function($page){$page.insertBefore($point)})}(pages)},disableButton:function($btn){$btn.hasClass("disabled")||$btn.addClass("disabled")},enableButton:function($btn){$btn.hasClass("disabled")&&$btn.removeClass("disabled")},destroy:function(){$paginationTpl.remove()},disable:function(){var self=this;this.disableButton(this.backwardButton()),this.disableButton(this.firstPageButton()),$$1(".page",$paginationTpl).each(function(){self.disableButton($$1(this))}),this.disableButton(this.lastPageButton()),this.disableButton(this.forwardButton())},enable:function(){var self=this;$$1(".page"
,$paginationTpl).each(function(){self.enableButton($$1(this))})}}}}}),define("ui/pagination/providers/simple",["jquery","handlebars","i18n","lodash","lib/dompurify/purify"],function($$1,Handlebars,__,_,DOMPurify){"use strict";function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,
function(value,key){var fragment="";null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"==typeof value&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){
return var1==var2?options.fn(this):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}$$1=$$1&&$$1.hasOwnProperty("default")?$$1.default:$$1,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,__=__&&__.hasOwnProperty("default")?__.default:__,_=_&&_.hasOwnProperty("default")?_.default:_,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0)
;var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],data=data||{};var helper,options,buffer="",helperMissing=(helpers=this.merge(helpers,Handlebars.helpers)).helperMissing,escapeExpression=this.escapeExpression;return buffer+='<div class="grid-row clearfix pagination">\n    <div class="col-6">'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Page",options):helperMissing.call(depth0,"__","Page",options)))+' <strong class="page">',buffer+=escapeExpression((helper=helpers.activePage)?helper.call(depth0,{hash:{},data:data}
):"function"==typeof(helper=depth0&&depth0.activePage)?helper.call(depth0,{hash:{},data:data}):helper)+"</strong> "+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"of",options):helperMissing.call(depth0,"__","of",options)))+' <span class="total">',buffer+=escapeExpression((helper=helpers.totalPages)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.totalPages)?helper.call(depth0,{hash:{},data:data}):helper)+'</span></div>\n    <div class="col-6 txt-rgt">\n        <button class="btn-info small"><span class="icon-backward"></span>'+escapeExpression((options={hash:{},
data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Previous",options):helperMissing.call(depth0,"__","Previous",options)))+'</button>\n        <button class="btn-info small">'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Next",options):helperMissing.call(depth0,"__","Next",options)))+'<span class="icon-forward r"></span></button>\n    </div>\n</div>\n'});return{init:function(){var $paginationTpl;return{render:function($container){$paginationTpl=$$1(function(data,options){var html=Template(data,options);return html}()),$container.append($paginationTpl)},forwardButton:function(){
return $$1(".icon-forward",$paginationTpl).parents("button")},backwardButton:function(){return $$1(".icon-backward",$paginationTpl).parents("button")},setPages:function(page,total){$$1(".page",$paginationTpl).text(page),$$1(".total",$paginationTpl).text(total)},disableButton:function($btn){$btn.attr("disabled","disabled")},enableButton:function($btn){$btn.attr("disabled")&&$btn.removeAttr("disabled")},pageButtons:function(){return!1},firstPageButton:function(){return!1},lastPageButton:function(){return!1},destroy:function(){$paginationTpl.remove()},disable:function(){this.disableButton(this.backwardButton()),this.disableButton(this.forwardButton())},
enable:function(){}}}}}),define("ui/pagination/paginationStrategy",["core/providerRegistry","ui/pagination/providers/pages","ui/pagination/providers/simple"],function(providerRegistry,pagesProvider,simpleProvider){"use strict";var paginationProvider;providerRegistry=providerRegistry&&providerRegistry.hasOwnProperty("default")?providerRegistry.default:providerRegistry,pagesProvider=pagesProvider&&pagesProvider.hasOwnProperty("default")?pagesProvider.default:pagesProvider,simpleProvider=simpleProvider&&simpleProvider.hasOwnProperty("default")?simpleProvider.default:simpleProvider;return(paginationProvider=providerRegistry(function paginationStrategy(mode){
return function(){return paginationStrategy.getProvider(mode||"simple")}()})).registerProvider("simple",simpleProvider),paginationProvider.registerProvider("pages",pagesProvider),paginationProvider}),define("css!ui/pagination/css/pagination",[],function(){}),define("ui/pagination",["jquery","lodash","i18n","ui/component","ui/pagination/paginationStrategy","css!ui/pagination/css/pagination.css"],function($,_,__,component,paginationStrategy,pagination_css){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_,__=__&&__.hasOwnProperty("default")?__.default:__,component=component&&component.hasOwnProperty(
"default")?component.default:component,paginationStrategy=paginationStrategy&&paginationStrategy.hasOwnProperty("default")?paginationStrategy.default:paginationStrategy;var _defaults={mode:"simple",activePage:1,totalPages:1};function calculateActivePage(page,pages){return(page=parseInt(page))<1&&(page=1),pages<page&&(page=pages),page}return function(config){var paginationComponent,provider,totalPages,activePage;return config=_.defaults(config||{},_defaults),(paginationComponent=component({setPage:function(page){!1===(page=calculateActivePage(page,this.getTotal()))?this.trigger("error",__("Undefined amount of the pages for pagination")):(activePage=page,
provider.setPages(this.getActivePage(),this.getTotal()),this.trigger("change"))},nextPage:function(){this.setPage(this.getActivePage()+1),this.trigger("next")},previousPage:function(){this.setPage(this.getActivePage()-1),this.trigger("prev")},getActivePage:function(){return activePage},getTotal:function(){return totalPages},refresh:function(){this.getActivePage()===this.getTotal()?(provider.disableButton(provider.forwardButton()),!1!==provider.lastPageButton()&&provider.disableButton(provider.lastPageButton())):(provider.enableButton(provider.forwardButton()),!1!==provider.lastPageButton()&&provider.enableButton(provider.lastPageButton())),
1===this.getActivePage()?(provider.disableButton(provider.backwardButton()),!1!==provider.firstPageButton()&&provider.disableButton(provider.firstPageButton())):(provider.enableButton(provider.backwardButton()),!1!==provider.firstPageButton()&&provider.enableButton(provider.firstPageButton()))}})).on("change enable",function(){provider.enable(),this.refresh()}).on("render",function(){var self=this;_.isUndefined(config.totalPages)&&this.trigger("error",__("Undefined amount of the totalPages for pagination")),!1===(totalPages=function(totalPages){return!((totalPages=totalPages||1)<1)&&totalPages}(config.totalPages))&&this.trigger("error",__(
"Undefined amount of the pages for pagination")),activePage=calculateActivePage(config.activePage||1,totalPages),(provider=paginationStrategy(config.mode).init()).render(this.getContainer()),this.setPage(this.getActivePage()),provider.forwardButton().off("click").on("click",function(){self.getActivePage()>=self.getTotal()||self.nextPage()}),provider.backwardButton().off("click").on("click",function(){1!==self.getActivePage()&&self.previousPage()}),!1!==provider.pageButtons()&&provider.pageButtons().off("click").on("click",function(){var page=parseInt($(this).text());page&&self.setPage(page)}),!1!==provider.firstPageButton()&&provider.firstPageButton().off(
"click").on("click",function(){self.setPage(1)}),!1!==provider.lastPageButton()&&provider.lastPageButton().off("click").on("click",function(){self.setPage(self.getTotal())})}).on("disable",function(){provider.disable()}).on("destroy",function(){provider.destroy()}).init(config),paginationComponent}}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("util/httpErrorParser",factory):(global=global||self)["util/httpErrorParser"]=factory()}(this,function(){"use strict";return{parse:function(xhr,options,errorThrown){var msg,json,error;try{msg=(json=JSON.parse(
xhr.responseText)).message?json.message:errorThrown}catch(e){msg=errorThrown}return(error=new Error(msg)).response=xhr,error.code=xhr.status,error.errorThrown=errorThrown,error}}}),define("ui/pageSizeSelector",["jquery","lodash","i18n","ui/component","handlebars","lib/dompurify/purify","select2"],function($$1,_,__,component,Handlebars,DOMPurify,select2){"use strict";function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[]
;return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment="";null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"==typeof value&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),
increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}$$1=$$1&&$$1.hasOwnProperty("default")?$$1.default:$$1,_=_&&_.hasOwnProperty("default")?_.default:_,__=__&&__.hasOwnProperty("default")?__.default:__,component=component&&component.hasOwnProperty("default"
)?component.default:component,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",self=this,functionType="function",escapeExpression=this.escapeExpression;function program2(depth0,data){return"selected"}
return buffer+='<div class="page-size-selector-container">\n    <select class="select2">\n        ',!(stack1=helpers.each.call(depth0,depth0&&depth0.options,{hash:{},inverse:self.noop,fn:self.program(1,function(depth0,data){var stack1,helper,buffer="";return buffer+="\n        <option ",!(stack1=helpers.if.call(depth0,depth0&&depth0.selected,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+=' value="',stack1=(helper=helpers.value)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.value)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1
)+'">\n            ',stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"\n        </option>\n        "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n    </select>\n</div>\n"});function pageSizeSelectorTpl(data,options,asString){var html=Template(data,options);return html}var defaults={defaultSize:25,options:[{label:"25 "+__("items per page"),value:25},{label:"50 "+__("items per page"),value:50},{label:"75 "+__("items per page"),value:75},{label:"100 "+__("items per page"),value:100},{
label:"200 "+__("items per page"),value:200}]};return function(config){return component({setSelectedOption:function(){var selectedOption,options=this.config.options,defaultSize=this.config.defaultSize;options.forEach(function(option){option.value==defaultSize?(selectedOption=option).selected=!0:option.selected=!1}),selectedOption||(options[0].selected=!0)}},defaults).setTemplate(pageSizeSelectorTpl).on("init",function(){this.setSelectedOption()}).on("render",function(){var self=this,$component=this.getElement();$$1(".select2",$component).select2({dropdownCssClass:"page-size-dropdown",minimumResultsForSearch:1/0}).on("change",function(e){self.trigger("change"
,e.val)})}).after("render",function(){var $component=this.getElement();this.trigger("change",$$1("select",$component).val())}).on("destroy",function(){var $component=this.getElement();$$1(".select2",$component).select2("destroy")}).init(config)}}),define("css!ui/datatable/css/datatable",[],function(){}),define("ui/datatable",["jquery","lodash","i18n","core/pluginifier","handlebars","lib/dompurify/purify","ui/datatable/filterStrategy/filterStrategy","ui/pagination","layout/loading-bar","core/logger","util/httpErrorParser","ui/pageSizeSelector","css!ui/datatable/css/datatable.css"],function($$1,_,__,Pluginifier,Handlebars,DOMPurify,filterStrategyFactory,
paginationComponent,loadingBar,loggerFactory,httpErrorParser,pageSizeSelector,datatable_css){"use strict";function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment=""
;null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"==typeof value&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this
):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}$$1=$$1&&$$1.hasOwnProperty("default")?$$1.default:$$1,_=_&&_.hasOwnProperty("default")?_.default:_,__=__&&__.hasOwnProperty("default")?__.default:__,Pluginifier=Pluginifier&&Pluginifier.hasOwnProperty("default")?Pluginifier.default:Pluginifier,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,
filterStrategyFactory=filterStrategyFactory&&filterStrategyFactory.hasOwnProperty("default")?filterStrategyFactory.default:filterStrategyFactory,paginationComponent=paginationComponent&&paginationComponent.hasOwnProperty("default")?paginationComponent.default:paginationComponent,loadingBar=loadingBar&&loadingBar.hasOwnProperty("default")?loadingBar.default:loadingBar,loggerFactory=loggerFactory&&loggerFactory.hasOwnProperty("default")?loggerFactory.default:loggerFactory,httpErrorParser=httpErrorParser&&httpErrorParser.hasOwnProperty("default")?httpErrorParser.default:httpErrorParser,pageSizeSelector=pageSizeSelector&&pageSizeSelector.hasOwnProperty("default"
)?pageSizeSelector.default:pageSizeSelector,Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;function program4(depth0,data){var stack1,helper;return stack1=(helper=helpers.empty)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.empty)===functionType?helper.call(depth0,{hash:{},data:data}):helper,escapeExpression(
stack1)}function program6(depth0,data,depth2){var stack1;return escapeExpression(typeof(stack1=null==(stack1=null==(stack1=depth2&&depth2.options)||!1===stack1?stack1:stack1.labels)||!1===stack1?stack1:stack1.empty)===functionType?stack1.apply(depth0):stack1)}function program8(depth0,data){var stack1,helper;return stack1=(helper=helpers.available)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.available)===functionType?helper.call(depth0,{hash:{},data:data}):helper,escapeExpression(stack1)}function program10(depth0,data,depth2){var stack1;return escapeExpression(typeof(stack1=null==(stack1=null==(stack1=depth2&&depth2.options
)||!1===stack1?stack1:stack1.labels)||!1===stack1?stack1:stack1.available)===functionType?stack1.apply(depth0):stack1)}function program12(depth0,data){var stack1,helper;return stack1=(helper=helpers.loading)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.loading)===functionType?helper.call(depth0,{hash:{},data:data}):helper,escapeExpression(stack1)}function program14(depth0,data,depth2){var stack1;return escapeExpression(typeof(stack1=null==(stack1=null==(stack1=depth2&&depth2.options)||!1===stack1?stack1:stack1.labels)||!1===stack1?stack1:stack1.loading)===functionType?stack1.apply(depth0):stack1)}function program19(depth0,data){
var stack1,buffer="";return buffer+='\n            <button class="btn-info small tool-',!(stack1=helpers.if.call(depth0,depth0&&depth0.id,{hash:{},inverse:self.program(22,program22,data),fn:self.program(20,program20,data),data:data}))&&0!==stack1||(buffer+=stack1),!(stack1=helpers.if.call(depth0,depth0&&depth0.massAction,{hash:{},inverse:self.noop,fn:self.program(24,program24,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='"',!(stack1=helpers.if.call(depth0,depth0&&depth0.title,{hash:{},inverse:self.noop,fn:self.program(26,program26,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='>\n                <span class="icon-',!(
stack1=helpers.if.call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.program(30,program30,data),fn:self.program(28,program28,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='"></span> ',!(stack1=helpers.if.call(depth0,depth0&&depth0.label,{hash:{},inverse:self.program(34,program34,data),fn:self.program(32,program32,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n            </button>\n        "}function program20(depth0,data){var stack1,helper;return stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,escapeExpression(stack1)}
function program22(depth0,data){var stack1;return escapeExpression(typeof(stack1=null==data||!1===data?data:data.key)===functionType?stack1.apply(depth0):stack1)}function program24(depth0,data){return" invisible"}function program26(depth0,data){var stack1,helper,buffer="";return buffer+=' title="',stack1=(helper=helpers.title)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.title)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"'}function program28(depth0,data){var stack1,helper;return stack1=(helper=helpers.icon)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.icon
)===functionType?helper.call(depth0,{hash:{},data:data}):helper,escapeExpression(stack1)}function program30(depth0,data){var stack1;return(stack1=helpers.if.call(depth0,depth0&&depth0.id,{hash:{},inverse:self.program(22,program22,data),fn:self.program(20,program20,data),data:data}))||0===stack1?stack1:""}function program32(depth0,data){var stack1,helper;return stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}):helper,escapeExpression(stack1)}function program34(depth0,data){var stack1;return(stack1=helpers.unless.call(depth0,depth0&&depth0.id,{
hash:{},inverse:self.noop,fn:self.program(22,program22,data),data:data}))||0===stack1?stack1:""}function program36(depth0,data){return"\n                <col/>\n                "}function program43(depth0,data){return' class="actions"'}function program45(depth0,data){var stack1,helper,buffer="";return buffer+=' class="sortable" data-sort-by="',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'" ',!(stack1=helpers.if.call(depth0,depth0&&depth0.sorttype,{hash:{},inverse:self.noop,fn:self.program(46,program46,data),
data:data}))&&0!==stack1||(buffer+=stack1),buffer+=' tabindex="0"'}function program46(depth0,data){var stack1,helper,buffer="";return buffer+='data-sort-type="',stack1=(helper=helpers.sorttype)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.sorttype)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"'}function program48(depth0,data){var stack1,helper,buffer="";return buffer+='\n                        <aside data-column="',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,
buffer+=escapeExpression(stack1)+'" class="filter column\n                            ',!(stack1=helpers.if.call(depth0,depth0&&depth0.customFilter,{hash:{},inverse:self.program(51,program51,data),fn:self.program(49,program49,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                        </aside>\n                        "}function program49(depth0,data){var stack1,buffer="";return buffer+=' customInput" >\n                                ',!(stack1=typeof(stack1=null==(stack1=depth0&&depth0.customFilter)||!1===stack1?stack1:stack1.template)===functionType?stack1.apply(depth0):stack1)&&0!==stack1||(buffer+=stack1),
buffer+="\n                            "}function program51(depth0,data){var stack1,helper,buffer="";return buffer+=' ">\n                                <input type="text" value="" name="filter[',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+']" placeholder="'+escapeExpression(typeof(stack1=null==(stack1=depth0&&depth0.filterable)||!1===stack1?stack1:stack1.placeholder)===functionType?stack1.apply(depth0):stack1
)+'">\n                                <button class="icon-find" type="button"></button>\n                            '}function program56(depth0,data){var stack1,helper,buffer="";return buffer+='\n                        <td class="checkboxes"><input type="checkbox" name="cb[',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+']" value="1" /></td>\n                        '}function program58(depth0,data,depth1){var stack1,buffer="";return buffer+="\n                            ",!(stack1=helpers.if.call(depth0,
depth0&&depth0.type,{hash:{},inverse:self.programWithDepth(75,program75,data,depth1),fn:self.programWithDepth(59,program59,data,depth0,depth1),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n\n                        "}function program59(depth0,data,depth1,depth2){var stack1,helper,buffer="";return buffer+='\n                            <td class="actions ',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'">\n                                ',!(stack1=helpers.each.call(depth0,depth1&&depth1.actions,{hash:{},
inverse:self.noop,fn:self.programWithDepth(60,program60,data,depth2),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                            </td>\n                            "}function program60(depth0,data,depth3){var stack1,buffer="";return buffer+="\n                                    ",!(stack1=helpers.if.call(depth0,depth0&&depth0.id,{hash:{},inverse:self.program(73,program73,data),fn:self.programWithDepth(61,program61,data,depth3),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n\n                                "}function program61(depth0,data,depth4){var stack1,buffer="";return buffer+="\n                                        ",!(
stack1=helpers.with.call(depth0,depth4,{hash:{},inverse:self.noop,fn:self.programWithDepth(62,program62,data,depth0),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                                    "}function program62(depth0,data,depth1){var stack1,buffer="";return buffer+="\n                                            ",!(stack1=helpers.unless.call(depth0,depth1&&depth1.hidden,{hash:{},inverse:self.noop,fn:self.programWithDepth(63,program63,data,depth1),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                                        "}function program63(depth0,data,depth2){var stack1,buffer=""
;return buffer+="\n                                                ",!(stack1=helpers.if.call(depth0,depth2&&depth2.disabled,{hash:{},inverse:self.programWithDepth(70,program70,data,depth2),fn:self.programWithDepth(64,program64,data,depth2),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                                            "}function program64(depth0,data,depth3){var stack1,buffer="";return buffer+="\n                                                    ",!(stack1=helpers.with.call(depth0,depth3,{hash:{},inverse:self.noop,fn:self.program(65,program65,data),data:data}))&&0!==stack1||(buffer+=stack1),
buffer+="\n                                                "}function program65(depth0,data){var stack1,helper,buffer="";return buffer+='\n                                <button class="btn-info small ',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"',!(stack1=helpers.if.call(depth0,depth0&&depth0.title,{hash:{},inverse:self.noop,fn:self.program(26,program26,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+=' disabled="disabled">',!(stack1=helpers.if.call(depth0,depth0&&depth0.icon,{hash:{},
inverse:self.noop,fn:self.program(66,program66,data),data:data}))&&0!==stack1||(buffer+=stack1),!(stack1=helpers.if.call(depth0,depth0&&depth0.label,{hash:{},inverse:self.noop,fn:self.program(68,program68,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="</button>\n                                                    "}function program66(depth0,data){var stack1,helper,buffer="";return buffer+='<span class="icon-',stack1=(helper=helpers.icon)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.icon)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"></span> '}function program68(depth0,data
){var stack1,helper,buffer="";return buffer+=" ",stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)}function program70(depth0,data,depth3){var stack1,buffer="";return buffer+="\n                                                    ",!(stack1=helpers.with.call(depth0,depth3,{hash:{},inverse:self.noop,fn:self.program(71,program71,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                                                "}function program71(depth0,data){var stack1,helper,buffer=""
;return buffer+='\n                                <button class="btn-info small ',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"',!(stack1=helpers.if.call(depth0,depth0&&depth0.title,{hash:{},inverse:self.noop,fn:self.program(26,program26,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+=">",!(stack1=helpers.if.call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.noop,fn:self.program(66,program66,data),data:data}))&&0!==stack1||(buffer+=stack1),!(stack1=helpers.if.call(depth0,depth0&&depth0.label,{
hash:{},inverse:self.noop,fn:self.program(68,program68,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="</button>\n                                                    "}function program73(depth0,data){var stack1,buffer="";return buffer+='\n                                <button class="btn-info small '+escapeExpression(typeof(stack1=null==data||!1===data?data:data.key)===functionType?stack1.apply(depth0):stack1)+'"',!(stack1=helpers.if.call(depth0,depth0&&depth0.title,{hash:{},inverse:self.noop,fn:self.program(26,program26,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+=">",!(stack1=helpers.if.call(depth0,depth0&&depth0.icon,{hash:{},
inverse:self.noop,fn:self.program(66,program66,data),data:data}))&&0!==stack1||(buffer+=stack1),!(stack1=helpers.if.call(depth0,depth0&&depth0.label,{hash:{},inverse:self.noop,fn:self.program(68,program68,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="</button>\n                                    "}function program75(depth0,data,depth2){var stack1,helper,options,buffer="";return buffer+='\n                            <td class="',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'">',options={hash:{},
data:data},stack1=(helper=helpers.property||depth0&&depth0.property)?helper.call(depth0,depth0&&depth0.id,depth2,options):helperMissing.call(depth0,"property",depth0&&depth0.id,depth2,options),options={hash:{},data:data},!(stack1=(helper=helpers.dompurify||depth0&&depth0.dompurify)?helper.call(depth0,stack1,options):helperMissing.call(depth0,"dompurify",stack1,options))&&0!==stack1||(buffer+=stack1),buffer+="</td>\n                            "}function program77(depth0,data,depth2){var stack1,buffer="";return buffer+='\n                        <td class="actions">\n                            ',!(stack1=helpers.each.call(depth0,null==(
stack1=depth2&&depth2.options)||!1===stack1?stack1:stack1.actions,{hash:{},inverse:self.noop,fn:self.programWithDepth(78,program78,data,depth0),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                        </td>\n                        "}function program78(depth0,data,depth1){var stack1,buffer="";return buffer+="\n                                ",!(stack1=helpers.if.call(depth0,depth0&&depth0.id,{hash:{},inverse:self.program(88,program88,data),fn:self.programWithDepth(79,program79,data,depth1),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                            "}function program79(depth0,data,depth2){var stack1,buffer=""
;return buffer+="\n                                    ",!(stack1=helpers.with.call(depth0,depth2,{hash:{},inverse:self.noop,fn:self.programWithDepth(80,program80,data,depth0),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                                "}function program80(depth0,data,depth1){var stack1,buffer="";return buffer+="\n                                        ",!(stack1=helpers.unless.call(depth0,depth1&&depth1.hidden,{hash:{},inverse:self.noop,fn:self.programWithDepth(81,program81,data,depth1),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                                    "}function program81(depth0,data,depth2){var stack1,
buffer="";return buffer+="\n                                            ",!(stack1=helpers.if.call(depth0,depth2&&depth2.disabled,{hash:{},inverse:self.programWithDepth(85,program85,data,depth2),fn:self.programWithDepth(82,program82,data,depth2),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                                        "}function program82(depth0,data,depth3){var stack1,buffer="";return buffer+="\n                                                ",!(stack1=helpers.with.call(depth0,depth3,{hash:{},inverse:self.noop,fn:self.program(83,program83,data),data:data}))&&0!==stack1||(buffer+=stack1),
buffer+="\n                                            "}function program83(depth0,data){var stack1,helper,buffer="";return buffer+='\n                            <button class="btn-info small ',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"',!(stack1=helpers.if.call(depth0,depth0&&depth0.title,{hash:{},inverse:self.noop,fn:self.program(26,program26,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+=' disabled="disabled">',!(stack1=helpers.if.call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.noop,
fn:self.program(66,program66,data),data:data}))&&0!==stack1||(buffer+=stack1),!(stack1=helpers.if.call(depth0,depth0&&depth0.label,{hash:{},inverse:self.noop,fn:self.program(68,program68,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="</button>\n                                                "}function program85(depth0,data,depth3){var stack1,buffer="";return buffer+="\n                                                ",!(stack1=helpers.with.call(depth0,depth3,{hash:{},inverse:self.noop,fn:self.program(86,program86,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                                            "}function program86(depth0,
data){var stack1,helper,buffer="";return buffer+='\n                            <button class="btn-info small ',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"',!(stack1=helpers.if.call(depth0,depth0&&depth0.title,{hash:{},inverse:self.noop,fn:self.program(26,program26,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+=">",!(stack1=helpers.if.call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.noop,fn:self.program(66,program66,data),data:data}))&&0!==stack1||(buffer+=stack1),!(stack1=helpers.if.call(
depth0,depth0&&depth0.label,{hash:{},inverse:self.noop,fn:self.program(68,program68,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="</button>\n                                                "}function program88(depth0,data){var stack1,buffer="";return buffer+='\n                            <button class="btn-info small '+escapeExpression(typeof(stack1=null==data||!1===data?data:data.key)===functionType?stack1.apply(depth0):stack1)+'"><span class="icon-'+escapeExpression(typeof(stack1=null==data||!1===data?data:data.key)===functionType?stack1.apply(depth0):stack1)+'"></span> '+escapeExpression(typeof(stack1=null==data||!1===data?data:data.key
)===functionType?stack1.apply(depth0):stack1)+"</button>\n                                "}function program91(depth0,data){var stack1,buffer="";return buffer+='\n                <div class="empty">\n                    '+escapeExpression(typeof(stack1=null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.emptyText)===functionType?stack1.apply(depth0):stack1)+"\n                </div>\n            "}return buffer+='<div class="datatable-wrapper">\n\n    ',!(stack1=helpers.if.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.filter,{hash:{},inverse:self.noop,fn:self.program(1,function(depth0,data){var stack1,buffer=""
;return buffer+='\n    <aside class="filter" data-column="'+escapeExpression(typeof(stack1=null==(stack1=null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.filter)||!1===stack1?stack1:stack1.columns)===functionType?stack1.apply(depth0):stack1)+'">\n        <input type="text" value="" name="filter" placeholder="'+escapeExpression(typeof(stack1=null==(stack1=null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.labels)||!1===stack1?stack1:stack1.filter)===functionType?stack1.apply(depth0):stack1)+'">\n        <button class="icon-find" type="button"></button>\n    </aside>\n    '},data),data:data}))&&0!==stack1||(buffer+=stack1),
buffer+='\n\n    <div class="datatable-header">\n        ',!(stack1=helpers.with.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.status,{hash:{},inverse:self.noop,fn:self.programWithDepth(3,function(depth0,data,depth1){var stack1,helper,buffer="";return buffer+='\n        <h2>\n            <span class="empty-list hidden">',!(stack1=helpers.if.call(depth0,depth0&&depth0.empty,{hash:{},inverse:self.programWithDepth(6,program6,data,depth1),fn:self.program(4,program4,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='</span>\n            <span class="available-list hidden"><span class="text">',!(stack1=helpers.if.call(depth0,
depth0&&depth0.available,{hash:{},inverse:self.programWithDepth(10,program10,data,depth1),fn:self.program(8,program8,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='</span>: <span class="count">',stack1=(helper=helpers.count)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.count)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'</span></span>\n            <span class="loading">',!(stack1=helpers.if.call(depth0,depth0&&depth0.loading,{hash:{},inverse:self.programWithDepth(14,program14,data,depth1),fn:self.program(12,program12,data),data:data}))&&0!==stack1||(buffer+=stack1),
buffer+="...</span>\n        </h2>\n        "},data,depth0),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n\n        ",!(stack1=helpers.if.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.pageSizeSelector,{hash:{},inverse:self.noop,fn:self.program(16,function(depth0,data){return'\n        <div class="toolbox-container"></div>\n        '},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n    </div>\n\n    ",!(stack1=helpers.if.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.tools,{hash:{},inverse:self.noop,fn:self.program(18,function(depth0,data){var stack1,buffer=""
;return buffer+='\n    <aside class="action-bar clearfix">\n        ',!(stack1=helpers.each.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.tools,{hash:{},inverse:self.noop,fn:self.program(19,program19,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n    </aside>\n    "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n\n    <div class="datatable-pagination-top"></div>\n\n    <div class="datatable-container">\n        <table class="matrix datatable">\n            <colgroup>\n                ',!(stack1=helpers.if.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.selectable,{hash:{},
inverse:self.noop,fn:self.program(36,program36,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                ",!(stack1=helpers.each.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.model,{hash:{},inverse:self.noop,fn:self.program(36,program36,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                ",!(stack1=helpers.if.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.actions,{hash:{},inverse:self.noop,fn:self.program(38,function(depth0,data){return"\n                </col>\n                "},data),data:data}))&&0!==stack1||(buffer+=stack1),
buffer+="\n            </colgroup>\n            <thead>\n                <tr>\n                    ",!(stack1=helpers.if.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.selectable,{hash:{},inverse:self.noop,fn:self.program(40,function(depth0,data){return'\n                    <th class="checkboxes"><input type="checkbox" name="checkall" value="1" /></th>\n                    '},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                    ",!(stack1=helpers.each.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.model,{hash:{},inverse:self.noop,fn:self.program(42,function(depth0,data){
var stack1,helper,buffer="";return buffer+="\n                    <th",!(stack1=helpers.if.call(depth0,depth0&&depth0.type,{hash:{},inverse:self.noop,fn:self.program(43,program43,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+=">\n                        <div ",!(stack1=helpers.if.call(depth0,depth0&&depth0.sortable,{hash:{},inverse:self.noop,fn:self.program(45,program45,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+=">",stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1
)+"</div>\n                        ",!(stack1=helpers.if.call(depth0,depth0&&depth0.filterable,{hash:{},inverse:self.noop,fn:self.program(48,program48,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                    </th>\n                    "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                    ",!(stack1=helpers.if.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.actions,{hash:{},inverse:self.noop,fn:self.program(53,function(depth0,data){var stack1,buffer="";return buffer+='\n                    <th class="actions">'+escapeExpression(typeof(stack1=null==(stack1=null==(
stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.labels)||!1===stack1?stack1:stack1.actions)===functionType?stack1.apply(depth0):stack1)+"</th>\n                    "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                </tr>\n            </thead>\n            <tbody>\n                ",!(stack1=helpers.each.call(depth0,null==(stack1=depth0&&depth0.dataset)||!1===stack1?stack1:stack1.data,{hash:{},inverse:self.noop,fn:self.programWithDepth(55,function(depth0,data,depth1){var stack1,helper,buffer="";return buffer+='\n                    <tr data-item-identifier="',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},
data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'">\n                        ',!(stack1=helpers.if.call(depth0,null==(stack1=depth1&&depth1.options)||!1===stack1?stack1:stack1.selectable,{hash:{},inverse:self.noop,fn:self.program(56,program56,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n\n                        ",!(stack1=helpers.each.call(depth0,null==(stack1=depth1&&depth1.options)||!1===stack1?stack1:stack1.model,{hash:{},inverse:self.noop,fn:self.programWithDepth(58,program58,data,depth0),data:data}))&&0!==stack1||(buffer+=stack1),
buffer+="\n\n                        ",!(stack1=helpers.if.call(depth0,null==(stack1=depth1&&depth1.options)||!1===stack1?stack1:stack1.actions,{hash:{},inverse:self.noop,fn:self.programWithDepth(77,program77,data,depth1),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                    </tr>\n                "},data,depth0),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n            </tbody>\n        </table>\n        ",!(stack1=helpers.unless.call(depth0,null==(stack1=depth0&&depth0.dataset)||!1===stack1?stack1:stack1.data,{hash:{},inverse:self.noop,fn:self.program(90,function(depth0,data){var stack1,buffer="";return buffer+="\n            ",
!(stack1=helpers.if.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.emptyText,{hash:{},inverse:self.noop,fn:self.program(91,program91,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n        "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n    </div>\n    <div class="datatable-pagination-bottom"></div>\n</div>\n'});var ns="datatable",dataNs="ui."+ns,defaults={start:0,rows:25,page:1,sortby:"id",sortorder:"asc",sorttype:"string",paginationStrategyTop:"none",paginationStrategyBottom:"simple",labels:{filter:__("Filter"),empty:__("Nothing to list!"),available:__("Available"),loading:__("Loading"),actions:__(
"Actions")},pageSizeSelector:!1},logger=loggerFactory("ui/datatable"),disablePaginations=function(paginations){paginations&&paginations.length&&_.forEach(paginations,function(pagination){pagination.disable()})},enablePaginations=function(paginations){paginations&&paginations.length&&_.forEach(paginations,function(pagination){pagination.enable()})},dataTable={init:function(options,data){return options=_.defaults(options,defaults),this.each(function(){var $elt=$$1(this),currentOptions=$elt.data(dataNs);$elt.paginations=[],currentOptions?(options&&$elt.data(dataNs,_.merge(currentOptions,options)),dataTable._refresh($elt,data)):($elt.data(dataNs,options),
$elt.one("load."+ns,function(){$elt.trigger("create."+ns)}),data?dataTable._render($elt,data):dataTable._query($elt))})},_refresh:function($elt,data){data?this._render($elt,data):this._query($elt)},_query:function($elt,$filter){var parameters,ajaxConfig,self=this,options=$elt.data(dataNs);loadingBar.start(),$filter=$filter||$$1(".filter",$elt),options=_.assign({},options,this._getFilterStrategy($elt).getQueryData($elt,$filter,options)),parameters=_.merge({},_.pick(options,["rows","page","sortby","sortorder","sorttype","filterquery","filtercolumns"]),options.params||{}),ajaxConfig={url:options.url,data:parameters,dataType:"json",type:options.querytype||"GET"}
,disablePaginations($elt.paginations),$elt.trigger("query."+ns,[ajaxConfig]),options.status&&$elt.find(".loading").removeClass("hidden"),$$1.ajax(ajaxConfig).done(function(response){self._render($elt,response),loadingBar.stop()}).fail(function(response,option,err){var requestErr=httpErrorParser.parse(response,option,err);logger.error(requestErr.message),requestErr.code=response.status,enablePaginations(this.paginations),$elt.trigger("error."+ns,[requestErr]),self._render($elt,{}),loadingBar.stop()})},_render:function($elt,dataset){var $rendering,$statusEmpty,$statusAvailable,$statusCount,$sortBy,$sortElement,$checkAll,$checkboxes,$rows,amount,transforms,
self=this,options=_.cloneDeep($elt.data(dataNs)),$massActionBtns=$$1(),model=[],join=function(input){return"object"!=typeof input?input:input.join(", ")};dataset=dataset||{},$elt.trigger("beforeload."+ns,[_.cloneDeep(dataset)]),_.forEach(options.model,function(field,key){options.filter||(field.filterable=!1),_.isUndefined(field.order)&&(field.order=key+1),field.filterable&&"object"!=typeof field.filterable&&(field.filterable={placeholder:__("Filter")}),field.transform&&(field.transform=_.isFunction(field.transform)?field.transform:join),void 0===field.visible?model.push(field):"function"==typeof field.visible&&field.visible()?model.push(field
):!0===field.visible&&model.push(field)}),model.sort(function(a,b){return a.order-b.order}),options.sortby&&(options=this._sortOptions($elt,options.sortby,options.sortorder,options.sorttype)),_.some(options.model,"transform")&&(transforms=_.where(options.model,"transform"),_.forEach(dataset.data,function(row,index){_.forEach(transforms,function(field){row[field.id]=field.transform(row[field.id],row,field,index,dataset.data)})})),options.model=model,$rendering=$$1(function(data,options){var html=Template(data,options);return html}({options:options,dataset:dataset})),_.forEach(dataset.readonly,function(values,id){if(!0===values)$$1(
'[data-item-identifier="'+id+'"] button',$rendering).addClass("disabled");else if(values&&"object"==typeof values)for(var action in values)values.hasOwnProperty(action)&&!0===values[action]&&$$1('[data-item-identifier="'+id+'"] button.'+action,$rendering).addClass("disabled")});function attachActionListeners(actions){_.forEach(actions,function(action,name){var css;_.isFunction(action)||(name=action.id||name,action=action.action||function(){}),css="."+name,$rendering.off("click",css).on("click",css,function(e){var $btn=$$1(this);if(e.preventDefault(),!$btn.hasClass("disabled")){var identifier=$btn.closest("[data-item-identifier]").data("item-identifier")
;action.apply($btn,[identifier,_.first(_.where(dataset.data,{id:identifier}))])}})})}if(options.actions&&attachActionListeners(options.actions),_.some(options.model,"type")){var types=_.where(options.model,"type");_.forEach(types,function(field){"actions"===field.type&&field.actions&&attachActionListeners(field.actions)})}function renderPagination($container,mode){return paginationComponent({mode:mode,activePage:dataset.page,totalPages:dataset.total}).on("change",function(){self._setPage($elt,this.getActivePage())}).on("prev",function(){$elt.trigger("backward."+ns)}).on("next",function(){$elt.trigger("forward."+ns)}).render($container)}_.forEach(
options.tools,function(action,name){var css,massAction=!0;_.isFunction(action)||(name=action.id||name,massAction=action.massAction,action=action.action||function(){}),css=".tool-"+name,massAction&&($massActionBtns=$massActionBtns.add($rendering.find(css))),$rendering.off("click",css).on("click",css,function(e){var $btn=$$1(this);e.preventDefault(),$btn.hasClass("disabled")||action.apply($btn,[self._selection($elt)])})}),_.forEach(options.listeners,function(callback,event){var ev=[event,ns].join(".");$elt.off(ev).on(ev,callback)}),$elt.paginations=[],"none"!==options.paginationStrategyTop&&$elt.paginations.push(renderPagination($$1(".datatable-pagination-top"
,$rendering),options.paginationStrategyTop)),"none"!==options.paginationStrategyBottom&&$elt.paginations.push(renderPagination($$1(".datatable-pagination-bottom",$rendering),options.paginationStrategyBottom)),disablePaginations($elt.paginations),$rows=$rendering.find("tbody tr"),$sortBy=$rendering.find("th [data-sort-by]"),$sortElement=$rendering.find('[data-sort-by="'+options.sortby+'"]'),$checkAll=$rendering.find("th.checkboxes input"),$checkboxes=$rendering.find("td.checkboxes input"),options.rowSelection&&($$1("table.datatable",$rendering).addClass("hoverable"),$rendering.on("click","tbody td",function(e){if($$1(e.target).hasClass("checkboxes")||$$1(
e.target).hasClass("actions"))return!1;var currentRow=$$1(this).parent();$rows.removeClass("selected"),currentRow.toggleClass("selected"),$elt.trigger("selected."+ns,_.where(dataset.data,{id:currentRow.data("item-identifier")}))})),$sortBy.on("click keyup",function(e){var column,type;"keyup"===e.type&&13!==e.keyCode||(e.preventDefault(),column=$$1(this).data("sort-by"),type=$$1(this).data("sort-type"),self._sort($elt,column,void 0,type))}),options.filter&&(self._getFilterStrategy($elt).render($rendering,options),_.forEach($$1(".filter",$rendering),function(filter){var $filter=$$1(filter),$filterBtn=$$1("button",$filter),$filterInput=$$1("select, input",
$filter);$filterInput.is("select")?$filterInput.on("change",function(){self._filter($elt,$filter)}):($filterBtn.off("click").on("click",function(e){e.preventDefault(),self._filter($elt,$filter)}),$filterInput.off("keypress").on("keypress",function(e){13===e.which&&(e.preventDefault(),self._filter($elt,$filter))}))})),$checkAll.click(function(){this.checked?($checkAll.prop("checked",!0),$checkboxes.prop("checked",!0)):($checkAll.prop("checked",!1),$checkboxes.prop("checked",!1)),$massActionBtns.length&&$massActionBtns.toggleClass("invisible",!$checkboxes.filter(":checked").length),$elt.trigger("select."+ns)}),$checkboxes.click(function(){$checkboxes.filter(
":checked").length===$checkboxes.length?$checkAll.prop("checked",!0):$checkAll.prop("checked",!1),$massActionBtns.length&&$massActionBtns.toggleClass("invisible",!$checkboxes.filter(":checked").length),$elt.trigger("select."+ns)}),$$1("th.sorted",$rendering).removeClass("sorted"),$sortElement.addClass("sorted").addClass("sorted_"+options.sortorder),options.status&&($statusEmpty=$rendering.find(".empty-list"),$statusCount=($statusAvailable=$rendering.find(".available-list")).find(".count"),$rendering.find(".loading").addClass("hidden"),(amount=dataset.amount||dataset.length)?($statusCount.text(amount),$statusAvailable.removeClass("hidden"),
$statusEmpty.addClass("hidden")):($statusEmpty.removeClass("hidden"),$statusAvailable.addClass("hidden"))),$elt.html($rendering),options.filter&&options.filterquery&&$rendering.find("[name=filter].focused").focus(),enablePaginations($elt.paginations),options.pageSizeSelector&&pageSizeSelector({renderTo:$$1(".toolbox-container",$rendering),defaultSize:options.rows}).on("change",function(val){self._setRows($elt,val)}),$elt.trigger("load."+ns,[dataset])},_setPage:function($elt,page){var options=$elt.data(dataNs);options.page!==page&&(options.page=page,$elt.data(dataNs,options),$elt.trigger("setpage."+ns),this._query($elt))},_filter:function($elt,$filter){
var options=$elt.data(dataNs),filtersData=this._getFilterStrategy($elt).getFiltersData($elt,$filter,options);options.page=1,$elt.data(dataNs,_.assign(options,filtersData)),$elt.trigger("filter."+ns,[options]),this._query($elt,$filter)},_getFilterStrategy:function($elt){var options=$elt.data(dataNs);return filterStrategyFactory(options)},_sort:function($elt,sortBy,asc,sortType){var options=this._sortOptions($elt,sortBy,asc,sortType);$elt.trigger("sort."+ns,[options.sortby,options.sortorder,options.sorttype]),this._query($elt)},_sortOptions:function($elt,sortBy,asc,sortType){var options=$elt.data(dataNs);return void 0!==asc?("asc"!==asc&&"desc"!==asc&&(
asc=asc?"asc":"desc"),options.sortorder=asc):"asc"===options.sortorder&&options.sortby===sortBy?options.sortorder="desc":options.sortorder="asc",options.sortby=sortBy,options.sorttype=sortType,$elt.data(dataNs,options),_.cloneDeep(options)},_selection:function($elt){var $selected=$elt.find("[data-item-identifier]").has("td.checkboxes input:checked"),selection=[];return $selected.each(function(){selection.push($$1(this).data("item-identifier"))}),selection},_highlightRow:function($elt,rowId){this._addRowClass($elt,rowId,"highlight")},_addRowClass:function($elt,rowId,className){var $row=$elt.find('[data-item-identifier="'+rowId+'"]');$row.hasClass(className
)||$row.addClass(className)},_removeRowClass:function($elt,rowId,className){var $row=$elt.find('[data-item-identifier="'+rowId+'"]');$row.hasClass(className)&&$row.removeClass(className)},_setRows:function($elt,rows){var options=$elt.data(dataNs);options.rows!==rows&&(options.rows=rows,options.page=1,$elt.data(dataNs,options),$elt.trigger("setpage."+ns),this._query($elt))}};Pluginifier.register(ns,dataTable,{expose:["refresh","sort","filter","selection","render","highlightRow","addRowClass","removeRowClass"]})}),define("taoTestCenter/controller/ProctorManager/index",["lodash","jquery","i18n","layout/loading-bar","util/url","util/encode","ui/feedback",
"ui/dialog/confirm","ui/bulkActionPopup","ui/datalist","ui/button","taoTestCenter/component/proctorForm","taoProctoring/helper/textConverter","tpl!taoTestCenter/templates/proctorManager/counters","tpl!taoTestCenter/templates/proctorManager/status","ui/datatable"],function(_,$,__,loadingBar,urlHelper,encode,feedback,dialogConfirm,bulkActionPopup,datalist,buttonFactory,proctorForm,textConverter,counterTpl,statusTpl){"use strict";var indexUrl=urlHelper.route("index","TestCenter","taoTestCenter"),proctorsDataUrl=urlHelper.route("proctorAuthorizations","ProctorManager","taoTestCenter"),authorizeUrl=urlHelper.route("authorize","ProctorManager","taoTestCenter"),
unauthorizeUrl=urlHelper.route("unauthorize","ProctorManager","taoTestCenter"),_modes_EMPTY=0,_modes_LIST=1,_modes_FORM=2;return loadingBar.start(),{start:function(){textConverter().then(function(labels){var $container=$(".proctorManager-index"),$panelSelection=$(".test-center-panel"),$containerList=$(".proctor-list"),$containerForm=$(".proctor-create"),$noSelection=$(".proctor-default"),testCenters=$container.data("list"),pageMode=_modes_EMPTY,list=datalist({renderTo:$panelSelection,textNumber:__("Test sites"),labelText:__("Test site"),selectable:!0},testCenters);function request(url,selection,message){selection&&selection.length&&(loadingBar.start(),
$.ajax({url:url,data:{testCenters:list.getSelection(),proctors:selection},dataType:"json",type:"POST",error:function(){loadingBar.stop()}}).done(function(response){if(loadingBar.stop(),response&&response.success)message&&feedback().success(message),$containerList.datatable("refresh");else{var errorMessage=__("Something went wrong ...");response.proctors&&(errorMessage=__("No authorization to revoke for these proctors :"),errorMessage+="</ul>",response.proctors.forEach(function(proctor){errorMessage+="<li>"+proctor+"</li>"}),errorMessage+="</ul>"),feedback().error(errorMessage,{encodeHtml:!1})}}))}function authorize(selection,message){dialogConfirm(message,
function(){request(authorizeUrl,selection,labels.get("Proctors authorized"))})}function revoke(selection,message){dialogConfirm(message,function(){request(unauthorizeUrl,selection,labels.get("Proctors revoked"))})}function processMode(selection){if(selection.length)switch(pageMode){case _modes_EMPTY:pageMode=_modes_LIST;case _modes_LIST:$containerList.datatable("options",{params:{testCenters:null}}).datatable("options",{params:{testCenters:selection}}).datatable("refresh")}else _modes_LIST===pageMode?pageMode=_modes_EMPTY:_modes_EMPTY!==pageMode&&feedback().warning(__("You must select at least one test center!"));$noSelection.toggleClass("hidden",
_modes_EMPTY!==pageMode),$containerList.toggleClass("hidden",_modes_LIST!==pageMode),$containerForm.toggleClass("hidden",_modes_FORM!==pageMode)}buttonFactory({id:"back",type:"info",label:__("Back to index"),cls:"back-button",renderTo:$container.find(".header")}).on("click",function(){window.location.href=indexUrl}),list.on("select",function(selection){processMode(selection)}),$containerList.on("query.datatable",function(){loadingBar.start()}).on("load.datatable",function(e,dataset){var partially=0,authorized=0,lines=dataset&&dataset.data;_.forEach(lines,function(line){if(line&&line.status)switch(line.status){case 1:partially++;break;case 2:authorized++}}),
$(this).find(".datatable-wrapper h2").append(counterTpl([{id:"authorized-list",label:labels.get("Authorized proctors"),count:authorized},{id:"partially-list",label:labels.get("Partially authorized proctors"),count:partially}])),loadingBar.stop()}).datatable({url:proctorsDataUrl,status:{empty:labels.get("No assigned proctors"),available:labels.get("Assigned proctors"),loading:__("Loading")},tools:[{id:"refresh",icon:"reset",title:__("Refresh the page"),label:__("Refresh"),action:function(){$containerList.datatable("refresh")}},{id:"create",icon:"add",title:labels.get("Creates and authorizes proctor"),label:labels.get("Create Proctor"),action:function(){
var selection=list.getSelection();proctorForm({renderTo:$containerForm,testCenterList:list}).on("destroy",function(){pageMode=_modes_LIST,processMode(list.getSelection())}),pageMode=_modes_FORM,processMode(selection)}},{id:"authorize",icon:"authorize",title:labels.get("Authorize the selected proctors"),label:__("Authorize"),massAction:!0,action:function(selection){authorize(selection,labels.get("The proctors will be authorized. Continue ?"))}},{id:"revoke",icon:"revoke",title:labels.get("Revoke authorization for the selected proctors"),label:__("Revoke"),massAction:!0,action:function(selection){revoke(selection,labels.get(
"The proctors will be revoked. Continue ?"))}}],actions:[{id:"authorize",icon:"authorize",title:labels.get("Authorize the proctor"),hidden:function(){return 2===this.status},action:function(id){authorize([id],labels.get("The proctor will be authorized. Continue ?"))}},{id:"revoke",icon:"revoke",title:labels.get("Revoke the proctor"),hidden:function(){return!this.status},action:function(id){revoke([id],labels.get("The proctor will be revoked. Continue ?"))}}],selectable:!0,model:[{id:"firstname",label:__("First name")},{id:"lastname",label:__("Last name")},{id:"login",label:__("Login")},{id:"state",label:__("Status"),transform:function(value,row){
return statusTpl({testCenters:row.authorized,partially:1===row.status,authorized:2===row.status})}}]},[]),loadingBar.stop()}).catch(function(err){console.error(err)})}}}),define("taoTestCenter/controller/routes",{ProctorManager:{actions:{index:"controller/ProctorManager/index"}},TestCenterManager:{actions:{editCenter:"controller/TestCenterManager/editCenter"}},TestCenter:{actions:{index:"controller/TestCenter/index",testCenter:"controller/TestCenter/testCenter"}}}),define("css!ui/listbox/css/listbox",[],function(){}),define("ui/listbox",["lodash","i18n","ui/component","handlebars","lib/dompurify/purify","css!ui/listbox/css/listbox.css"],function(_,__,
component,Handlebars,DOMPurify,listbox_css){"use strict";function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment="";null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"==typeof value&&(value=_.values(value).join(" "
)):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(
haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}_=_&&_.hasOwnProperty("default")?_.default:_,__=__&&__.hasOwnProperty("default")?__.default:__,component=component&&component.hasOwnProperty("default")?component.default:component,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,
Handlebars.helpers),data=data||{};var stack1,helper,buffer="",escapeExpression=this.escapeExpression;function program3(depth0,data){return" hidden"}return buffer+='<div class="listbox">\n    <h1 ',!(stack1=helpers.unless.call(depth0,depth0&&depth0.title,{hash:{},inverse:this.noop,fn:this.program(1,function(depth0,data){return'class="hidden"'},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+=">",buffer+=escapeExpression(stack1=(helper=helpers.title)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.title)?helper.call(depth0,{hash:{},data:data}):helper)+'</h1>\n    <h2>\n        <span class="empty-list',!(
stack1=helpers.unless.call(depth0,depth0&&depth0.textEmpty,{hash:{},inverse:this.noop,fn:this.program(3,program3,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='">',buffer+=escapeExpression(stack1=(helper=helpers.textEmpty)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.textEmpty)?helper.call(depth0,{hash:{},data:data}):helper)+'</span>\n        <span class="available-list',!(stack1=helpers.unless.call(depth0,depth0&&depth0.textNumber,{hash:{},inverse:this.noop,fn:this.program(3,program3,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='"><span class="label">',buffer+=escapeExpression(stack1=(
helper=helpers.textNumber)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.textNumber)?helper.call(depth0,{hash:{},data:data}):helper)+'</span>: <span class="count"></span></span>\n        <span class="loading',!(stack1=helpers.unless.call(depth0,depth0&&depth0.textLoading,{hash:{},inverse:this.noop,fn:this.program(3,program3,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='"><span>',buffer+=escapeExpression(stack1=(helper=helpers.textLoading)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.textLoading)?helper.call(depth0,{hash:{},data:data}):helper
)+'</span>...</span>\n    </h2>\n    <div class="list"></div>\n</div>\n'});function mainTpl(data,options,asString){var html=Template(data,options);return html}Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template$1=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;function program2(depth0,data){var stack1,helper;return stack1=(helper=helpers.width)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.width
)===functionType?helper.call(depth0,{hash:{},data:data}):helper,escapeExpression(stack1)}function program4(depth0,data,depth2){var stack1;return(stack1=helpers.if.call(depth0,depth2&&depth2.width,{hash:{},inverse:self.program(7,program7,data),fn:self.programWithDepth(5,program5,data,depth2),data:data}))||0===stack1?stack1:""}function program5(depth0,data,depth3){var stack1;return escapeExpression(typeof(stack1=depth3&&depth3.width)===functionType?stack1.apply(depth0):stack1)}function program7(depth0,data){return"12"}function program9(depth0,data){var stack1,helper,buffer="";return buffer+=" ",stack1=(helper=helpers.cls)?helper.call(depth0,{hash:{},data:data}
):typeof(helper=depth0&&depth0.cls)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)}function program11(depth0,data){var stack1,helper,buffer="";return buffer+='<div class="content clearfix">',!(stack1=(helper=helpers.content)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.content)===functionType?helper.call(depth0,{hash:{},data:data}):helper)&&0!==stack1||(buffer+=stack1),buffer+="</div>"}function program13(depth0,data){var stack1,helper,buffer="";return buffer+='<span class="text-html">',!(stack1=(helper=helpers.html)?helper.call(depth0,{hash:{},data:data}):typeof(
helper=depth0&&depth0.html)===functionType?helper.call(depth0,{hash:{},data:data}):helper)&&0!==stack1||(buffer+=stack1),buffer+="</span>"}function program15(depth0,data){var stack1,helper,buffer="";return buffer+='<span class="text-link"><span class="icon-play"></span>',stack1=(helper=helpers.text)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.text)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"</span>"}return buffer+='<ul class="list-box flex-grid plain">\n    ',!(stack1=helpers.each.call(depth0,depth0&&depth0.list,{hash:{},inverse:self.noop,fn:self.programWithDepth(1,function(depth0,
data,depth1){var stack1,helper,buffer="";return buffer+='\n    <li class="entry flex-col-',!(stack1=helpers.if.call(depth0,depth0&&depth0.width,{hash:{},inverse:self.programWithDepth(4,program4,data,depth1),fn:self.program(2,program2,data),data:data}))&&0!==stack1||(buffer+=stack1),!(stack1=helpers.if.call(depth0,depth0&&depth0.cls,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='">\n        <a class="block box" href="',stack1=(helper=helpers.url)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.url)===functionType?helper.call(depth0,{hash:{},data:data}):helper,
buffer+=escapeExpression(stack1)+'">\n            <h3 class="title">',stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"</h3>\n            ",!(stack1=helpers.if.call(depth0,depth0&&depth0.content,{hash:{},inverse:self.noop,fn:self.program(11,program11,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n            <div class="bottom clearfix">\n                ',!(stack1=helpers.if.call(depth0,depth0&&depth0.html,{hash:{},inverse:self.noop,fn:self.program(13,program13,data),data:data}))&&0!==stack1||(
buffer+=stack1),buffer+="\n                ",!(stack1=helpers.if.call(depth0,depth0&&depth0.text,{hash:{},inverse:self.noop,fn:self.program(15,program15,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n            </div>\n        </a>\n    </li>\n    "},data,depth0),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n</ul>\n"});var _defaults={title:!1,textNumber:__("Available"),textEmpty:__("There is nothing to list!"),textLoading:__("Loading"),flex:12},listBox={update:function(list){var count,$list=this.controls&&this.controls.$list,$numberValue=this.controls&&this.controls.$numberValue;return this.setLoading(!0),$list&&($list.empty(),
list&&list.length?($list.append(function(data,options){var html=Template$1(data,options);return html}({list:list,width:this.config.flex})),$numberValue&&(count=list.length,_.isFunction(this.config.countRenderer)&&(count=this.config.countRenderer(count)),$numberValue.text(count)),this.setState("empty",!1),this.setState("loaded",!0)):(this.setState("empty",!0),this.setState("loaded",!1))),this.setLoading(!1),this},setLoading:function(flag){return flag&&this.setState("loaded",!1),this.setState("loading",flag)},setTitle:function(title){var $title=this.controls&&this.controls.$title;return this.config.title=title,$title&&(!1===title?$title.addClass("hidden"
):$title.html(title).removeClass("hidden")),this},setTextNumber:function(text){var $numberLabel=this.controls&&this.controls.$numberLabel,$textAvailable=this.controls&&this.controls.$textAvailable;return this.config.textNumber=text,$numberLabel&&(!1!==text?$numberLabel.html(text).removeClass("hidden"):$textAvailable&&$textAvailable.addClass("hidden")),this},setTextEmpty:function(text){var $textEmpty=this.controls&&this.controls.$textEmpty;return this.config.textEmpty=text,$textEmpty&&(!1===text?$textEmpty.addClass("hidden"):$textEmpty.html(text).removeClass("hidden")),this},setTextLoading:function(text){
var $textLoading=this.controls&&this.controls.$textLoading;return this.config.textLoading=text,$textLoading&&(!1===text?$textLoading.addClass("hidden"):$textLoading.html(text).removeClass("hidden")),this},setSize:function(){return console.warn("The setSize() method has been disabled in the listbox component as its size is handled by CSS flex box"),this}};return function(config){var initConfig=config||{};return initConfig.flex=initConfig.width,component(listBox,_defaults).setTemplate(mainTpl).on("destroy",function(){this.controls=null}).on("render",function(){this.controls={$title:this.$component.find("h1"),$textEmpty:this.$component.find(".empty-list"),
$textAvailable:this.$component.find(".available-list"),$textLoading:this.$component.find(".loading span"),$numberLabel:this.$component.find(".available-list .label"),$numberValue:this.$component.find(".available-list .count"),$list:this.$component.find(".list")},this.config.list?this.update(this.config.list):(this.setState("empty",!0),this.setState("loaded",!1))}).init(_.omit(initConfig,"width"))}}),define("taoTestCenter/controller/TestCenter/index",["jquery","i18n","util/url","layout/loading-bar","ui/listbox","ui/button","taoProctoring/helper/textConverter"],function($,__,urlHelper,loadingBar,listBox,buttonFactory,textConverter){"use strict"
;return loadingBar.start(),{start:function(){textConverter().then(function(labels){function update(boxes){list.update(boxes),loadingBar.stop()}var $container=$(".testcenters-index"),admin=$container.data("administrator"),boxes=$container.data("list"),list=listBox({title:__("My Test sites"),textEmpty:__("No test site available"),textNumber:__("Available"),textLoading:__("Loading"),renderTo:$container.find(".content"),replace:!0}),serviceUrl=urlHelper.route("index","TestCenter","taoTestCenter"),adminUrl=urlHelper.route("index","ProctorManager","taoTestCenter");boxes?update(boxes):(loadingBar.start(),list.setLoading(!0),$.ajax({url:serviceUrl,cache:!1,
dataType:"json",type:"GET"}).done(function(response){boxes=response&&response.list,update(boxes)})),admin&&buttonFactory({id:"manage-proctors",type:"info",icon:"users",cls:"manage-button",label:labels.get("Manage Proctors"),renderTo:$container.find(".header")}).on("click",function(){window.location.href=adminUrl})}).catch(function(err){console.log(err)})}}}),define("taoTestCenter/controller/TestCenter/testCenter",["jquery","i18n","util/url","layout/loading-bar","ui/listbox"],function($,__,urlHelper,loadingBar,listBox){"use strict";return loadingBar.start(),{start:function(){function update(boxes){list.update(boxes),loadingBar.stop()}var $container=$(
".testcenters-testcenter"),boxes=$container.data("list"),title=($container.data("id"),$container.data("title")),list=listBox({title:title,textEmpty:!1,textNumber:!1,textLoading:__("Loading"),renderTo:$container.find(".content"),replace:!0,width:12}),serviceUrl=urlHelper.route("testCenter","TestCenter","taoTestCenter");boxes?update(boxes):(loadingBar.start(),list.setLoading(!0),$.ajax({url:serviceUrl,cache:!1,dataType:"json",type:"GET"}).done(function(response){boxes=response&&response.list,update(boxes)}))}}}),define("tpl!taoTestCenter/component/eligibilityEditor/layout",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,
partials,data){this.compilerInfo=[4,">= 1.0.0"],data=data||{};var stack1,helper,options,buffer="",helperMissing=(helpers=this.merge(helpers,Handlebars.helpers)).helperMissing,escapeExpression=this.escapeExpression,functionType="function";function program3(depth0,data){return"flex-col-12"}function program5(depth0,data){return"flex-col-6"}return buffer+='<div class="eligibility-editor',!(stack1=helpers.if.call(depth0,depth0&&depth0.editingMode,{hash:{},inverse:this.noop,fn:this.program(1,function(depth0,data){return" editing"},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='">\n    <h2 class="title">',stack1=(helper=helpers.title)?helper.call(depth0,
{hash:{},data:data}):typeof(helper=depth0&&depth0.title)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'</h2>\n\n    <div class="flex-grid ">\n        <div class="',!(stack1=helpers.if.call(depth0,depth0&&depth0.editingMode,{hash:{},inverse:this.program(5,program5,data),fn:this.program(3,program3,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+=' tree-container eligible-delivery">\n            <label>'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Eligible Deliveries",options):helperMissing.call(depth0,"__","Eligible Deliveries",options))
)+'</label>\n                <div id="',stack1=(helper=helpers.deliveryTreeId)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.deliveryTreeId)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"></div>\n        </div>\n        <div class="',!(stack1=helpers.if.call(depth0,depth0&&depth0.editingMode,{hash:{},inverse:this.program(5,program5,data),fn:this.program(3,program3,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+=' tree-container eligible-testTaker">\n            <label>'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,
"Eligible Test Takers",options):helperMissing.call(depth0,"__","Eligible Test Takers",options)))+" ",!(stack1=helpers.if.call(depth0,depth0&&depth0.editingMode,{hash:{},inverse:this.noop,fn:this.program(7,function(depth0,data){var stack1,helper,options,buffer="";return buffer+=escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"for",options):helperMissing.call(depth0,"__","for",options)))+' <span class="delivery-name">',stack1=(helper=helpers.deliveryName)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.deliveryName)===functionType?helper.call(depth0,{hash:{},data:data}):helper,
buffer+=escapeExpression(stack1)+"</span> :"},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='</label>\n                <div id="',stack1=(helper=helpers.subjectTreeId)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.subjectTreeId)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"></div>\n        </div>\n    </div>\n    <div class="actions">\n        <button class="btn btn-info small done">'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"OK",options):helperMissing.call(depth0,"__","OK",options))
)+'</button>\n        <a href="#" class="btn cancel" title="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"cancel the action",options):helperMissing.call(depth0,"__","cancel the action",options)))+'">'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"cancel",options):helperMissing.call(depth0,"__","cancel",options)))+"</a>\n    </div>\n</div>"})}),define("css!taoTestCenterCss/eligibilityEditor",[],function(){}),define("taoTestCenter/component/eligibilityEditor",["jquery","lodash","i18n","module","util/url","uri","ui/component",
"generis.tree.select","tpl!taoTestCenter/component/eligibilityEditor/layout","ui/feedback","ui/modal","css!taoTestCenterCss/eligibilityEditor"],function($,_,__,module,url,uri,component,GenerisTreeSelectClass,layoutTpl,feedback){"use strict";var _ns=".eligibility-editor",_modalDefaults={width:600},config={dataUrl:url.route("getData","GenerisTree","tao"),deliveriesOrder:"http://www.w3.org/2000/01/rdf-schema#label",deliveriesOrderdir:"asc",isDacEnabled:!1,testTakerDataUrl:url.route("getData","TestCenterManager","taoTestCenter")};config=_.defaults({},module.config(),config),_.isObject(config.testTakerDataUrl)?config.testTakerDataUrl=url.route(
config.testTakerDataUrl.action,config.testTakerDataUrl.controller,config.testTakerDataUrl.extension):config.testTakerDataUrl=config.dataUrl;return function(){var eligibilityEditor,testTakerTreeId=_.uniqueId("eligible-testTaker-tree-"),deliveryTreeId=_.uniqueId("eligible-delivery-tree-"),buildTestTakerTree=function(id,url,testTakers,isDacEnabled){var selected=_.pluck(testTakers,"uri");return void 0===isDacEnabled&&(isDacEnabled=config.isDacEnabled),new GenerisTreeSelectClass("#"+id,url,{actionId:"treeOptions.actionId",saveUrl:"treeOptions.saveUrl",saveData:{},checkedNodes:_.map(selected,uri.encode),serverParameters:{openParentNodes:selected,
rootNode:"http://www.tao.lu/Ontologies/TAOSubject.rdf#Subject"},paginate:10,checkResourcePermissions:isDacEnabled})},destroyModal=function(){eligibilityEditor&&eligibilityEditor.getElement()&&eligibilityEditor.getElement().modal("destroy").remove()},initModal=function(modalConfig){modalConfig=_.defaults(modalConfig||{},_modalDefaults),eligibilityEditor&&eligibilityEditor.getElement()&&eligibilityEditor.getElement().addClass("modal").on("closed.modal",destroyModal).modal(modalConfig)};return eligibilityEditor=component({add:function($container,options){return this.on("render",function(){var deliveryTree,testTakerTree,self=this;options=_.defaults(options||{},
this.config),deliveryTree=function(id,url,deliveries){var selected=_.pluck(deliveries,"uri");return new GenerisTreeSelectClass("#"+id,url,{actionId:"treeOptions.actionId",saveUrl:"treeOptions.saveUrl",saveData:{},checkedNodes:_.map(selected,uri.encode),serverParameters:{openParentNodes:selected,rootNode:"http://www.tao.lu/Ontologies/TAODelivery.rdf#AssembledDelivery",order:config.deliveriesOrder,orderdir:config.deliveriesOrderdir},paginate:10})}(deliveryTreeId,options.dataUrl),testTakerTree=buildTestTakerTree(testTakerTreeId,options.testTakerDataUrl,[],options.isDacEnabled),initModal({width:650}),this.$component.on("click"+_ns,".actions .done",function(e){
var deliveries=_(deliveryTree.getChecked()).uniq().compact().value(),testTakers=_(testTakerTree.getChecked()).uniq().compact().value();deliveries&&deliveries.length?(self.trigger("ok",{deliveries:deliveries,testTakers:testTakers}),destroyModal()):feedback(self.$component).warning(__("At least one delivery need to be selected to create"))}).on("click"+_ns,".actions .cancel",function(e){e.preventDefault(),destroyModal(),self.trigger("cancel")}),this.trigger("open")}).init({title:__("Add Eligibility"),editingMode:!1,subjectTreeId:testTakerTreeId,deliveryTreeId:deliveryTreeId}).render($container).resize()},edit:function($container,deliveryName,testTakers,options
){return this.on("render",function(){var testTakerTree,self=this;options=_.defaults(options||{},this.config),testTakerTree=buildTestTakerTree(testTakerTreeId,options.testTakerDataUrl,testTakers,options.isDacEnabled),initModal({width:400}),this.$component.on("click"+_ns,".actions .done",function(e){var testTakers=_(testTakerTree.getChecked()).uniq().compact().value();self.trigger("ok",{testTakers:testTakers}),destroyModal()}).on("click"+_ns,".actions .cancel",function(e){e.preventDefault(),destroyModal(),self.trigger("cancel")}),this.trigger("open")}).init({title:__("Edit Eligibility"),editingMode:!0,subjectTreeId:testTakerTreeId,
deliveryTreeId:deliveryTreeId,deliveryName:deliveryName}).render($container).resize()},resize:function(){return eligibilityEditor.getElement().css({top:"40px","overflow-y":"auto"}),eligibilityEditor.getElement().css("max-height",$(window).height()-2*parseInt(eligibilityEditor.getElement().css("top"),10)+"px"),this}},config).setTemplate(layoutTpl)}}),define("tpl!taoTestCenter/component/eligibilityTable/status",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],data=data||{};var stack1,helperMissing=(helpers=this.merge(helpers,Handlebars.helpers)).helperMissing,
escapeExpression=this.escapeExpression;return(stack1=helpers.if.call(depth0,depth0&&depth0.byPassProctor,{hash:{},inverse:this.program(3,function(depth0,data){var helper,options,buffer="";return buffer+='\n    <span class="icon-shield txt-success" title="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"This delivery needs proctor authorization",options):helperMissing.call(depth0,"__","This delivery needs proctor authorization",options)))+'"></span>\n'},data),fn:this.program(1,function(depth0,data){var helper,options,buffer=""
;return buffer+='\n    <span class="icon-unshield txt-danger" title="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"This delivery can be launched without authorization",options):helperMissing.call(depth0,"__","This delivery can be launched without authorization",options)))+'"></span>\n'},data),data:data}))||0===stack1?stack1:""})}),define("tpl!taoTestCenter/component/eligibilityTable/actions",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],data=data||{};var stack1,helperMissing=(helpers=this.merge(helpers,
Handlebars.helpers)).helperMissing,escapeExpression=this.escapeExpression,self=this;function program2(depth0,data){var helper,options,buffer="";return buffer+='\n        <button class="btn-info small edit" title="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Enable proctor authorization",options):helperMissing.call(depth0,"__","Enable proctor authorization",options)))+'" data-action="shield">\n            <span class="icon-shield"></span> '+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Proctor",options):helperMissing.call(depth0,"__",
"Proctor",options)))+"\n        </button>\n    "}function program4(depth0,data){var helper,options,buffer="";return buffer+='\n        <button class="btn-info small edit" title="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Remove proctor authorization",options):helperMissing.call(depth0,"__","Remove proctor authorization",options)))+'" data-action="unshield">\n            <span class="icon-unshield"></span> '+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Un-Proctor",options):helperMissing.call(depth0,"__","Un-Proctor",options))
)+"\n        </button>\n    "}return(stack1=helpers.if.call(depth0,depth0&&depth0.allowedToWrite,{hash:{},inverse:self.noop,fn:self.program(1,function(depth0,data){var stack1,helper,options,buffer="";return buffer+='\n    <button class="btn-info small edit" title="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Edit eligibile test takers",options):helperMissing.call(depth0,"__","Edit eligibile test takers",options)))+'" data-action="edit">\n        <span class="icon-edit"></span> '+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Edit",options
):helperMissing.call(depth0,"__","Edit",options)))+"\n    </button>\n\n    ",!(stack1=helpers.if.call(depth0,depth0&&depth0.byPassProctor,{hash:{},inverse:self.program(4,program4,data),fn:self.program(2,program2,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n\n    <button class="btn-info small remove" title="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Remove eligibility",options):helperMissing.call(depth0,"__","Remove eligibility",options)))+'" data-action="remove">\n        <span class="icon-bin"></span> '+escapeExpression((options={hash:{},data:data},(
helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Remove",options):helperMissing.call(depth0,"__","Remove",options)))+"\n    </button>\n"},data),data:data}))||0===stack1?stack1:""})}),define("css!taoTestCenterCss/eligibilityTable",[],function(){}),define("taoTestCenter/component/eligibilityTable",["jquery","lodash","i18n","ui/component","helpers","tpl!taoTestCenter/component/eligibilityTable/status","tpl!taoTestCenter/component/eligibilityTable/actions","css!taoTestCenterCss/eligibilityTable.css","ui/datatable"],function($,_,__,component,helpers,statusTpl,actionsTpl){"use strict";return function(testCenterId,permissions){var tableComponent,
eligibilities=[],tools=[],allowedToWrite=!1;if(_.isEmpty(testCenterId))throw new TypeError("The eligibility provider needs to be initialized with a test center");return(!permissions||permissions&&permissions.WRITE)&&(allowedToWrite=!0,tools=[{id:"add",icon:"add",title:__("Add"),label:__("Add"),action:function(){tableComponent.trigger("add",eligibilities)}},{id:"import",icon:"import",title:__("Import"),label:__("Import"),action:function(){tableComponent.trigger("import",eligibilities)}}]),tableComponent=component({},{dataUrl:helpers._url("getEligibilities","TestCenterManager","taoTestCenter",{uri:testCenterId})}).on("render",function(){var self=this
;this.$component.on("query.datatable",function(){self.trigger("loading")}).on("load.datatable",function(e){self.trigger("loaded")}).on("beforeload.datatable",function(e,dataSet){dataSet&&dataSet.data&&(eligibilities=dataSet.data)}).datatable({url:this.config.dataUrl,status:{empty:__("No Eligible Delivery yet"),available:__("Eligible Deliveries"),loading:__("Loading")},tools:tools,model:[{id:"status",label:"",transform:function(value,row){return statusTpl(row)}},{id:"deliveryLabel",label:__("Delivery"),transform:function(value,row){return row.delivery.label}},{id:"testTakersCount",label:__("Eligible Test Takers"),transform:function(value,row){
return row.testTakers&&row.testTakers.length?row.testTakers.length:0}},{id:"actions",label:__("Actions"),transform:function(value,row){return row.allowedToWrite=allowedToWrite,actionsTpl(row)}}],selectable:!1}).on("click",".actions button",function(e){e.preventDefault();var $button=$(this),itemId=$button.parents("[data-item-identifier]").data("item-identifier"),action=$button.data("action");self.trigger(action,itemId,eligibilities)})}).on("reload",function(){this.$component&&this.$component.datatable("refresh")})}}),define("tpl!taoTestCenter/component/eligibilityImport/layout",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,
partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var helper,buffer="";return buffer+='<div id="eligibility-import">\n    <div class="report-container">\n        <div class="section-header flex-container-full">\n            <h2>',buffer+=(0,this.escapeExpression)((helper=helpers.title)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.title)?helper.call(depth0,{hash:{},data:data}):helper)+'</h2>\n        </div>\n        <div class="main-container flex-container-full report"></div>\n    </div>\n    <div id="upload-container"></div>\n</div>'})}),define("ui/report",[
"jquery","lodash","ui/component","handlebars","i18n","lib/dompurify/purify"],function($$1,_,component,Handlebars,__,DOMPurify){"use strict";function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment=""
;null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"==typeof value&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this
):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}$$1=$$1&&$$1.hasOwnProperty("default")?$$1.default:$$1,_=_&&_.hasOwnProperty("default")?_.default:_,component=component&&component.hasOwnProperty("default")?component.default:component,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,__=__&&__.hasOwnProperty("default")?__.default:__,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,Helpers0.__initialized||(
Helpers0(Handlebars),Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],data=data||{};var stack1,helper,buffer="",helperMissing=(helpers=this.merge(helpers,Handlebars.helpers)).helperMissing,escapeExpression=this.escapeExpression;return buffer+='<div class="component-report',!(stack1=helpers.if.call(depth0,depth0&&depth0.noBorder,{hash:{},inverse:this.noop,fn:this.program(1,function(depth0,data){return" no-border"},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='">\n    ',!(stack1=helpers.if.call(depth0,depth0&&depth0.detailsButtonVisible,{hash:{},
inverse:this.noop,fn:this.program(3,function(depth0,data){var helper,options,buffer="";return buffer+='\n    <label class="fold pseudo-label-box">\n        <span class="check-txt hide">'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Hide detailed report",options):helperMissing.call(depth0,"__","Hide detailed report",options)))+'</span>\n        <span class="check-txt show">'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Show detailed report",options):helperMissing.call(depth0,"__","Show detailed report",options))
)+'</span>\n        <input type="checkbox"/>\n        <span class="icon-checkbox"></span>\n    </label>\n    '},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n    <div class="content">',stack1=(helper=helpers.content)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.content)?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"</div>\n</div>"});function layoutTpl(data,options,asString){var html=Template(data,options);return html}Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template$1=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){
this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing;return buffer+='<div class="feedback-',stack1=(helper=helpers.type)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.type)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+" ",!(stack1=helpers.if.call(depth0,depth0&&depth0.hasChildren,{hash:{},inverse:this.program(3,function(depth0,data){return"leaf"},data),fn:this.program(1,function(depth0,data){return"hierarchical"},
data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='">\n    <span class="icon-',stack1=(helper=helpers.type)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.type)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1),!(stack1=helpers.if.call(depth0,depth0&&depth0.hasChildren,{hash:{},inverse:this.noop,fn:this.program(5,function(depth0,data){return" hierarchical-icon"},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='"></span>\n    <div class="message">',options={hash:{},data:data},!(stack1=(helper=helpers.dompurify||depth0&&depth0.dompurify)?helper.call(depth0,depth0&&depth0.message
,options):helperMissing.call(depth0,"dompurify",depth0&&depth0.message,options))&&0!==stack1||(buffer+=stack1),buffer+="</div>\n    ",!(stack1=helpers.each.call(depth0,depth0&&depth0.children,{hash:{},inverse:this.noop,fn:this.program(7,function(depth0,data){var stack1,buffer="";return buffer+="\n        ",!(stack1=typeof depth0===functionType?depth0.apply(depth0):depth0)&&0!==stack1||(buffer+=stack1),buffer+="\n    "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n    <div class="actions">\n        ',!(stack1=helpers.each.call(depth0,depth0&&depth0.actions,{hash:{},inverse:this.noop,fn:this.program(9,function(depth0,data){var stack1,helper,
buffer="";return buffer+='\n        <button data-trigger="',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'" class="action btn-info" title="',stack1=(helper=helpers.title)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.title)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"><span class="icon-',stack1=(helper=helpers.icon)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.icon)===functionType?helper.call(depth0,{hash:{},
data:data}):helper,buffer+=escapeExpression(stack1)+'"></span>',stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"</button>\n        "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n    </div>\n</div>"});function _renderFeebacks(data,actions){var children=[];if(!data.type||-1===authorizedTypes.indexOf(data.type))throw new TypeError("Unkown report type: "+data.type);return _.isArray(data.children)&&data.children.length&&_.each(data.children,function(child){children.push(_renderFeebacks(child))}),
data.hasChildren=0<children.length,data.children=children,data.actions=actions,function(data,options){var html=Template$1(data,options);return html}(data)}var _defaults={showDetailsButton:!0,actions:[]},authorizedTypes=["success","info","warning","error"],report={isDetailed:function(){return this.is("detailed")},showDetails:function(){return this.is("rendered")&&(this.setState("detailed",!0),this.getElement().find(".fold input").prop("checked",!0),this.trigger("showDetails")),this},hideDetails:function(){return this.is("rendered")&&(this.setState("detailed"),this.getElement().find(".fold input").prop("checked",!1),this.trigger("hideDetails")),this}}
;return function(config,data){var initConfig=_.defaults(config||{},_defaults);return data&&_.isArray(data.children)&&data.children.length&&(initConfig.detailsButtonVisible=initConfig.showDetailsButton),component(report).setTemplate(layoutTpl).on("render",function(){var self=this,$content=this.getElement().find(".content"),$checkbox=this.getElement().find(".fold input");$content.append(_renderFeebacks(_.cloneDeep(data),this.config.actions)),$content.on("click",".action",function(){var actionId=$$1(this).data("trigger");self.trigger("action-"+actionId),self.trigger("action",actionId)}),$checkbox.on("change",_.throttle(function(){self.isDetailed(
)?self.hideDetails():self.showDetails()},100))}).init(initConfig)}}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("util/bytes",factory):(global=global||self)["util/bytes"]=factory()}(this,function(){"use strict";return{hrSize:function(bytes){var unit=0;for(bytes=bytes||0;1024<=bytes;)bytes/=1024,unit++;return bytes.toFixed(2)+["B","kB","MB","GB","TB"][unit]}}}),define("ui/dialog/alert",["lodash","ui/dialog"],function(_,dialog){"use strict";return _=_&&_.hasOwnProperty("default")?_.default:_,dialog=dialog&&dialog.hasOwnProperty("default"
)?dialog.default:dialog,function(message,action,onCreateDialog){var dlg=dialog({message:message,buttons:"ok",autoDestroy:!0,autoRender:!0}).on("create.dialog",function(){onCreateDialog&&onCreateDialog()});return _.isFunction(action)&&dlg.on("closed.modal",action),dlg}}),define("ui/filesender",["jquery","lodash","layout/logout-event"],function($,_,logoutEvent){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_,logoutEvent=logoutEvent&&logoutEvent.hasOwnProperty("default")?logoutEvent.default:logoutEvent;var FileSender={_opts:{frame:"__postFrame_",loaded:function(data){}},_init:function(options){var xhr,fd,
self=FileSender,opts=_.defaults(options,self._opts),xhr2="undefined"!=typeof XMLHttpRequest&&(new XMLHttpRequest).upload&&"undefined"!=typeof FormData,fileParamName=options.fileParamName||"content",fileNameParamName=options.fileNameParamName||"contentName";if(!(this.attr("action")||opts.url&&0!==opts.url.trim().length))throw new Error("An url is required in the options or at least an action ");if(0===this.find("input[type='file']").length)throw new Error("This plugin is used to post files, your form should include an input element of type file.");if(!this||!this.is("form"))throw new Error("This plugin can only be called on a FORM element");xhr2&&(
xhr=new XMLHttpRequest,fd=new FormData(this[0]),options.file&&options.file instanceof File&&(fd.append(fileParamName,options.file),fd.append(fileNameParamName,encodeURIComponent(options.file.name))),xhr.open("POST",opts.url,!0),xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),xhr.onreadystatechange=function(){if(4===xhr.readyState)if(200===xhr.status){var result=$.parseJSON(xhr.responseText);result.error?"function"==typeof opts.failed&&opts.failed(result.error):"function"==typeof opts.loaded&&opts.loaded(result)}else 403===xhr.status&&logoutEvent(),"function"==typeof opts.failed&&opts.failed()},xhr.send(fd))}};$.fn.sendfile=function(options){
return FileSender._init.call(this,options)}}),define("ui/progressbar",["jquery","lodash","core/pluginifier"],function($,_,Pluginifier){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_,Pluginifier=Pluginifier&&Pluginifier.hasOwnProperty("default")?Pluginifier.default:Pluginifier;var ns="progressbar",dataNs="ui."+ns,defaults={disableClass:"disabled",style:"info",value:0,showProgress:!1},progressBar={init:function(options){return options=_.defaults(options||{},defaults),this.each(function(){var $pgElt,percent,$elt=$(this);$elt.data(dataNs)||(options.value=parseInt(options.value,10),$elt.data(dataNs,options),
percent=options.value+"%",$pgElt=$("<span></span>").width(percent).attr("title",percent),options.showProgress&&$pgElt.text(percent),$elt.addClass("progressbar").addClass(options.style).empty().append($pgElt),$elt.trigger("create."+ns))})},_update:function($elt,value){var $pgElt,percent,options=$elt.data(dataNs);0<=(value=parseInt(value,10))&&value<=100&&(percent=value+"%",($pgElt=$elt.children("span")).width(value+"%").attr("title",percent),options.showProgress&&$pgElt.text(percent),options.value=value,$elt.data(dataNs,options),$elt.trigger("update."+ns,value))},_value:function($elt,value){var options=$elt.data(dataNs)
;return void 0!==value?progressBar._update($elt,value):options.value},destroy:function(){return this.each(function(){var $elt=$(this);$elt.data(dataNs)&&($elt.removeClass("progressbar").empty().removeData(dataNs),$elt.trigger("destroy."+ns))})}};Pluginifier.register(ns,progressBar,{expose:["update","value"]})}),define("ui/uploader",["jquery","lodash","i18n","async","core/pluginifier","util/bytes","handlebars","lib/dompurify/purify","ui/filesender","ui/progressbar"],function($$1,_,__,async,Pluginifier,bytes,Handlebars,DOMPurify,filesender,progressbar){"use strict";function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper(
"dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment="";null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"==typeof value&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)
}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}$$1=$$1&&$$1.hasOwnProperty("default")?$$1.default:$$1,
_=_&&_.hasOwnProperty("default")?_.default:_,__=__&&__.hasOwnProperty("default")?__.default:__,async=async&&async.hasOwnProperty("default")?async.default:async,Pluginifier=Pluginifier&&Pluginifier.hasOwnProperty("default")?Pluginifier.default:Pluginifier,bytes=bytes&&bytes.hasOwnProperty("default")?bytes.default:bytes,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){
this.compilerInfo=[4,">= 1.0.0"],data=data||{};var stack1,helper,options,buffer="",helperMissing=(helpers=this.merge(helpers,Handlebars.helpers)).helperMissing,escapeExpression=this.escapeExpression,functionType="function";return buffer+='<div class="file-upload grid-row">\n    <span class="btn-info btn-browse small col-5"><span class="icon-folder-open"></span>'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Browse...",options):helperMissing.call(depth0,"__","Browse...",options)))+'</span>\n    <span class="file-name col-7 truncate placeholder">'+escapeExpression((options={hash:{},data:data},(
helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"No file selected",options):helperMissing.call(depth0,"__","No file selected",options)))+'</span>\n    <input type="file" name="',stack1=(helper=helpers.inputName)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.inputName)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'" ',!(stack1=helpers.if.call(depth0,depth0&&depth0.multiple,{hash:{},inverse:this.noop,fn:this.program(1,function(depth0,data){return"multiple"},data),data:data}))&&0!==stack1||(buffer+=stack1),
buffer+='>\n</div>\n\x3c!--<div class="grid-row" style="display:none;">--\x3e\n\x3c!--<ul class="file-list"></ul>--\x3e\n\x3c!--</div>--\x3e\n<div class="grid-row">\n    <div class="file-drop col-12" data-drop-msg="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Drop the files to upload",options):helperMissing.call(depth0,"__","Drop the files to upload",options)))+'">\n        <div class="dragholder">\n            ~ '+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"or",options):helperMissing.call(depth0,"__","or",options))
)+" ~\n            <br/>\n            ",!(stack1=helpers.if.call(depth0,depth0&&depth0.multiple,{hash:{},inverse:this.program(5,function(depth0,data){var helper,options,buffer="";return buffer+="\n            "+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Drag file here",options):helperMissing.call(depth0,"__","Drag file here",options)))+"\n            "},data),fn:this.program(3,function(depth0,data){var helper,options,buffer="";return buffer+="\n            "+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Drag files here",options
):helperMissing.call(depth0,"__","Drag files here",options)))+"\n            "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n        </div>\n    </div>\n</div>\n<div class="grid-row">\n    <div class="progressbar col-12"></div>\n    <br/>\n</div>\n<div class="grid-row">\n    ',!(stack1=helpers.if.call(depth0,depth0&&depth0.showResetButton,{hash:{},inverse:this.noop,fn:this.program(7,function(depth0,data){var helper,options,buffer="";return buffer+='\n    <button type="button" class="btn-info btn-reset small"><span class="icon-eraser"></span>'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(
depth0,"Reset",options):helperMissing.call(depth0,"__","Reset",options)))+"</button>\n    "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n    ",!(stack1=helpers.if.call(depth0,depth0&&depth0.showUploadButton,{hash:{},inverse:this.noop,fn:this.program(9,function(depth0,data){var stack1,helper,buffer="";return buffer+='\n    <button class="btn-success btn-upload small"><span class="icon-upload"></span>',stack1=(helper=helpers.uploadBtnText)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.uploadBtnText)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"</button>\n    "},data),
data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n</div>"});Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template$1=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var helper,buffer="",escapeExpression=this.escapeExpression;return buffer+='<li data-file-name="',buffer+=escapeExpression((helper=helpers.name)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.name)?helper.call(depth0,{hash:{},data:data}):helper)+'">\n    ',buffer+=escapeExpression((helper=helpers.name)?helper.call(
depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.name)?helper.call(depth0,{hash:{},data:data}):helper)+'\n    <span class="size">',buffer+=escapeExpression((helper=helpers.size)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.size)?helper.call(depth0,{hash:{},data:data}):helper)+'</span>\n    <span class="status"></span>\n    <a href="#" data-role="delete"><span class="icon-close"></span></a>\n</li>\n'});var ns="uploader",dataNs="ui."+ns,defaults={upload:!0,read:!1,multiple:!1,uploadQueueSize:3,inputName:"content",showResetButton:!0,showUploadButton:!0,browseBtnClass:"btn-browse",
uploadBtnClass:"btn-upload",resetBtnClass:"btn-reset",fileNameClass:"file-name",dropZoneClass:"file-drop",progressBarClass:"progressbar",dragOverClass:"drag-hover",formAttributes:{class:"uploader uploaderContainer"},defaultErrMsg:__("Unable to upload file"),uploadBtnText:__("Upload"),fileSelect:function(files,done){return _.isFunction(done)?done(files):files}},tests={filereader:"undefined"!=typeof FileReader,dnd:"draggable"in document.createElement("span")},uploader={init:function(options){var self=uploader;return options=_.defaults(options||{},defaults),this.each(function(){var $builtInForm,$elt=$$1(this);if(!$elt.data(dataNs)){$elt.html(function(data,
options){var html=Template(data,options);return html}(options)),($builtInForm=options.$form&&options.$form.length?options.$form:$elt.find("form")).length||($builtInForm=$elt.closest("form")),$builtInForm.length||($elt.wrap($$1("<form>",options.formAttributes)),$builtInForm=$elt.parent()),options.$input=$$1("input[type=file]",$elt),options.$browseBtn=$$1("."+options.browseBtnClass,$elt),options.$fileName=$$1("."+options.fileNameClass,$elt),options.$dropZone=$$1("."+options.dropZoneClass,$elt),options.$progressBar=$$1("."+options.progressBarClass,$elt),options.$form=$builtInForm,options.$uploadBtn=$$1("."+options.uploadBtnClass,$elt),options.$resetBtn=$$1(
"."+options.resetBtnClass,$elt),options.useDropZone=tests.dnd,options.dropZonePlaceholder=options.$dropZone.html(),options.fileNamePlaceholder=options.$fileName.text(),options.files=[],$elt.data(dataNs,options),self._reset($elt);var dragOutHandler=function(e){e.preventDefault(),e.stopPropagation(),options.$dropZone.removeClass(options.dragOverClass)};if(!tests.filereader)throw new Error("FileReader API not supported! Please use a compliant browser!");options.$input.on("change",function(e){var finalFiles=[];_.forEach(e.target.files,function(file){finalFiles.push(file)}),self._selectFiles($elt,finalFiles)}),options.$input.on("mousedown",function(e){
return e.preventDefault(),$$1(this).blur(),!1}),options.useDropZone?($$1(document).off("drop."+ns).on("drop."+ns,function(e){return e.stopImmediatePropagation(),e.preventDefault(),!1}),$$1(document).off("dragover."+ns).on("dragover."+ns,function(e){return e.stopImmediatePropagation(),e.preventDefault(),!1}),options.$dropZone.on("dragover",function(e){e.preventDefault(),e.stopPropagation(),options.$dropZone.addClass(options.dragOverClass)}).on("dragend",dragOutHandler).on("dragleave",dragOutHandler).on("drop",function(e){var files=[];if(dragOutHandler(e),e.target.files?files=_.values(e.target.files):e.originalEvent.files?files=_.values(e.originalEvent.files
):e.originalEvent.dataTransfer&&e.originalEvent.dataTransfer.files&&(files=_.values(e.originalEvent.dataTransfer.files)),files&&files.length){var append=0<options.$dropZone.children("ul").length;options.multiple||(append=!(files=[files[0]])),self._selectFiles($elt,files,append)}return!1})):options.$dropZone.hide(),$elt.on("fileselect."+ns,function(){0===options.files.length&&self._reset($elt),options.upload&&options.$uploadBtn.off("click").on("click",function(e){e.preventDefault(),self._upload($elt,options.files)}).removeProp("disabled"),options.read&&self._read($elt,options.files),options.$resetBtn.off("click").on("click",function(e){e.preventDefault(),
self._reset($elt)}).removeProp("disabled")}),$elt.trigger("create."+ns)}})},_selectFiles:function($elt,files,append){var listContent,self=this,options=$elt.data(dataNs),updateFileName=function(){var length=options.files.length;options.$fileName.text(length+" "+__(1<length?"files selected":"file selected")).removeClass("placeholder")};files.length<=0&&!append&&self._reset($elt),0<files.length&&options.fileSelect.call($elt,files,function(filteredFiles){options.files=append?options.files.concat(filteredFiles):filteredFiles,options.useDropZone?(updateFileName(),listContent=_.reduce(filteredFiles,function(acc,file){return acc+function(data,options){
var html=Template$1(data,options);return html}({name:file.name,size:bytes.hrSize(file.size)})},""),append?options.$dropZone.children("ul").append(listContent):options.$dropZone.html("<ul>"+listContent+"</ul>"),options.$dropZone.off("click."+ns).on("click."+ns,"[data-role=delete]",function(e){var $fileEntry=$$1(this).parent(),name=$fileEntry.data("file-name");e.preventDefault(),e.stopPropagation(),name&&(options.files=_.reject(options.files,{name:name}),0===options.files.length?self._reset($elt):updateFileName(),$fileEntry.remove())})):(options.files=options.files.slice(0,1),options.$fileName.text(files[0].name).removeClass("placeholder")),$elt.trigger(
"fileselect."+ns)})},_files:function($elt){var files=[],options=$elt.data(dataNs);return options&&(files=options.files),files},_reset:function($elt){var options=$elt.data(dataNs);options.$fileName.text(options.fileNamePlaceholder).addClass("placeholder"),options.$dropZone.empty().html(options.dropZonePlaceholder),options.$uploadBtn.prop("disabled",!0),options.$resetBtn.prop("disabled",!0),options.$progressBar&&options.$progressBar.removeClass("success").progressbar("destroy").progressbar({value:0}),$elt.trigger("reset."+ns)},_upload:function($elt){var length,$fileEntries,entryHeight,q,errors=[],options=$elt.data(dataNs);options&&options.files.length&&(
length=options.files.length,$fileEntries=$$1("ul",options.$dropZone),entryHeight=$$1("li:first",$fileEntries).outerHeight(),q=async.queue(function(file,done){var $fileEntry=$$1('li[data-file-name="'+file.name+'"]',$fileEntries),$status=$$1(".status",$fileEntry),index=$fileEntries.children().index($fileEntry);options.$dropZone.stop(!0,!0).animate({scrollTop:index*entryHeight},25),$status.removeClass("success").removeClass("error").addClass("sending"),options.$form.sendfile({url:options.uploadUrl,file:file,loaded:function(result){$status.removeClass("sending").removeClass("error").addClass("success"),done(null,result)},failed:function(message){
message=message||options.defaultErrMsg,$status.removeClass("sending").removeClass("success").addClass("error").attr("title",message),done(new Error(message))}})},options.uploadQueueSize||1),options.$uploadBtn.prop("disabled",!0),options.$resetBtn.prop("disabled",!0),options.$progressBar.progressbar("value",0),_.forEach(options.files,function(file,index){_.delay(function(){q.push(file,function(err,result){var complete=(index+1)/length*100;err?(errors.push(err),$elt.trigger("fail."+ns,[file,err])):$elt.trigger("upload."+ns,[file,result]),options.$progressBar.progressbar("value",complete),100<=complete&&(errors.length===length?options.$progressBar.addClass(
"error"):0<errors.length?options.$progressBar.addClass("warning"):options.$progressBar.addClass("success"),$elt.trigger("end."+ns))})},50)}))},_read:function($elt){var options=$elt.data(dataNs);options&&options.files.length&&_.forEach(options.files,function(file){file.name,file.size,file.type;var reader=new FileReader;reader.onload=function(e){options.$progressBar.progressbar("value",100),$elt.trigger("readend."+ns,[file,e.target.result])},reader.onloadstart=function(e){options.$progressBar.progressbar("value",0),$elt.trigger("readstart."+ns,[file])},options.$progressBar.length&&(reader.onprogress=function(e){var percentProgress=Math.ceil(Math.round(e.loaded
)/Math.round(e.total)*100);options.$progressBar.progressbar("value",percentProgress)}),reader.readAsDataURL(file)})},destroy:function(){this.each(function(){var $elt=$$1(this);$$1(document).off("drop."+ns).off("dragover."+ns),$elt.empty(),$elt.trigger("destroy."+ns)})}};Pluginifier.register(ns,uploader,{expose:["reset","selectFiles","upload","read"]})}),define("taoTestCenter/component/eligibilityImport",["jquery","lodash","i18n","module","helpers","uri","ui/component","tpl!taoTestCenter/component/eligibilityImport/layout","ui/feedback","ui/report","layout/loading-bar","async","ui/modal","css!taoTestCenterCss/eligibilityEditor","ui/uploader"],function($,_,__,
module,helpers,uri,component,layoutTpl,feedback,reportFactory,loadingBar,async){"use strict";var _ns=".eligibility-import",_fileTypeFilters=["text/csv","application/vnd.ms-excel"],_fileExtFilter=/.+\.(csv)$/,_modalDefaults={width:600};return function(datatable,testCenterId){var eligibilityImport,config={uploadUrl:helpers._url("import","TestCenterManager","taoTestCenter",{uri:testCenterId})};if(_.isEmpty(testCenterId))throw new TypeError("The eligibility provider needs to be initialized with a test center");var destroyModal=function(){eligibilityImport&&eligibilityImport.getElement()&&(datatable.trigger("reload"),eligibilityImport.getElement().modal("destroy"
).remove())};var initModal=function(modalConfig){modalConfig=_.defaults(modalConfig||{},_modalDefaults),eligibilityImport&&eligibilityImport.getElement()&&eligibilityImport.getElement().addClass("modal").on("closed.modal",destroyModal).modal(modalConfig),function(){var errors=[],$uploader=$("#upload-container"),$reportContainer=$(".report-container");$uploader.on("upload.uploader",function(e,file,data){return reportFactory({actions:[{id:"continue",icon:"right",title:"continue",label:__("Continue")}]},data.report).on("action-continue",function(){destroyModal()}).render($reportContainer.find(".report"))}).on("fail.uploader",function(e,file,err){errors.push(__(
"Unable to upload file %s : %s",file.name,err))}).on("end.uploader",function(){0<errors.length&&feedback().error(function(errors){return"<ul><li>"+errors.join("</li><li>")+"</li></ul>"}(errors),{encodeHtml:!1}),errors=[]}),$uploader.uploader({upload:!0,uploadUrl:config.uploadUrl,fileSelect:function(files,done){var givenLength=files.length;(files=_.filter(files,function(file){var checkType=file.type.replace(/("|')/g,"");return _.contains(_fileTypeFilters,checkType)||""===checkType&&_fileExtFilter.test(file.name)})).length!==givenLength&&feedback().error("Invalid files have been removed"),async.filter(files,function(file,cb){cb(!0)},done)}})}()}
;return eligibilityImport=component({add:function($container,options){return this.on("render",function(){var self=this;options=_.defaults(options||{},this.config),initModal({width:650}),this.$component.on("click"+_ns,".actions .done",function(e){e.preventDefault(),destroyModal()}).on("click"+_ns,".actions .cancel",function(e){e.preventDefault(),destroyModal(),self.trigger("cancel")}),this.trigger("open")}).init({title:__("Import Eligibilities from csv file."),editingMode:!1}).render($container).resize()},resize:function(){return eligibilityImport.getElement().css({top:"40px","overflow-y":"auto"}),eligibilityImport.getElement().css("max-height",$(window
).height()-2*parseInt(eligibilityImport.getElement().css("top"),10)+"px"),this}},config).setTemplate(layoutTpl)}}),define("taoTestCenter/provider/eligibility",["jquery","lodash","helpers","core/promise"],function($,_,helpers,Promise){"use strict";var request=function(action,parameters){return $.ajax({url:helpers._url(action,"TestCenterManager","taoTestCenter"),data:parameters,dataType:"json",type:"POST"})};return function(testCenterId){if(_.isEmpty(testCenterId))throw new TypeError("The eligibility provider needs to be initialized with a test center");return{addEligibilities:function(eligibilities){return new Promise(function(resolve,reject){if(
!_.isPlainObject(eligibilities))return reject(new TypeError("Invalid eligibility"));request("addEligibilities",{uri:testCenterId,eligibility:eligibilities}).success(resolve).fail(function(xhr){return reject(new Error(xhr.responseText))})})},editEligibility:function(eligibility){return new Promise(function(resolve,reject){if(!_.isPlainObject(eligibility))return reject(new TypeError("Invalid eligibility"));request("editEligibilities",{uri:testCenterId,eligibility:eligibility}).success(resolve).fail(function(xhr){return reject(new Error(xhr.responseText))})})},removeEligibility:function(eligibility){return new Promise(function(resolve,reject){if(
!_.isPlainObject(eligibility))return reject(new TypeError("Invalid eligibility"));request("removeEligibilities",{uri:testCenterId,eligibility:eligibility}).success(resolve).fail(function(xhr){return reject(new Error(xhr.responseText))})})},shieldEligibility:function(eligibilityId){return new Promise(function(resolve,reject){_.isString(eligibilityId)||reject(new TypeError("Invalid eligibility")),request("shieldEligibility",{uri:testCenterId,eligibility:eligibilityId}).success(resolve).fail(function(xhr){return reject(new Error(xhr.responseText))})})},unshieldEligibility:function(eligibilityId){return new Promise(function(resolve,reject){_.isString(
eligibilityId)||reject(new TypeError("Invalid eligibility")),request("unshieldEligibility",{uri:testCenterId,eligibility:eligibilityId}).success(resolve).fail(function(xhr){return reject(new Error(xhr.responseText))})})}}}}),define("taoTestCenter/controller/TestCenterManager/editCenter",["jquery","lodash","i18n","layout/loading-bar","ui/feedback","taoTestCenter/component/eligibilityEditor","taoTestCenter/component/eligibilityTable","taoTestCenter/component/eligibilityImport","taoTestCenter/provider/eligibility"],function($,_,__,loadingBar,feedback,eligibilityEditorFactory,eligibilityTableFactory,eligibilityImportFactory,eligibilityProvider){"use strict"
;return{start:function(){var eligibilityTable,$container=$(".eligible-deliveries"),$tableContainer=$(".eligibility-table-container",$container),$editorContainer=$(".eligibility-editor-container",$container),$editorImportContainer=$(".eligibility-import-container",$container),testCenterId=$container.data("testcenter"),permissions=!1;$container.data("dacenabled")&&(permissions=$container.data("permissions"));var loading=function(){loadingBar.start()},loaded=function(){loadingBar.stop()},handleError=function(err){loaded(),feedback().error(err.message)},success=function(message){loaded(),feedback().success(message),eligibilityTable.trigger("reload")}
;eligibilityTable=eligibilityTableFactory(testCenterId,permissions).on("loading",loading).on("loaded",loaded).on("add",function(){var self=this;eligibilityEditorFactory().add($editorContainer).on("ok",function(eligibility){loading(),eligibilityProvider(testCenterId).addEligibilities(eligibility).then(function(response){loaded(),response.failed&&response.failed.length?feedback().warning(__("The following delivery(ies) are already eligible : ")+response.failed.join(", ")):feedback().success(__("New eligible delivery added")),self.trigger("reload")}).catch(handleError)})}).on("edit",function(eligibilityId,eligibilities){var eligibility=_.find(eligibilities,{
uri:eligibilityId});eligibilityEditorFactory().edit($editorContainer,eligibility.delivery.label,eligibility.testTakers).on("ok",function(updated){loading(),eligibilityProvider(testCenterId).editEligibility({deliveries:[eligibility.delivery.uri],testTakers:updated.testTakers}).then(function(response){success(__("Eligible test takers updated"))}).catch(handleError)})}).on("remove",function(eligibilityId,eligibilities){var eligibility=_.find(eligibilities,{uri:eligibilityId});loading(),eligibilityProvider(testCenterId).removeEligibility({deliveries:[eligibility.delivery.uri]}).then(function(){success(__("Eligible delivery removed"))}).catch(handleError)}).on(
"shield",function(eligibilityId){loading(),eligibilityProvider(testCenterId).shieldEligibility(eligibilityId).then(function(){success(__("Eligibility needs proctor authorization"))}).catch(handleError)}).on("unshield",function(eligibilityId){loading(),eligibilityProvider(testCenterId).unshieldEligibility(eligibilityId).then(function(){success(__("Eligibility don't need proctor authorization any more."))}).catch(handleError)}).on("import",function(){eligibilityImportFactory(this,testCenterId).add($editorImportContainer)}).init({}).render($tableContainer)}}}),function(c){var d=document,a="appendChild",i="styleSheet",s=d.createElement("style");s.type="text/css"
,d.getElementsByTagName("head")[0][a](s),s[i]?s[i].cssText=c:s[a](d.createTextNode(c))}(
'@charset "UTF-8";\n/*\nUsage:\n- linear-gradient((color1, color2, color3)) - returns linear-gradient with evenly distributed colors,\n   if 3 colors used then the position of each will be 33,33%\n- linear-gradient((color1 0%, color2 30%, color3 80%)) - returns linear-gradient with manually distributed colors,\n   first param - color, second - position. Also you can use px or other valid units for set position.\n*/\n/* Do not edit */\n/* Style of advanced components */\n/* toggler */\n.toggler:after {\n  margin-left: 3px;\n  position: relative;\n  top: 2px;\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: "tao" !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  content: "";\n}\n.toggler.opened:after {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: "tao" !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  content: "";\n}\n\n.toggled {\n  display: none;\n}\n\n/* Adder */\n.adder:before {\n  margin-right: 5px;\n  font-size: 10.5px;\n  font-size: 1.05rem;\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: "tao" !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  content: "";\n}\n\n/* Closer / Deleter */\n.closer:before, .deleter:before {\n  margin-right: 5px;\n  font-size: 10.5px;\n  font-size: 1.05rem;\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: "tao" !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  content: "";\n}\n\n.undobox {\n  display: block;\n  position: fixed;\n  top: 50px;\n  left: 50%;\n  margin-left: -200px;\n  width: 400px;\n  z-index: 100005;\n}\n\n/* Incrementer and duration */\ninput[data-increment], input.duration-ctrl {\n  width: 40px !important;\n  min-width: 40px !important;\n  text-align: right;\n}\n\n.duration-ctrl-wrapper, .incrementer-ctrl-wrapper {\n  position: relative;\n  display: inline-block;\n  border: 1px solid #ddd;\n  border-radius: 2px;\n  border-radius: 2px;\n}\n.duration-ctrl-wrapper .incrementer, .incrementer-ctrl-wrapper .incrementer {\n  text-align: right;\n  border: none;\n  padding-right: 18px;\n}\n.duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl, .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl {\n  border-left: 1px #ddd solid;\n  display: inline-block;\n  height: 100%;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a, .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a {\n  outline: 0 !important;\n  cursor: pointer;\n  display: inline-block;\n  line-height: 13px;\n  color: #222;\n  background: #f3f1ef;\n  padding: 0 4px 0 4px;\n  font-size: 10.5px;\n  font-size: 1.05rem;\n  position: absolute;\n  right: 0;\n  height: 50%;\n  text-align: center;\n}\n.duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a.inc, .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a.inc {\n  top: 0;\n  border-top-right-radius: 2px;\n}\n.duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a.dec, .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a.dec {\n  top: 50%;\n  border-bottom-right-radius: 2px;\n}\n.duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a.inc:before, .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a.inc:before {\n  position: relative;\n  bottom: 0px;\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: "tao" !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  content: "";\n}\n.duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a.dec:before, .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a.dec:before {\n  position: relative;\n  top: 0px;\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: "tao" !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  content: "";\n}\n.duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a:hover, .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a:hover {\n  background-color: #3e7da7;\n  color: white;\n}\n\n.duration-ctrl-wrapper ~ .separator {\n  padding: 0 3px;\n  text-align: center;\n  opacity: 0.7;\n}\n\n/* InPlacer */\n[data-in-place], .inplace {\n  cursor: pointer;\n  min-height: 1em;\n}\n[data-in-place] input, .inplace input {\n  cursor: auto;\n}\n[data-in-place]:hover, .inplace:hover {\n  border: dotted 1px #3e7da7;\n}\n\n/* ListBox  */\nul.listbox {\n  margin: 0.1em 0;\n  padding: 0;\n  list-style-type: none;\n  display: block;\n}\nul.listbox > li {\n  white-space: no-wrap;\n  position: relative;\n  min-width: 75%;\n  border: solid 1px #ddd;\n  border-bottom-width: 0;\n  vertical-align: top;\n  margin: 0;\n  padding: 0.3em 2em 0.3em 0.2em;\n  background-color: #f3f1ef;\n  min-height: 1.5em;\n}\nul.listbox > li > .closer, ul.listbox > li > .deleter {\n  position: absolute;\n  right: 5px;\n  top: 0;\n}\nul.listbox > li:first-child {\n  border-radius: 2px 2px 0 0;\n}\nul.listbox > li:last-child {\n  border-radius: 0 0 2px 2px;\n  border-bottom-width: 1px;\n}\nul.listbox > li.placeholder {\n  background: none;\n  margin: 0.5em;\n  opacity: 0.6;\n}\n\n/* Modal styles */\n.modal {\n  background-color: white;\n  border: 1px solid #ddd;\n  box-shadow: 3px 3px 5px #666666;\n  height: auto;\n  opacity: 0;\n  top: -1000px;\n  padding: 40px;\n  position: fixed;\n  z-index: 105002;\n  margin: auto;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n}\n.modal .modal-close {\n  position: absolute;\n  right: 12px;\n  top: 10px;\n  cursor: pointer;\n  font-weight: bold;\n  color: #222;\n  font-size: 20px;\n  font-size: 2rem;\n}\n.modal .modal-close:hover {\n  opacity: 0.6;\n}\n.modal .modal-body h4 {\n  font-size: 16px;\n  font-size: 1.6rem;\n  margin-top: 0;\n  margin-bottom: 8px;\n}\n.modal .modal-body .content, .modal .modal-body .message {\n  margin-bottom: 8px;\n}\n.modal .modal-body .buttons {\n  top: 16px;\n  position: relative;\n}\n.modal .modal-body .buttons button {\n  border-radius: 2px;\n  margin-left: 8px;\n  height: 36px;\n  text-shadow: none;\n  text-transform: uppercase;\n  color: #0e5d91 !important;\n  background: none;\n}\n.modal .modal-body .buttons button:focus, .modal .modal-body .buttons button:hover {\n  background: #dbe7ef;\n}\n.modal[class^=icon-]:before, .modal[class*=" icon-"]:before {\n  font-size: 44px;\n  font-size: 4.4rem;\n  color: #0e5d91;\n  position: absolute;\n}\n.modal[class^=icon-].icon-result-nok:before, .modal[class*=" icon-"].icon-result-nok:before {\n  color: #ba122b;\n}\n.modal[class^=icon-].icon-warning:before, .modal[class*=" icon-"].icon-warning:before {\n  color: #c96043;\n}\n.modal[class^=icon-].icon-result-ok:before, .modal[class*=" icon-"].icon-result-ok:before {\n  color: #0e914b;\n}\n.modal[class^=icon-].error:before, .modal[class*=" icon-"].error:before {\n  color: #ba122b;\n}\n.modal[class^=icon-].danger:before, .modal[class*=" icon-"].danger:before {\n  color: #c96043;\n}\n.modal[class^=icon-].warning:before, .modal[class*=" icon-"].warning:before {\n  color: #d8ae5b;\n}\n.modal[class^=icon-].info:before, .modal[class*=" icon-"].info:before {\n  color: #0e5d91;\n}\n.modal[class^=icon-].success:before, .modal[class*=" icon-"].success:before {\n  color: #0e914b;\n}\n.modal[class^=icon-] .modal-body, .modal[class*=" icon-"] .modal-body {\n  font-family: "Franklin Gothic", "Franklin Gothic Medium", "Source Sans Pro", sans-serif !important;\n  line-height: 1.4;\n  margin-left: 8.5rem;\n}\n\n.modal-bg {\n  background: none repeat scroll 0 0 black;\n  opacity: 0.45;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=45)";\n  filter: alpha(opacity=45);\n  display: none;\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  left: 0;\n  top: 0;\n  z-index: 100001;\n  overflow: hidden;\n}\n\n/* Button groups */\nul[data-button-group], ul.button-group {\n  list-style-type: none;\n  padding: 0;\n  background-color: white;\n  border: 1px solid #ddd;\n  border-radius: 1px;\n  margin: 0 2px 2px 0;\n  display: inline-block;\n  border-radius: 2px;\n  font-size: 12px;\n  font-size: 1.2rem;\n}\nul[data-button-group] > li, ul.button-group > li {\n  border: 0 none;\n  color: #222;\n  cursor: pointer;\n  display: inline-block;\n  float: left;\n  min-width: 26px;\n  padding: 4px 6px;\n  text-align: center;\n  text-decoration: none !important;\n}\nul[data-button-group] > li.active, ul.button-group > li.active {\n  color: white;\n  background-color: #0e5d91;\n  transition: all 0.4s ease;\n}\nul[data-button-group] > li:hover, ul.button-group > li:hover {\n  color: white;\n  background-color: #3e7da7;\n  transition: all 0.4s ease;\n}\nul[data-button-group] > li.separator, ul.button-group > li.separator {\n  background-color: #ddd;\n  float: left;\n  height: 18px;\n  margin: 5px 2px 0 2px;\n  width: 1px;\n  min-width: 1px;\n  padding: 0;\n}\nul[data-button-group] > li[class^=icon-], ul[data-button-group] > li[class*=" icon-"], ul.button-group > li[class^=icon-], ul.button-group > li[class*=" icon-"] {\n  height: 16px;\n  margin-top: 1px;\n  width: 16px;\n  padding-top: 2px;\n}\n\n/* Media Preview */\n.previewer {\n  background-color: white;\n  margin: 5px;\n  min-width: 280px;\n  min-height: 200px;\n  text-align: center;\n}\n.previewer .nopreview {\n  color: #ddd;\n  text-align: center;\n  font-size: 20px;\n  font-size: 2rem;\n}\n.previewer .nopreview:before {\n  font-size: 60px;\n  font-size: 6rem;\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: "tao" !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  content: "";\n  display: block !important;\n}\n\n/* Progress bar */\n.progressbar {\n  height: 2em;\n  text-align: left;\n  border: none;\n  height: 0.8em;\n  background-color: white;\n  border: 1px solid #ddd;\n}\n.progressbar > span {\n  height: 100%;\n  border: none;\n  background-color: #3e7da7;\n  display: block;\n  color: white;\n  transition: width 0.4s ease 0s;\n}\n.progressbar.info > span {\n  background-color: #0e5d91;\n}\n.progressbar.success > span {\n  background-color: #0e914b;\n}\n.progressbar.warning > span {\n  background-color: #d8ae5b;\n}\n.progressbar.error > span {\n  background-color: #ba122b;\n}\n/*# sourceMappingURL=components.css.map *//*\n    * This program is free software; you can redistribute it and/or\n    * modify it under the terms of the GNU General Public License\n    * as published by the Free Software Foundation; under version 2\n    * of the License (non-upgradable).\n    *\n    * This program is distributed in the hope that it will be useful,\n    * but WITHOUT ANY WARRANTY; without even the implied warranty of\n    * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    * GNU General Public License for more details.\n    *\n    * You should have received a copy of the GNU General Public License\n    * along with this program; if not, write to the Free Software\n    * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n    *\n    * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n    *\n*/\n/*\nUsage:\n- linear-gradient((color1, color2, color3)) - returns linear-gradient with evenly distributed colors,\n   if 3 colors used then the position of each will be 33,33%\n- linear-gradient((color1 0%, color2 30%, color3 80%)) - returns linear-gradient with manually distributed colors,\n   first param - color, second - position. Also you can use px or other valid units for set position.\n*/\n/* Do not edit */\n.bulk-action-popup {\n  padding-bottom: 20px;\n}\n.bulk-action-popup h2.title {\n  margin-top: 0;\n  margin-bottom: 20px;\n}\n.bulk-action-popup .applicables, .bulk-action-popup .no-applicables {\n  max-height: 100px;\n  overflow-y: auto;\n  background: #DDD;\n  padding-top: 5px;\n  margin-bottom: 20px;\n}\n.bulk-action-popup .applicables .resource-label, .bulk-action-popup .no-applicables .resource-label {\n  padding: 6px 18px 0;\n}\n.bulk-action-popup .applicables li:last-child .resource-label, .bulk-action-popup .no-applicables li:last-child .resource-label {\n  padding-bottom: 6px;\n}\n.bulk-action-popup .categories {\n  margin-bottom: 10px;\n}\n.bulk-action-popup .comment textarea {\n  height: 80px;\n  width: 100%;\n  max-width: none;\n}\n.bulk-action-popup .cascading-combo-box .select2-container {\n  margin-right: 10px;\n}\n.bulk-action-popup .actions {\n  margin-top: 20px;\n}\n.bulk-action-popup .actions .btn {\n  float: right;\n  margin-left: 20px;\n}\n.bulk-action-popup .actions .btn.cancel {\n  position: relative;\n  top: 3px;\n}\n.bulk-action-popup .single .resource-label {\n  font-weight: bold;\n}\n.bulk-action-popup .multiple .resource-count {\n  font-weight: bold;\n}\n/*# sourceMappingURL=bulkActionPopup.css.map */@charset "UTF-8";\n/*\nUsage:\n- linear-gradient((color1, color2, color3)) - returns linear-gradient with evenly distributed colors,\n   if 3 colors used then the position of each will be 33,33%\n- linear-gradient((color1 0%, color2 30%, color3 80%)) - returns linear-gradient with manually distributed colors,\n   first param - color, second - position. Also you can use px or other valid units for set position.\n*/\n/* Do not edit */\n.datalist {\n  max-width: 1024px;\n  margin: auto;\n}\n.datalist h1 {\n  font-family: "Century Gothic", CenturyGothic, AppleGothic, sans-serif;\n  font-size: 22px;\n  font-size: 2.2rem;\n  font-weight: normal;\n}\n.datalist h2 {\n  font-family: "Century Gothic", CenturyGothic, AppleGothic, sans-serif;\n  font-size: 18px;\n  font-size: 1.8rem;\n  margin: 30px 0 10px;\n}\n.datalist .list {\n  width: 100%;\n}\n.datalist .list .action-bar {\n  margin: 10px 0;\n}\n.datalist .list .action-bar .btn-info {\n  overflow: hidden;\n  background: transparent;\n  border: 1px rgba(255, 255, 255, 0.3) solid;\n}\n.datalist .list table.matrix th {\n  vertical-align: top;\n}\n.datalist .list table.matrix tr.selected {\n  background: #a4bbc5;\n}\n.datalist .list table.hoverable tr:hover {\n  background: #e4ecef;\n  cursor: pointer;\n}\n.datalist .list table th {\n  cursor: not-allowed;\n}\n.datalist .list table th [data-sort-by] {\n  cursor: pointer;\n}\n.datalist .list table th .sorted:after {\n  float: right;\n}\n.datalist .list table th .sorted.sorted_asc::after {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: "tao" !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  content: "";\n}\n.datalist .list table th .sorted.sorted_desc::after {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: "tao" !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  content: "";\n}\n.datalist .list table tr.selected {\n  background: #a4bbc5;\n}\n.datalist .list table th.checkboxes,\n.datalist .list table td.checkboxes {\n  width: 20px;\n  text-align: center;\n}\n.datalist .list table th.actions,\n.datalist .list table td.actions {\n  text-align: center;\n  width: 20px;\n  overflow: visible;\n  padding: 2px 10px;\n}\n.datalist .list table th button,\n.datalist .list table td button {\n  text-transform: capitalize;\n}\n.datalist.loading .loading {\n  display: inline-block;\n}\n.datalist.loading .list, .datalist.loading .empty-list, .datalist.loading .available-list {\n  display: none;\n}\n.datalist.loaded .list, .datalist.loaded .available-list {\n  display: inline-block;\n}\n.datalist.loaded .loading, .datalist.loaded .empty-list {\n  display: none;\n}\n.datalist.empty .empty-list {\n  display: inline-block;\n}\n.datalist.empty .loading, .datalist.empty .list, .datalist.empty .available-list {\n  display: none;\n}\n.datalist.selectable td.label {\n  cursor: default;\n}\n/*# sourceMappingURL=datalist.css.map *//*\nUsage:\n- linear-gradient((color1, color2, color3)) - returns linear-gradient with evenly distributed colors,\n   if 3 colors used then the position of each will be 33,33%\n- linear-gradient((color1 0%, color2 30%, color3 80%)) - returns linear-gradient with manually distributed colors,\n   first param - color, second - position. Also you can use px or other valid units for set position.\n*/\n/* Do not edit */\n.pagination .pages {\n  display: box;\n  display: -webkit-flexbox;\n  display: flexbox;\n  display: -ms-flex;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  flex-pack: start;\n  justify-content: flex-start;\n  flex-line-pack: start;\n  align-content: flex-start;\n  flex-align: stretch;\n  align-items: stretch;\n  justify-content: center;\n  padding-left: 0;\n  margin: 15px 0;\n  font-weight: bold;\n}\n.pagination .pages > li {\n  display: inline;\n}\n.pagination .pages > li > a,\n.pagination .pages > li > span {\n  cursor: pointer;\n  position: relative;\n  float: left;\n  padding: 5px 15px;\n  line-height: 1.4;\n  text-decoration: none;\n  margin-left: -1px;\n  color: #222;\n}\n.pagination .pages > li:first-child > a,\n.pagination .pages > li:first-child > span {\n  margin-left: 0;\n}\n.pagination .pages > li > a:hover, .pagination .pages > li > a:focus {\n  color: #222;\n}\n.pagination .pages > .active > a, .pagination .pages > .active > a:hover, .pagination .pages > .active > a:focus,\n.pagination .pages > .active > span,\n.pagination .pages > .active > span:hover,\n.pagination .pages > .active > span:focus {\n  z-index: 2;\n  color: #ada194;\n  cursor: default;\n}\n.pagination .pages > .disabled > span,\n.pagination .pages > .disabled > span:hover,\n.pagination .pages > .disabled > span:focus,\n.pagination .pages > .disabled > a,\n.pagination .pages > .disabled > a:hover,\n.pagination .pages > .disabled > a:focus {\n  color: #ada194;\n  cursor: not-allowed;\n  background-color: white;\n}\n\n.pagination-lg .pages > li {\n  display: inline;\n}\n.pagination-lg .pages > li > a,\n.pagination-lg .pages > li > span {\n  padding: 10px 25px;\n  font-size: 20px;\n  font-size: 2rem;\n}\n.pagination-lg .pages > li:first-child > a,\n.pagination-lg .pages > li:first-child > span {\n  margin-left: 0;\n}\n\n.pagination-sm .pages > li {\n  display: inline;\n}\n.pagination-sm .pages > li > a,\n.pagination-sm .pages > li > span {\n  padding: 5px 18px;\n  font-size: 12px;\n  font-size: 1.2rem;\n}\n.pagination-sm .pages > li:first-child > a,\n.pagination-sm .pages > li:first-child > span {\n  margin-left: 0;\n}\n/*# sourceMappingURL=pagination.css.map */@charset "UTF-8";\n/*\nUsage:\n- linear-gradient((color1, color2, color3)) - returns linear-gradient with evenly distributed colors,\n   if 3 colors used then the position of each will be 33,33%\n- linear-gradient((color1 0%, color2 30%, color3 80%)) - returns linear-gradient with manually distributed colors,\n   first param - color, second - position. Also you can use px or other valid units for set position.\n*/\n/* Do not edit */\n.datatable-wrapper .datatable-header {\n  display: -ms-flex;\n  display: flex;\n  -ms-align-items: center;\n  align-items: center;\n  -ms-justify-content: space-between;\n  justify-content: space-between;\n}\n.datatable-wrapper h2 {\n  font-family: "Century Gothic", CenturyGothic, AppleGothic, sans-serif;\n  font-size: 18px;\n  font-size: 1.8rem;\n  margin: 30px 0 10px;\n}\n.datatable-wrapper .action-bar {\n  margin: 10px 0;\n}\n.datatable-wrapper .action-bar .btn-info {\n  overflow: hidden;\n  background: transparent;\n  border: 1px rgba(255, 255, 255, 0.3) solid;\n}\n.datatable-wrapper .filter {\n  display: inline-block;\n  position: relative;\n  text-align: right;\n  width: 100%;\n  margin-bottom: 10px;\n}\n.datatable-wrapper .filter input {\n  padding-right: 30px;\n  min-width: 250px;\n}\n.datatable-wrapper .filter button {\n  position: absolute;\n  right: 1px;\n  top: -1px;\n  cursor: default;\n  opacity: 0.5;\n  background: transparent;\n  width: 25px;\n  height: 25px;\n}\n.datatable-wrapper .filter button:before {\n  color: #666;\n}\n.datatable-wrapper .filter.column {\n  float: none;\n  width: auto;\n  text-align: left;\n  margin-bottom: 0;\n}\n.datatable-wrapper .filter.column input {\n  min-width: inherit;\n}\n.datatable-wrapper .datatable-pagination-bottom,\n.datatable-wrapper .datatable-pagination-top {\n  overflow-x: hidden;\n}\n\n.datatable-container {\n  overflow-y: auto;\n}\n.datatable-container .empty {\n  text-align: center;\n  margin: 2rem 0;\n}\n\ntable.datatable.matrix th {\n  vertical-align: top;\n  padding: 2px 2px;\n}\ntable.datatable.matrix tr.selected {\n  background: #a4bbc5;\n}\ntable.datatable.hoverable tr:hover {\n  background: #e4ecef;\n  cursor: pointer;\n}\ntable.datatable th {\n  cursor: not-allowed;\n}\ntable.datatable th .sortable, table.datatable th .sorted {\n  cursor: pointer;\n  position: relative;\n  padding-right: 20px;\n}\ntable.datatable th .sortable:after, table.datatable th .sorted:after {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: "tao" !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  position: absolute;\n  right: 5px;\n  color: #a4a9b1;\n}\ntable.datatable th .sortable:hover:after, table.datatable th .sortable:active:after, table.datatable th .sortable:focus:after, table.datatable th .sorted:hover:after, table.datatable th .sorted:active:after, table.datatable th .sorted:focus:after {\n  color: #3e7da7;\n}\ntable.datatable th .sortable:after {\n  content: "";\n  top: 3px;\n}\ntable.datatable th .sorted.sorted_asc:after {\n  content: "";\n}\ntable.datatable th .sorted.sorted_desc:after {\n  content: "";\n}\ntable.datatable tr.selected {\n  background: #a4bbc5;\n}\ntable.datatable tr.highlight {\n  background-color: #f7efde !important;\n}\ntable.datatable th.checkboxes,\ntable.datatable td.checkboxes {\n  width: 20px;\n  text-align: center;\n}\ntable.datatable th.actions,\ntable.datatable td.actions {\n  text-align: center;\n}\ntable.datatable th button,\ntable.datatable td button {\n  text-transform: capitalize;\n}\ntable.datatable th [class^=icon-],\ntable.datatable th [class*=" icon-"],\ntable.datatable td [class^=icon-],\ntable.datatable td [class*=" icon-"] {\n  width: 14px;\n  display: inline-block;\n  text-align: center;\n}\n/*# sourceMappingURL=datatable.css.map *//*\nUsage:\n- linear-gradient((color1, color2, color3)) - returns linear-gradient with evenly distributed colors,\n   if 3 colors used then the position of each will be 33,33%\n- linear-gradient((color1 0%, color2 30%, color3 80%)) - returns linear-gradient with manually distributed colors,\n   first param - color, second - position. Also you can use px or other valid units for set position.\n*/\n/* Do not edit */\n.listbox {\n  max-width: 1024px;\n  margin: auto;\n}\n.listbox h1 {\n  font-family: "Century Gothic", CenturyGothic, AppleGothic, sans-serif;\n  font-size: 22px;\n  font-size: 2.2rem;\n  font-weight: normal;\n}\n.listbox h2 {\n  font-family: "Century Gothic", CenturyGothic, AppleGothic, sans-serif;\n  font-size: 18px;\n  font-size: 1.8rem;\n  margin: 30px 0 10px;\n}\n.listbox .list {\n  width: 100%;\n}\n.listbox .box {\n  border: 1px solid #ddd;\n  border-radius: 2px;\n  -webkit-border-radius: 2px;\n  background: #f3f1ef;\n  margin-bottom: 20px;\n  padding: 20px;\n  position: relative;\n}\n.listbox .list-box h1, .listbox .list-box h3 {\n  font-size: 20px;\n  font-size: 2rem;\n  margin-bottom: 7px;\n  color: #0e5d91;\n  text-shadow: 1px 1px 1px #fff;\n}\n.listbox .list-box .text-link {\n  position: absolute;\n  right: -1px;\n  bottom: -1px;\n  padding: 20px 20px 8px 20px;\n  text-align: right;\n  min-width: 100px;\n  border-bottom: 3px solid;\n  color: #3e7da7;\n  outline: 0;\n}\n.listbox .list-box .text-link:hover {\n  color: #0e5d91;\n}\n.listbox .list-box .text-link [class*=" icon-"], .listbox .list-box .text-link [class^=icon-] {\n  margin-right: 10px;\n}\n.listbox .list-box a {\n  min-height: 150px;\n}\n.listbox .list-box .box {\n  padding-left: 40px;\n}\n.listbox .list-box .box:before, .listbox .list-box .box:after {\n  content: "";\n  height: 37.5px;\n  border: solid transparent;\n  border-top-width: 18.75px;\n  border-bottom-width: 18.75px;\n  position: absolute;\n  left: -1px;\n  top: 54px;\n  z-index: 2;\n}\n.listbox .list-box .box:before {\n  border-left-color: #ddd;\n  width: 20px;\n  border-right-width: 10px;\n  border-left-width: 10px;\n  left: 0px;\n}\n.listbox .list-box .box:after {\n  border-left-color: white;\n  width: 20px;\n  border-right-width: 10px;\n  border-left-width: 10px;\n}\n.listbox.loading .loading {\n  display: inline-block;\n}\n.listbox.loading .list, .listbox.loading .empty-list, .listbox.loading .available-list {\n  display: none;\n}\n.listbox.loaded .list, .listbox.loaded .available-list {\n  display: inline-block;\n}\n.listbox.loaded .loading, .listbox.loaded .empty-list {\n  display: none;\n}\n.listbox.empty .empty-list {\n  display: inline-block;\n}\n.listbox.empty .loading, .listbox.empty .list, .listbox.empty .available-list {\n  display: none;\n}\n/*# sourceMappingURL=listbox.css.map */.eligibility-editor h2.title{margin-top:0}.eligibility-editor .tree-container label{top:10px}.eligibility-editor .tree{border:none}.eligibility-editor .eligible-delivery{margin-left:0}.eligibility-editor.editing .eligible-delivery{display:none}.eligibility-editor.editing .eligible-testTaker{margin-left:0}.eligibility-editor.editing .eligible-testTaker .delivery-name{font-weight:bold}.eligibility-editor .actions{margin-top:20px}.eligibility-editor .actions .btn{float:right;margin-left:20px}.eligibility-editor .actions .btn.cancel{position:relative;top:3px}\n\n/*# sourceMappingURL=eligibilityEditor.css.map */.eligible-deliveries th:last-child{text-align:center}.eligible-deliveries td.status{text-align:center;width:48px}.eligible-deliveries td.status>span{font-size:18px;font-size:1.8rem;vertical-align:bottom}\n\n/*# sourceMappingURL=eligibilityTable.css.map */'
),define("taoTestCenter/loader/taoTestCenter.bundle",function(){}),define("taoTestCenter/loader/taoTestCenter.min",["taoProctoring/loader/taoProctoring.min"],function(){});
//# sourceMappingURL=taoTestCenter.min.js.map